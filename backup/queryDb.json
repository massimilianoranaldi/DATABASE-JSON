[
  {
    "id": "1",
    "nomeCapitolo": "FIXED CRP: ESTRAZIONE EVENTI VERSO KENAN - FOCUS DATA ATTIVAZIONE/CESSAZIONE SCENARIO NP INTERNA",
    "paragrafi": [
      {
        "id": "1.1",
        "nomeParagrafo": "Estrae eventi verso il billing, con evidenza data attivazione/cessazione per int id. Utilizzata nello scenario di NP interna",
        "codicePlSql": "select distinct \nextractvalue(xmltype(m.message_xml),'descendant::ns0:idCliente','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as idCliente,\nd.value as order_id, \n--r.id as root_id, \n--r.name as root_name,\na.id,a.name, \nr.ts_created,\n(select extractValue(xmltype(document_xml),'ns0:commercialOrder/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/common/CommercialOrder') from request_doc where id=r.document_id) as tipo_ordine,\n--(select extractValue(xmltype(document_xml),'ns0:commercialOrder/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/common/CommercialOrder') from request_doc where id=r.document_id) as sottotipo_ordine,\n--(select extractValue(xmltype(document_xml),'ns0:commercialOrder/ns0:order/ns0:causaleOrdine','xmlns:ns0=http://phoenix.wind.it/common/CommercialOrder') from request_doc where id=r.document_id) as causale_ordine,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:extIdSI','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as extId_si,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:numeroTelefono','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as numeroTelefono,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:dataAttivazione','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as dataAttivazione,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:dataCessazione','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as dataCessazione,\nextractvalue(value(t),'ns0:billingElement/ns0:extIdBE','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as extid_BE,\n--extractvalue(value(t),'ns0:billingElement/ns0:typeOpBE','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as type_op_BE,\n--extractvalue(value(t),'ns0:billingElement/ns0:idBE','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as id_BE,\n--extractvalue(value(t),'ns0:billingElement/ns0:dtAttivazione','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as dtAttivazione_BE,\n--extractvalue(value(t),'ns0:billingElement/ns0:dtCessazione','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as dtCessazione_BE\n--extractvalue(value(t),'ns0:billingElement/ns0:idOrdine','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as idordine_BE\nextractvalue(xmltype(m.message_xml),'descendant::ns0:CRMtipoSI','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as CRMtipoSI,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:CRMsottotipoSI','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as CRMsottotipoSI\nfrom request r, detail d, request r1, action a, action_msg m,\nTABLE ( XMLSEQUENCE(EXTRACT(xmltype(m.message_XML),'descendant::ns0:billingElement', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement'))) t\nwhere r.id=d.root_id\nand d.name='id_odl_crm'\nand \n(\n    d.value in (-- attivazioni \n        /*'1-612511851773',\n        '1-615564746976',\n        '1-616074838718',\n        '1-615892073226',\n        '1-616676666948',\n        '1-617812697738',\n        '1-614841180873',\n        '1-617227516783', \n        '1-617379290097', \n        '1-617893341026',*/\n             '1-614940023375' -- '1-619157290421'\n) \n     or\n    d.value in ( -- cessazioni \n             '1-618125223280'--,--     \n            /* '1-617947246902',--     \n             '1-617560729470',--\n             '1-618439781329',--\n             '1-618822370337',--    live\n             '1-619066680576',--     \n             '1-616486927246',--     \n             '1-616198469176',--     \n             '1-619639156003',--    live\n             '1-619157290421'  */\n        )\n)\nand r.id=r1.root_id\nand r1.id=a.request_id\nand a.message_id=m.id\nand a.system='kenan'\nand a.direction='outbound'\norder by idcliente,tipo_ordine,numerotelefono;",
        "outPutSql": "IDCLIENTE\tORDER_ID\tID\tNAME\tTS_CREATED\tTIPO_ORDINE\tEXTID_SI\tNUMEROTELEFONO\tDATAATTIVAZIONE\tDATACESSAZIONE\tEXTID_BE\tCRMTIPOSI\tCRMSOTTOTIPOSI\n559061075\t1-618822370337\t69186009984\tDeactivation Service Instance\t01-MAR-24 08.23.28.045127000 PM\tCessazione\t1,60871E+12\tA21608711970339\t\t2024-03-01T20:25:54+01:00\t1,61E+12\tTE\tAPPCON\n559061075\t1-618822370337\t69186009984\tDeactivation Service Instance\t01-MAR-24 08.23.28.045127000 PM\tCessazione\t1,60871E+12\tA21608711970339\t\t2024-03-01T20:25:54+01:00\t1,61E+12\tTE\tAPPCON\n601099904\t1-619639156003\t69284458659\tDeactivation Service Instance\t12-MAR-24 12.59.08.273482000 PM\tCessazione\t1,56275E+12\t415401001\t\t2024-02-26T00:00:00+01:00\t1,56E+12\tTC\tSVOIP\n601099904\t1-619639156003\t69284458659\tDeactivation Service Instance\t12-MAR-24 12.59.08.273482000 PM\tCessazione\t1,56275E+12\t415401001\t\t2024-02-26T00:00:00+01:00\t1,56E+12\tTC\tSVOIP\n601099904\t1-619639156003\t69284459710\tDeactivation Service Instance\t12-MAR-24 12.59.08.273482000 PM\tCessazione\t1,56275E+12\tA21562750044945\t\t2024-03-12T13:02:12+01:00\t1,56E+12\tTE\tAPPCON\n601099904\t1-619639156003\t69284459710\tDeactivation Service Instance\t12-MAR-24 12.59.08.273482000 PM\tCessazione\t1,56275E+12\tA21562750044945\t\t2024-03-12T13:02:12+01:00\t1,56E+12\tTE\tAPPCON\n601099904\t1-619639156003\t69284460185\tChange Billing Element Account Level\t12-MAR-24 12.59.08.273482000 PM\tCessazione\t\t\t\t\t1,56E+12\t\t"
      },
      {
        "id": "1.2",
        "nomeParagrafo": "Inserisci il nome del Paragrafo",
        "codicePlSql": "Scrivi qui il codice PLSQL",
        "outPutSql": "Incolla qui la tua tabella"
      }
    ]
  },
  {
    "id": "2",
    "nomeCapitolo": "FIXED CRP: CHECK WC/QC e LOGISTICA",
    "paragrafi": [
      {
        "id": "2.1",
        "nomeParagrafo": "Estrae per ogni ordine le caratteristiche legate alla WC/WC, gli esiti di sblocco e le date di start delle subrequest",
        "codicePlSql": "select * from\n(select r.id as root_id,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:idCommercialOrder','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as id_ordine, \n r.name as req_name,\n extractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:bssOrder','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as bssOrder,\n  extractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:datiOrder/ns0:flagContCli','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as flagContCli,\n    extractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:flagWCall','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as flagWCall,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:datiVenditore/ns0:canaleVendita','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as canaleVendita,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/@tipo','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as tipo,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/@sottotipo','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as sottotipo, \nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:causaleOrdine','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as causale,\nr.ts_created, r.status as req_root_status,\n(select ts_end from action where request_id=r.id and name='Response Request async CVP') as OutcomeCvp --- Esito CVP\n,(select ts_end from action where request_id=r.id and name='Send Welcome Call') as Send_WC --invio richiesta sblocco verso siebel \n,(select ts_end from action where request_id=r.id and name='Receive Welcome Call Response') as ResponseWC_ACK --presa in carico\n,(select ts_end from action where request_id=r.id and name='Receive Unlock Order') as Receive_Order_UNLOCK --CONTINUE - sblocco logistica\n,(select ts_end from action where request_id=r.id and name='Receive Unlock Order Wireline') as Receive_UnlockOrder_SP--END_FIS, manda in abort la SP\n,(select z.ts_end from action z, request zz where z.request_id = zz.id and zz.root_id = r.root_id and zz.name = 'MnpRecipient' and z.name ='Send Request Mnp') as SendRequestMNP_date\n,(select z.ts_end from action z, request zz where z.request_id = zz.id and zz.root_id = r.root_id and zz.name = 'MnpRecipient' and z.name ='Recipient outcome Mnp') as RecipientOutcome_Mnp_date\n,(select count(*) from request where root_id=r.id and name='Logistics') as Logistiche \n,(select count(*) from request where root_id=r.id and name='Network') as Network \n,(select count(*) from request where root_id=r.id and name='MnpRecipient') as MnpRecipient\n,(select count(*) from request where root_id=r.id and name='Service Provisioning') as SP  \n,(select count (*) from action where request_id=r.id and name='Receive Unlock Order') as UnlockMob --invio richiesta sblocco verso siebel \n,(select count (*) from action where request_id=r.id and name='Receive Unlock Order Wireline') as UnlockFixed\n,(select z.ts_end from action z, request zz where z.request_id = zz.id and zz.root_id = r.root_id and zz.name = 'Service Provisioning' and z.name ='Send Order Service Provisioning') as Avvio_SP\n,(select count (*) from action z, request zz where z.request_id = zz.id and zz.root_id= r.root_id and zz.name = 'Logistics' and z.name ='Send order odn') as LogisticsDetails\n,(select z.ts_end from action z, request zz where z.request_id = zz.id and zz.root_id= r.root_id and zz.name = 'Logistics' and z.name ='Send order odn') as LogisticsDetails_date\n,(select count (*) from action z, request zz where z.request_id = zz.id and zz.root_id = r.root_id and zz.name = 'Logistics' and z.name ='Send order handset odvr') as LogisticsDetailsCPE\n,(select z.ts_end from action z, request zz where z.request_id = zz.id and zz.root_id = r.root_id and zz.name = 'Logistics' and z.name ='Send order handset odvr') as LogisticsDetailsCPE_date\n--,(select 1 from request where root_id=r.id and name='Network') as network --END_FIS, manda in abort la SP\nfrom request r, request_doc d\nwhere \nr.name in ('In Order', 'Extend Order')\nand  exists (select 1 from action z where z.request_id = r.id and z.name in \n('Receive Unlock Order','Receive Unlock Order', 'Receive Welcome Call Response','Receive Unlock Order Wireline') \nand z.status = 'SA')\nand exists (select 1 from action z, request zz where z.request_id = zz.id and zz.root_id= r.root_id and zz.name = 'Logistics' and z.name ='Send order odn')\nand exists (select 1 from request zz where zz.root_id= r.root_id and zz.name = 'Service Provisioning')\n--and r.id in ('3499623899','3484883109','3431904065','3467353921','3421860956','3425204563')\nand r.ts_created>to_date('01/06/2024', 'dd/mm/yyyy')\nand r.document_id=d.id\nand r.status = 'SA'\n and rownum<10);",
        "outPutSql": "ROOT_ID\tID_ORDINE\tREQ_NAME\tBSSORDER\tFLAGCONTCLI\tFLAGWCALL\tCANALEVENDITA\tTIPO\tSOTTOTIPO\tCAUSALE\tTS_CREATED\tREQ_ROOT_STATUS\tOUTCOMECVP\tSEND_WC\tRESPONSEWC_ACK\tORDER_UNLOCK\tUNLOCKORDER_SP\tLOGISTICHE\tNETWORK\tMNPRECIPIENT\tSP\tUNLOCKMOB\tUNLOCKFIXED\tLOGISTICSDETAILS\tLOGISTICSDETAILSCPE\n3549012487\t1-629354705694\tIn Order\tY\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t27-JUN-24 07.31.49.129163000 PM\tSA\t28-JUN-24 08.58.33.000000000 AM\t28-JUN-24 08.58.36.000000000 AM\t28-JUN-24 08.58.36.000000000 AM\t\t28-JUN-24 11.29.18.000000000 AM\t0\t0\t0\t1\t0\t1\t0\t0\n3570289096\t1-631900871753\tIn Order\tY\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t25-JUL-24 05.08.21.476784000 PM\tSA\t26-JUL-24 09.58.37.000000000 AM\t26-JUL-24 10.23.11.000000000 AM\t26-JUL-24 10.23.12.000000000 AM\t27-JUL-24 09.40.47.000000000 PM\t30-JUL-24 09.42.45.000000000 AM\t2\t1\t0\t2\t1\t1\t0\t2\n3574461716\t1-632399173651\tIn Order\t\tY\tN\tEX\tAttivazione\tAttivazione\tPrima Attivazione\t31-JUL-24 05.37.43.091181000 PM\tSA\t31-JUL-24 08.07.28.000000000 PM\t31-JUL-24 08.07.30.000000000 PM\t31-JUL-24 08.07.30.000000000 PM\t\t07-AUG-24 10.21.56.000000000 AM\t0\t0\t0\t1\t0\t1\t0\t0\n3578439547\t1-632908479369\tIn Order\tY\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t06-AUG-24 11.19.43.004896000 AM\tSA\t06-AUG-24 12.04.50.000000000 PM\t06-AUG-24 12.04.53.000000000 PM\t06-AUG-24 12.04.54.000000000 PM\t\t10-AUG-24 10.10.41.000000000 AM\t0\t0\t0\t1\t0\t1\t0\t0\n3568437865\t1-631680491604\tIn Order\tY\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t23-JUL-24 03.10.31.576717000 PM\tSA\t23-JUL-24 05.29.12.000000000 PM\t23-JUL-24 05.29.25.000000000 PM\t23-JUL-24 05.29.25.000000000 PM\t\t24-JUL-24 09.31.43.000000000 AM\t0\t0\t0\t1\t0\t1\t0\t0\n3572370220\t1-632117269092\tIn Order\tY\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t29-JUL-24 02.03.31.758450000 PM\tSA\t29-JUL-24 03.44.05.000000000 PM\t29-JUL-24 03.46.46.000000000 PM\t29-JUL-24 03.46.46.000000000 PM\t\t30-JUL-24 08.48.16.000000000 AM\t1\t1\t0\t1\t0\t1\t0\t1\n3563041104\t1-630929161251\tIn Order\t\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t16-JUL-24 09.34.21.908998000 AM\tSA\t29-JUL-24 11.22.20.000000000 AM\t29-JUL-24 11.43.29.000000000 AM\t29-JUL-24 11.43.29.000000000 AM\t\t31-JUL-24 11.09.05.000000000 AM\t0\t0\t0\t2\t0\t1\t0\t0\n3567585601\t1-631574862220\tIn Order\tY\tY\tN\tTM\tAttivazione\tAttivazione\tPrima Attivazione\t22-JUL-24 05.29.02.192241000 PM\tSA\t23-JUL-24 09.15.56.000000000 AM\t23-JUL-24 09.15.59.000000000 AM\t23-JUL-24 09.15.59.000000000 AM\t\t25-JUL-24 09.28.40.000000000 AM\t1\t0\t0\t1\t0\t1\t0\t1\n3578463658\t1-632914755505\tIn Order\t\tY\tN\tAS\tAttivazione\tAttivazione\tPrima Attivazione\t06-AUG-24 11.44.32.894612000 AM\tSA\t06-AUG-24 03.25.03.000000000 PM\t06-AUG-24 03.25.05.000000000 PM\t06-AUG-24 03.25.05.000000000 PM\t\t06-AUG-24 05.32.28.000000000 PM\t0\t0\t0\t1\t0\t1\t0\t0"
      }
    ]
  },
  {
    "id": "3",
    "nomeCapitolo": "ESTRAZIONE NUMEROSITA PRODOTTI SU ORDINE CRM",
    "paragrafi": [
      {
        "id": "3.1",
        "nomeParagrafo": "Estrae i campi dell'ordine e la numerosità dei prodotti a partire da id ordine e nome della action inbound (query 1)",
        "codicePlSql": "select --am.*,\nr.id,r.status,r.name,r.ts_created,\nextractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@bssOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as bss_order,\nextractValue(xmltype(message_xml),'commercialOrder/order/@flagSospensione','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as flag_sospensione,\n(select count(id) from request where name='Network' and root_id=rr.root_id) as count_network,\n(case when (select count (id) from request where name='Logistics' and root_id=rr.root_id)>=1 then 'Y' else 'N' end) as Logistica,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESSPREPAG'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wlessprep,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wless,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''CPEM'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_cpem,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''GSS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_gss\n,extractvalue(value(te),'./*[@tipo=''TE'']/@componentRoot','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') componentRoot\n,extractvalue(value(te),'./*[@tipo=''TE'']/@integrationId','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') integrationIdTe\n,extractvalue(value(te),'./*[@tipo=''TE'']/@sottoTipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') sottoTipote\n,extractvalue(value(te),'./*[@tipo=''TE'']/@componentPadre','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') componentPadrete\n,extractvalue(value(te),'./*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Portato\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePortato\n,extractvalue(value(te),'./*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Precedente\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n--,extractvalue(value(te),'./*[@tipo=''TE'']/@numeroVocePrecedente','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n,r.id\nfrom action r, request rr ,action_msg am,\n--TABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''PRD'']',\n--'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) p,\nTABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''TC'']','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) pp    \n,TABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''TE'' and @sottoTipo=\"MNPIN\"]','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) te    \nwhere r.name='Receive In Order'--'Receive Out Order'\nand r.status='SA'\n--and r.ts_created>sysdate-10\nand RR.ID=r.request_id\n--and rr.root_id=3449071259\nand am.id=r.message_id\nand rownum<10\n--and r.id='3450777873'\nand rr.root_id =(select distinct root_id from detail where value='1-624901434706'  )",
        "outPutSql": "ID\tSTATUS\tNAME\tTS_CREATED\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tBSS_ORDER\tFLAG_SOSPENSIONE\tCOUNT_NETWORK\tLOGISTICA\tNUM_PRD_WLESSPREP\tNUM_PRD_WLESS\tNUM_PRD_CPEM\tNUM_PRD_GSS\tCOMPONENTROOT\tINTEGRATIONIDTE\tSOTTOTIPOTE\tCOMPONENTPADRETE\tNUMEROVOCEPORTATO\tNUMEROVOCEPRECEDENTE\tID_1\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623894496770\t1623894497664\tMNPIN\t1623894497339\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623895203725\t1623895203778\tMNPIN\t1623895203732\t3453342297\t3205755732\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623894496770\t1623894497664\tMNPIN\t1623894497339\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623895203725\t1623895203778\tMNPIN\t1623895203732\t3453342297\t3205755732\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623894496770\t1623894497664\tMNPIN\t1623894497339\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623895203725\t1623895203778\tMNPIN\t1623895203732\t3453342297\t3205755732\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623894496770\t1623894497664\tMNPIN\t1623894497339\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623895203725\t1623895203778\tMNPIN\t1623895203732\t3453342297\t3205755732\t69880303366"
      },
      {
        "id": "3.2",
        "nomeParagrafo": "Estrae i campi dell'ordine e la numerosità dei prodotti a partire da id ordine e nome della action inbound (query 2)",
        "codicePlSql": "select --am.*,\nr.id,r.status,r.name,r.ts_created,\nextractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@bssOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as bss_order,\nextractValue(xmltype(message_xml),'commercialOrder/order/@flagSospensione','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as flag_sospensione,\n(select count(id) from request where name='Network' and root_id=rr.root_id) as count_network,\n(case when (select count (id) from request where name='Logistics' and root_id=rr.root_id)>=1 then 'Y' else 'N' end) as Logistica,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESSPREPAG'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wlessprep,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wless,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''CPEM'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_cpem,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''GSS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_gss,\nextractvalue(value(p),'./*[@tipo=''PRD'']/@integrationId','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') integrationIdPrd\n,extractvalue(value(p),'./*[@tipo=''PRD'']/@id','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') rowIdPRD\n,extractvalue(value(p),'descendant::*/*/@serviceId','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') serviceIdPRD\n,extractvalue(value(p),'descendant::*/*[@tipo=''TC'' and @sottoTipo=\"SRVPREPMOB\"]/nomeAttributo[.=\"MSISDN\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') msisdn\n,extractvalue(value(p),'descendant::*/*[@tipo=''TC'' and @sottoTipo=\"SRVPREPMOB\"]/@serviceId','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') serviceIdTC\n,extractvalue(value(p),'descendant::*/*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Portato\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePortato\n,extractvalue(value(p),'descendant::*/*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Precedente\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n,r.id\nfrom action r, request rr ,action_msg am,\nTABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''PRD'']','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) p\nwhere r.name='Receive In Order'--'Receive Out Order'\nand r.status='SA'\n--and r.ts_created>sysdate-10\nand RR.ID=r.request_id\n--and rr.root_id=3449071259\nand am.id=r.message_id\nand rownum<3\n--and r.id='3450777873'\nand rr.root_id = (select distinct root_id from detail where value='1-620245797028')",
        "outPutSql": "ID\tSTATUS\tNAME\tTS_CREATED\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tBSS_ORDER\tFLAG_SOSPENSIONE\tCOUNT_NETWORK\tLOGISTICA\tNUM_PRD_WLESSPREP\tNUM_PRD_WLESS\tNUM_PRD_CPEM\tNUM_PRD_GSS\tINTEGRATIONIDPRD\tROWIDPRD\tSERVICEIDPRD\tMSISDN\tSERVICEIDTC\tNUMEROVOCEPORTATO\tNUMEROVOCEPRECEDENTE\tID_1\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623894496770\t1-7Z2CXV2P\t3283736613\t3283736613\t3283736613\t3472941972\t3283736613\t69880303366\n69880303366\tSA\tReceive In Order\t13/05/2024 09:51:39,534342\tReitero\tAttivazione\tPrima Attivazione\t\t0\t2\tN\t2\t0\t0\t0\t1623895203725\t1-7Z2HZSN0\t3205755732\t3205755732\t3205755732\t3453342297\t3205755732\t69880303366"
      },
      {
        "id": "3.3",
        "nomeParagrafo": "Estrae i campi dell'ordine e la numerosità dei prodotti a partire da id ordine e nome della action inbound (STORICO)",
        "codicePlSql": "select --am.*,\nr.id,r.status,r.name,r.ts_created,\nextractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@bssOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as bss_order,\nextractValue(xmltype(message_xml),'commercialOrder/order/@flagSospensione','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as flag_sospensione,\n(select count(id) from request_hs where name='Network' and root_id=rr.root_id) as count_network,\n(case when (select count (id) from request_hs where name='Logistics' and root_id=rr.root_id)>=1 then 'Y' else 'N' end) as Logistica,\n(SELECT count(*) FROM action_msg_hs b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESSPREPAG'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wlessprep,\n(SELECT count(*) FROM action_msg_hs b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''WLESS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_wless,\n(SELECT count(*) FROM action_msg_hs b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''CPEM'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_cpem,\n(SELECT count(*) FROM action_msg_hs b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/commercialOrder/order/lineItem[@sottoTipo=''GSS'']',   'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"  '))) p  where  b.id=am.id) num_prd_gss\n,extractvalue(value(te),'./*[@tipo=''TE'']/@componentRoot','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') componentRoot\n,extractvalue(value(te),'./*[@tipo=''TE'']/@integrationId','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') integrationIdTe\n,extractvalue(value(te),'./*[@tipo=''TE'']/@sottoTipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') sottoTipote\n,extractvalue(value(te),'./*[@tipo=''TE'']/@componentPadre','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') componentPadrete\n,extractvalue(value(te),'./*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Portato\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePortato\n,extractvalue(value(te),'./*[@tipo=''TE'']/nomeAttributo[.=\"Numero Voce Precedente\"]/@valore','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n--,extractvalue(value(te),'./*[@tipo=''TE'']/@numeroVocePrecedente','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') numeroVocePrecedente\n,r.id\nfrom action_hs r, request_hs rr ,action_msg_hs am,\n--TABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''PRD'']',\n--'xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) p,\nTABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''TC'']','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) pp    \n,TABLE ( XMLSEQUENCE(EXTRACT(xmltype(am.message_xml),'/commercialOrder/order/descendant::*[@tipo=''TE'' and @sottoTipo=\"MNPIN\"]','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"'))) te    \nwhere r.name='Receive In Order'--'Receive Out Order'\nand r.status='SA'\n--and r.ts_created>sysdate-10\nand RR.ID=r.request_id\n--and rr.root_id=3449071259\nand am.id=r.message_id\nand rownum<10\n--and r.id='3450777873'\nand rr.root_id =(select distinct root_id from detail_hs where value='1-620231736226'  )",
        "outPutSql": "ID\tSTATUS\tNAME\tTS_CREATED\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tBSS_ORDER\tFLAG_SOSPENSIONE\tCOUNT_NETWORK\tLOGISTICA\tNUM_PRD_WLESSPREP\tNUM_PRD_WLESS\tNUM_PRD_CPEM\tNUM_PRD_GSS\tCOMPONENTROOT\tINTEGRATIONIDTE\tSOTTOTIPOTE\tCOMPONENTPADRETE\tNUMEROVOCEPORTATO\tNUMEROVOCEPRECEDENTE\tID_1\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334054734\t1620334054778\tMNPIN\t1620334054761\t3472979188\t3299010063\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334054816\t1620334054860\tMNPIN\t1620334054843\t3387718534\t3299042650\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334054898\t1620334054942\tMNPIN\t1620334054925\t3337801144\t3289840248\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334054980\t1620334055024\tMNPIN\t1620334055007\t3667748666\t3299019574\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334055062\t1620334055106\tMNPIN\t1620334055089\t3336667105\t3289841153\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334055144\t1620334055188\tMNPIN\t1620334055171\t3358188444\t3298316000\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620334055373\t1620335032417\tMNPIN\t1620334055400\t3924191898\t3298320435\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620335032458\t1620335032502\tMNPIN\t1620335032485\t3475347177\t3299017865\t69543892117\n69543892117\tSA\tReceive In Order\t08/04/2024 15:25:12,414268\tAttivazione\tAttivazione\tPrima Attivazione\tY\t0\t0\tN\t15\t0\t6\t0\t1620335032543\t1620335032587\tMNPIN\t1620335032570\t3396765201\t3299015484\t69543892117"
      }
    ]
  },
  {
    "id": "4",
    "nomeCapitolo": "ESTRAZIONE CASI DI ASSISTENZA TECNICA Sostituzione - Kasko Premium",
    "paragrafi": [
      {
        "id": "4.1",
        "nomeParagrafo": "Estrae il cmf-root a partire da una stringa nel payload , dal nome della request e della action",
        "codicePlSql": "select a.*,substr(d.document_xml,1,20) from action a, request b , request c ,request_doc d\nwhere \n1=1 and \na.name='Send order odsn' and \na.ts_created>sysdate-90 and rownum<3 and\na.request_id=b.id and\nb.root_id=c.id and \nd.id=c.document_id and\nd.document_xml like '%Sostituzione - Kasko Premium%' and\nc.name='Sim/Handset Change'",
        "outPutSql": "ID\tNAME\tDIRECTION\tSTATUS\tTS_REQUESTED\tTS_CREATED\tTS_ENQUEUED\tTS_FIRST_START\tTS_START\tTS_END\tPRIORITY\tTS_TODO\tQUEUE\tREQUEST_ID\tMESSAGE_ID\tSYSTEM\tCFG_ID\tHANDLER\tRESPONSE_ID\tADB_SOURCE\tRESULT\tSUBSTR(D.DOCUMENT_XML,1,20)\n69714101765\tSend order odsn\toutbound\tSA\t24/04/2024 12:33:21,000000\t24/04/2024 12:33:21,766998\t\t24/04/2024 12:33:21,000000\t24/04/2024 12:33:21,000000\t24/04/2024 12:33:26,000000\t1\t\tqueue.sn.crp.out\t3500503597\t-33333719917\tsnow\t7275\t/esb2sap/process/businessService/OrderManagement/bwBSInvioOrdineSNOut.process\t\t\t\t<?xml version=\"1.0\"\n69132985510\tSend order odsn\toutbound\tSA\t23/02/2024 17:28:17,000000\t23/02/2024 17:28:17,735691\t\t23/02/2024 17:28:17,000000\t23/02/2024 17:28:17,000000\t23/02/2024 17:28:23,000000\t1\t\tqueue.sn.crp.out\t3457071015\t-32784445354\tsnow\t7275\t/esb2sap/process/businessService/OrderManagement/bwBSInvioOrdineSNOut.process\t\t\t\t<?xml version=\"1.0\""
      }
    ]
  },
  {
    "id": "5",
    "nomeCapitolo": "ESTRAZIONE EMF ACTION",
    "paragrafi": [
      {
        "id": "5.1",
        "nomeParagrafo": "Estrae EMF della action a partire da una stringa nel payload , e id action",
        "codicePlSql": "select a.*,substr(b.message_xml,1,20)  from action a , action_msg b where b.id=a.message_id \nand b.message_xml like '%32%' and direction='outbound' and system='sdm' and a.ts_created>sysdate-90 and rownum<3\n--and a.id=69159398618",
        "outPutSql": "ID\tNAME\tDIRECTION\tSTATUS\tTS_REQUESTED\tTS_CREATED\tTS_ENQUEUED\tTS_FIRST_START\tTS_START\tTS_END\tPRIORITY\tTS_TODO\tQUEUE\tREQUEST_ID\tMESSAGE_ID\tSYSTEM\tCFG_ID\tHANDLER\tRESPONSE_ID\tADB_SOURCE\tRESULT\tSUBSTR(B.MESSAGE_XML,1,20)\n69697917247\tModify technical services\toutbound\tSA\t23/04/2024 08:38:51,000000\t23/04/2024 08:38:49,861836\t\t23/04/2024 08:38:51,000000\t23/04/2024 08:38:51,000000\t23/04/2024 08:38:52,000000\t1\t\tqueue.sdm.out\t3499305570\t-33318433178\tsdm\t455\t/esb2sdm/process/businessService/bwBSInvioOrdineSdmOut.process\t\t\t\t<?xml version=\"1.0\"\n69697980576\tModify technical services\toutbound\tSA\t23/04/2024 08:56:00,000000\t23/04/2024 08:55:59,574940\t\t23/04/2024 08:56:01,000000\t23/04/2024 08:56:01,000000\t23/04/2024 08:56:01,000000\t1\t\tqueue.sdm.out\t3499309540\t-33318493123\tsdm\t455\t/esb2sdm/process/businessService/bwBSInvioOrdineSdmOut.process\t\t\t\t<?xml version=\"1.0\""
      },
      {
        "id": "5.2",
        "nomeParagrafo": "Estrae le informazioni sulla action a partire da id",
        "codicePlSql": "select * from action a where --a.request_id='3498943463' and \nrownum<3",
        "outPutSql": "ID\tNAME\tDIRECTION\tSTATUS\tTS_REQUESTED\tTS_CREATED\tTS_ENQUEUED\tTS_FIRST_START\tTS_START\tTS_END\tPRIORITY\tTS_TODO\tQUEUE\tREQUEST_ID\tMESSAGE_ID\tSYSTEM\tCFG_ID\tHANDLER\tRESPONSE_ID\tADB_SOURCE\tRESULT\n3345784527\tSend Transmission Status\toutbound\tTD\t06/12/2012 09:21:14,631000\t06/12/2012 09:21:15,103175\t\t\t\t\t1\t\tqueue.siebel.out\t389488327\t\tsiebel\t3036\t/esb2siebel/process/businessService/ContactManagement/bwBSNewIntOutbCnsOut.process\t\t\t\n4405408381\tReceive Response From XCOM\tinbound\tTD\t03/04/2013 03:52:20,179000\t03/04/2013 03:52:20,412032\t\t\t\t\t1\t\tqueue.xcom.in\t489761786\t\txcom\t3046\t/esb2xcom/process/businessService/Consumer/ContactManagement/bwBSGetXcomResponseIn.process"
      },
      {
        "id": "5.3",
        "nomeParagrafo": "Estrae EMF della action a partire dall'id",
        "codicePlSql": "select to_char(substr(b.message_xml,1,60) )aa from action a , action_msg b where b.id=a.message_id and a.id=69697917247",
        "outPutSql": "AA\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ns0:esbToSdmOrder xm"
      }
    ]
  },
  {
    "id": "6",
    "nomeCapitolo": "ESTRAZIONE TIED",
    "paragrafi": [
      {
        "id": "6.1",
        "nomeParagrafo": "Estrazione dei flag che definiscono gli scenari TIED a partire dalla data e dal nome della request",
        "codicePlSql": "select * from(\nselect /* PARALLEL (64) */\nroot.id as root_id,\nroot.name as root_name,\nroot.ts_created as root_ts_created,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBAnrc','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') id_BA_nrc,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBAnrcOld','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') id_BA_nrc_Old,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBArc','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') id_BA_rc,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBArcOld','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') id_BA_rc_Old,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBAusg','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') id_BA_usg,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBAusgOld','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') id_BA_usg_Old,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:billingAccount[@id = /ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:servizioMobile/@idBAnrc]/@tipologiaCdf','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') tipologia_Cdf,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile//ns0:servizioMobile/ns0:tracciamentoNoTax/@azione','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') pre_no_tax,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/ns0:esbAttributoGenerico[ns0:nome=''FLAG_IS_MOBILE_TIED_YN'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FLAG_IS_MOBILE_TIED_YN,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''CHANGE_TARIFF_PLAN_TYPE'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') CHANGE_TARIFF_PLAN_TYPE,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''CHANGE_CLASS_TYPE'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') CHANGE_CLASS_TYPE,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_TIED_TO_PRENOTAX'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_TIED_TO_PRENOTAX,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_PRENOTAX_TO_PRENOTAX'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_PRENOTAX_TO_PRENOTAX,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_STANDARD_TO_PRENOTAX'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_STANDARD_TO_PRENOTAX,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_PRENOTAX_TO_STANDARD'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_PRENOTAX_TO_STANDARD,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_TIED_TO_TIED'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_TIED_TO_TIED,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_STANDARD_TO_TIED'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_STANDARD_TO_TIED,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_TIED_TO_STANDARD'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_TIED_TO_STANDARD,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:esbField[ns0:name=''FROM_PRENOTAX_TO_TIED'']/ns0:valore','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') FROM_PRENOTAX_TO_TIED,\nextractvalue((xmltype(doc.document_xml)),'ns0:commercialOrderCns/ns0:order/ns0:mobile/@flagCPE','xmlns:ns0=\"http://phoenix.wind.it/common/commercialOrderCns/cmfSchema.xsd\"') flagCPE\nfrom\nrequest root,\nrequest_doc doc,\nrequest sdm\nwhere\nroot.ts_created >= to_date('29/04/2024 00:00:00','dd/mm/yyyy hh24:mi:ss') and\nroot.name = 'Change Order' and -- Switch Order (subentro),Change Order (cambi offerta) , Change Tariff Plan (cambi piano) ,Activation Order (att), Deactivation Order (cssz), Change Number (?cambio numero)\nroot.id = sdm.root_id and\nsdm.name = 'Mobile Provisioning' and\nsdm.status != 'AB' and\nroot.document_id = doc.id \n--and root.id=3455031415\n)\nwhere 1=1\nand rownum<3",
        "outPutSql": "ROOT_ID\tROOT_NAME\tROOT_TS_CREATED\tID_BA_NRC\tID_BA_NRC_OLD\tID_BA_RC\tID_BA_RC_OLD\tID_BA_USG\tID_BA_USG_OLD\tTIPOLOGIA_CDF\tPRE_NO_TAX\tFLAG_IS_MOBILE_TIED_YN\tCHANGE_TARIFF_PLAN_TYPE\tCHANGE_CLASS_TYPE\tFROM_TIED_TO_PRENOTAX\tFROM_PRENOTAX_TO_PRENOTAX\tFROM_STANDARD_TO_PRENOTAX\tFROM_PRENOTAX_TO_STANDARD\tFROM_TIED_TO_TIED\tFROM_STANDARD_TO_TIED\tFROM_TIED_TO_STANDARD\tFROM_PRENOTAX_TO_TIED\tFLAGCPE\n3511411408\tChange Order\t11/05/2024 07:51:11,060673\tP1124752841\tP1124752841\tP1124752841\tP1124752841\tP1124752841\tP1124752841\tPrepagato\t\tY\tSTANDARD\t\t\t\t\t\t\t\t\t\tN\n3511414848\tChange Order\t11/05/2024 08:28:22,597977\tP1124652826\tP1124652826\tP1124652826\tP1124652826\tP1124652826\tP1124652826\tPostpagato\t-\tN\tSTANDARD\t\t\t\t\t\t\t\t\t\tN\n3511402217\tChange Order\t11/05/2024 05:53:13,689303\t\t\t\t\t\t\t\t\tN\tSTANDARD\t\t\t\t\t\t\t\t\t\tN\n3511402729\tChange Order\t11/05/2024 05:58:21,908076\t\t\t\t\t\t\t\t\tN\tSTANDARD\t\t\t\t\t\t\t\t\t\tN"
      }
    ]
  },
  {
    "id": "7",
    "nomeCapitolo": "QUERY DISCARD",
    "paragrafi": [
      {
        "id": "7.1",
        "nomeParagrafo": "Estrazione dei dettagli della discard a partire dall'id ordine",
        "codicePlSql": "select de.*,DI.RECEIVER_NAME,DI.SYSTEM,DI.TS_DISCARD,DI.ID_DISCARD,\nto_char(REGEXP_SUBSTR(error_msg, '<message>(.*?)</message>', 1, 1, NULL, 1)) AS error_message\nfrom detail de, discard2detail dd, discard di\nwhere di.id_discard = dd.id_discard\nand dd.id_detail = de.id\nand de.value like  \n( '450%') and rownum<3\norder by ts_discard desc",
        "outPutSql": "ID\tNAME\tVALUE\tPOS\tCFG_ID\tROOT_ID\tRECEIVER_NAME\tSYSTEM\tTS_DISCARD\tID_DISCARD\tERROR_MESSAGE\n39946249968\ttransaction_id\t4500017b-7b93-427a-98ac-fe329ff7b55f\t0\t2\t\tbwRecDocumentCheck\tcvp\t31/01/2024 19:07:03,845000\t261326070\t\n37826199313\ttransaction_id\t45000049-e8cf-4a2b-bc25-a28a2a39934b\t0\t2\t\tbwRecDocumentCheck\tcvp\t26/04/2023 15:00:17,863000\t254933143"
      },
      {
        "id": "7.2",
        "nomeParagrafo": "Estrazione sulla discard",
        "codicePlSql": "select * from discard where ts_discard>sysdate-4 and error_msg  like ( '%4503329465%')and  rownum<3",
        "outPutSql": "n.a."
      }
    ]
  },
  {
    "id": "8",
    "nomeCapitolo": "QUERY PER ESTRAZIONE OLI SU ESB",
    "paragrafi": [
      {
        "id": "8.1",
        "nomeParagrafo": "Estrae OLI in maniera gerarchica a partire dall'ordine (query 1)",
        "codicePlSql": "select distinct\nzz.req_ts_created,level livello,\nDECODE (LEVEL,\n                   1, zz.TIPO||'-'||zz.sottotipo,\n                   2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n              tipo, \nzz.azione,\nzz.sottoTipo,\nzz.componentRoot,\nzz.id,\nzz.integrationid,\nzz.idPrice,\nzz.mdf,\nzz.codicePs,\nzz.descrizionePS,          \nzz.componentpadre2,\nzz.rcOverridePrice,\nzz.transactionIdAsset,\nzz.idCommercialOrder,\nzz.tipo_ordine,\nzz.sottotipo_ordine,\nzz.causale_ordine,\nzz.req_id,zz.req_status,zz.req_name,\nzz.iccid,\nzz.iccidOld,\nzz.msisdn,\nzz.msisdnOld\n from (\nselect \nr.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,\nextractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\nextractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\ncase when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\np.*\nfrom action r, request rr ,action_msg am\n,XMLTable(xmlnamespaces( \ndefault 'http://phoenix.wind.it/esb/CommercialOrder' \n),\n              'commercialOrder/order//lineItem'\n              PASSING XMLTYPE(am.message_xml)\n              COLUMNS\n                azione VARCHAR2(50) PATH '@azione'\n                ,integrationId VARCHAR2(50) PATH '@integrationId'\n                ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                ,mdf VARCHAR2(50) PATH '@mdf'\n                ,idPrice VARCHAR2(50) PATH '@idPrice'\n                ,id VARCHAR2(50) PATH '@id'\n                ,tipo VARCHAR2(50) PATH '@tipo'\n                 ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                 ,codicePs VARCHAR2(50) PATH '@codicePs'\n                 ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                 ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                 ,iccid  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valore'\n                 ,iccidOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valorePrecedente'\n                 ,msisdn  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valore'\n                 ,msisdnOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valorePrecedente'\n                ) p,\n(SELECT a.name as act_name,a.request_id req_root_id\n                               FROM action a, cfg_action b\n                              WHERE a.request_id IN\n                                       (SELECT DISTINCT root_id\n                                          FROM detail\n                                         WHERE VALUE IN (\n--select id from tmp_ordini_com where stato ='dl'\n'1-620231736226'\n))\n                                    AND b.id = a.cfg_id\n                                    AND b.endpoint = 'queue.siebel.crp.om.in') cfg_det                \nwhere \nr.name = cfg_det.act_name\nand RR.ID=r.request_id\nand am.id=r.message_id\nand rr.root_id =  cfg_det.req_root_id \n) zz  \nSTART WITH \nzz.componentPadre2 is null \nCONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\norder by integrationId, idCommercialOrder,level",
        "outPutSql": "REQ_TS_CREATED\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tCOMPONENTROOT\tID\tINTEGRATIONID\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tCOMPONENTPADRE2\tRCOVERRIDEPRICE\tTRANSACTIONIDASSET\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tICCID\tICCIDOLD\tMSISDN\tMSISDNOLD\n17/04/2024 13:29:52,692761\t1\tPRD-CPEM\tModify\tCPEM\t1582196212980\t1-7Y16XN39\t1582196212980\t\t\tPHX00004\tCPE Fonia\t\t\t1582196212980\t1-622622056788\tModifica\tModifica Commerciale\tVariazione Commerciale\t69645577133\tSA\tReceive Commercial/Technical Change\t\t\t\t\n17/04/2024 13:29:52,692761\t2\t|__ TC-TERMOB\t-\tTERMOB\t1582196212980\t1-7Y16XN40\t1582196452559\t\tPOSTPAGATA\tPHX61554\tTM Generico\t1582196212980\t\t1582196452559\t1-622622056788\tModifica\tModifica Commerciale\tVariazione Commerciale\t69645577133\tSA\tReceive Commercial/Technical Change\t\t\t\t\n17/04/2024 13:29:52,692761\t2\t|__ PC-OPZ\t-\tOPZ\t1582196212980\t1-7Y16XN4P\t1582411923573\t\tPOSTPAGATA\tPHX10361\tPC Rate Terminali Mobili\t1582196212980\t\t1582411923573\t1-622622056788\tModifica\tModifica Commerciale\tVariazione Commerciale\t69645577133\tSA\tReceive Commercial/Technical Change"
      },
      {
        "id": "8.2",
        "nomeParagrafo": "Estrae OLI in maniera gerarchica a partire dall'ordine STORICO (query 2)",
        "codicePlSql": "select \nzz.req_ts_created,\nDECODE (LEVEL,\n                   1, zz.TIPO||'-'||zz.sottotipo,\n                   2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n              tipo, \nzz.azione,\nzz.sottoTipo,\nzz.componentRoot,\nzz.id,\nzz.integrationid,\nzz.idPrice,\nzz.mdf,\nzz.codicePs,\nzz.descrizionePS,          \nzz.componentpadre2,\nzz.rcOverridePrice,\nzz.idCommercialOrder,\nzz.tipo_ordine,\nzz.sottotipo_ordine,\nzz.causale_ordine,\nzz.req_id,zz.req_status,zz.req_name from (\nselect \nr.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,\nextractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\nextractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\ncase when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\np.*\nfrom action_hs r, request_hs rr ,action_msg_hs am\n,XMLTable(xmlnamespaces( \ndefault 'http://phoenix.wind.it/esb/CommercialOrder' \n),\n              'commercialOrder/order//lineItem'\n              PASSING XMLTYPE(am.message_xml)\n              COLUMNS\n                azione VARCHAR2(50) PATH '@azione'\n                ,integrationId VARCHAR2(50) PATH '@integrationId'\n                ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                ,mdf VARCHAR2(50) PATH '@mdf'\n                ,idPrice VARCHAR2(50) PATH '@idPrice'\n                ,id VARCHAR2(50) PATH '@id'\n                ,tipo VARCHAR2(50) PATH '@tipo'\n                 ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                 ,codicePs VARCHAR2(50) PATH '@codicePs'\n                 ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                ) p           \nwhere \nr.name = 'Receive Activation Order'\nand RR.ID=r.request_id\nand am.id=r.message_id\nand rr.root_id in \n (SELECT DISTINCT root_id\n                                          FROM detail_hs\n                                         WHERE VALUE IN (\n                                             --   '1-619650892429', --INC7181401 roberti problema legato alla chiamata della procedura dei cpe su siebel e assenza del cdf => indirizzatoa crm \n'1-605924592287'\n)\n) \n) zz  \nSTART WITH \nzz.componentPadre2 is null \nCONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\n--order by idcommercialorder,level",
        "outPutSql": "REQ_TS_CREATED\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tCOMPONENTROOT\tID\tINTEGRATIONID\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tCOMPONENTPADRE2\tRCOVERRIDEPRICE\tTRANSACTIONIDASSET\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tICCID\tICCIDOLD\tMSISDN\tMSISDNOLD\n17/04/2024 13:29:52,692761\t1\tPRD-CPEM\tModify\tCPEM\t1582196212980\t1-7Y16XN39\t1582196212980\t\t\tPHX00004\tCPE Fonia\t\t\t1582196212980\t1-622622056788\tModifica\tModifica Commerciale\tVariazione Commerciale\t69645577133\tSA\tReceive Commercial/Technical Change\t\t\t\t\n17/04/2024 13:29:52,692761\t2\t|__ TC-TERMOB\t-\tTERMOB\t1582196212980\t1-7Y16XN40\t1582196452559\t\tPOSTPAGATA\tPHX61554\tTM Generico\t1582196212980\t\t1582196452559\t1-622622056788\tModifica\tModifica Commerciale\tVariazione Commerciale\t69645577133\tSA\tReceive Commercial/Technical Change\t\t\t\t\n17/04/2024 13:29:52,692761\t2\t|__ PC-OPZ\t-\tOPZ\t1582196212980\t1-7Y16XN4P\t1582411923573\t\tPOSTPAGATA\tPHX10361\tPC Rate Terminali Mobili\t1582196212980\t\t1582411923573\t1-622622056788\tModifica\tModifica Commerciale\tVariazione Commerciale\t69645577133\tSA\tReceive Commercial/Technical Change"
      },
      {
        "id": "8.3",
        "nomeParagrafo": "Estrazione Oli in maniera gerarchica e relativi attributi",
        "codicePlSql": "select distinct\nzz.req_ts_created,level livello,\nDECODE (LEVEL,\n                   1, zz.TIPO||'-'||zz.sottotipo,\n                   2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n              tipo, \nzz.azione,\nzz.sottoTipo,\nzz.componentRoot,\nzz.id,\nzz.integrationid,\nzz.idPrice,\nzz.mdf,\nzz.codicePs,\nzz.descrizionePS,          \nzz.componentpadre2,\nzz.rcOverridePrice,\nzz.transactionIdAsset,\nzz.idCommercialOrder,\nzz.tipo_ordine,\nzz.sottotipo_ordine,\nzz.causale_ordine,\nzz.req_id,zz.req_status,zz.req_name,\nzz.nomeAttributo,\nzz.azioneAtt,zz.valoreP,zz.valore\n--zz.iccid,\n--zz.iccidOld,\n--zz.msisdn,\n--zz.msisdnOld\n from (\n                                select \n                                r.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,na.nomeAttributo,na.azione as azioneAtt,na.valoreP,na.valore,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\n                                case when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\n                                p.*\n                                from action r, request rr ,action_msg am\n                                ,XMLTable(xmlnamespaces( \n                                default 'http://phoenix.wind.it/esb/CommercialOrder' \n                                ),\n                                              'commercialOrder/order//lineItem'\n                                              PASSING XMLTYPE(am.message_xml)\n                                              COLUMNS\n                                                azione VARCHAR2(50) PATH '@azione'\n                                                ,integrationId VARCHAR2(50) PATH '@integrationId'\n                                                ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                                                ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                                                ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                                                ,mdf VARCHAR2(50) PATH '@mdf'\n                                                ,idPrice VARCHAR2(50) PATH '@idPrice'\n                                                ,id VARCHAR2(50) PATH '@id'\n                                                ,tipo VARCHAR2(50) PATH '@tipo'\n                                                 ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                                                 ,codicePs VARCHAR2(50) PATH '@codicePs'\n                                                 ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                                                 ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                                                 /*,iccid  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valore'\n                                                 ,iccidOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valorePrecedente'\n                                                 ,msisdn  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valore'\n                                                 ,msisdnOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valorePrecedente'\n                                                 */\n                                                 ,nomeAttributi XMLTYPE PATH 'nomeAttributo'\n                                                ) \n                                                p,\n                                (SELECT a.name as act_name,a.request_id req_root_id\n                                                               FROM action a, cfg_action b\n                                                              WHERE a.request_id IN\n                                                                       (SELECT DISTINCT root_id\n                                                                          FROM detail\n                                                                         WHERE VALUE IN (\n                                --select id from tmp_ordini_com where stato ='dl'\n                                '1-623753493128'\n                                ))\n                                                                    AND b.id = a.cfg_id\n                                                                    AND b.endpoint = 'queue.siebel.crp.om.in') \n                                                cfg_det,\n                                  XMLTABLE(\n                                        XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n                                        'nomeAttributo'\n                                        PASSING p.nomeAttributi\n                                        COLUMNS \n                                            nomeAttributo VARCHAR2(255) PATH 'text()'\n                                           , azione VARCHAR2(255) path '@azione'\n                                           , valoreP VARCHAR2(255) path '@valorePrecedente'\n                                           , valore VARCHAR2(255) path '@valore'\n                                    ) \n                                    na                                                                   \n                                where \n                                r.name = cfg_det.act_name\n                                and RR.ID=r.request_id\n                                and am.id=r.message_id\n                                and rr.root_id =  cfg_det.req_root_id \n) zz  \nSTART WITH \nzz.componentPadre2 is null \nCONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\norder by integrationId, idCommercialOrder,level",
        "outPutSql": "REQ_TS_CREATED\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tCOMPONENTROOT\tID\tINTEGRATIONID\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tCOMPONENTPADRE2\tRCOVERRIDEPRICE\tTRANSACTIONIDASSET\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tNOMEATTRIBUTO\tAZIONEATT\tVALOREP\tVALORE\n30/04/2024 16:30:05,635987\t1\tPRD-WLESSPREPAG\tAdd\tWLESSPREPAG\t1623754030014\t1-7YJR1LTQ\t1623754030014\t\tPRENOTAX\tPHX00032\tMobile Ricaricabile\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipologia Prepagato\tAdd\tMicrobusiness\tMicrobusiness\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSuper HLR\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tGREENWICH\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFlag FAM\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPUK\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Pagamento\tAdd\tPrepagato\tPrepagato\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tICCID\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione HLR\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tLTE\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR\tAdd\t62\t62\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPUK2\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tProfilo Elettrico\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPIN\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCapacità\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPIN2\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR ID\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tIMSI\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tLTE\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione SAP\tAdd\tSIM TRIPLE PREPAGATA CORPORATE\tSIM TRIPLE PREPAGATA CORPORATE\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR\tAdd\t62\t62\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tWPN\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCanale Distributivo\tAdd\tCD\tCD\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCapacità SIM\tAdd\t128k\t128k\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice SAP\tAdd\t0U4K01C2005034\t0U4K01C2005034\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPrima Ricarica\tAdd\t5\t5\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tMSISDN\tAdd\t3284312702\t3284312702\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDestinazione Uso\tAdd\tBusiness\tBusiness\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR\tAdd\t62\t62\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tServizio Abilitato\tAdd\tVoce + Dati\tVoce + Dati\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tConnettività Dati\tAdd\tUMTS\tUMTS\n30/04/2024 16:30:05,635987\t3\t|__ TE-SSGRTEL\tAdd\tSSGRTEL\t1623754030014\t1-7YJR1LUQ\t1623754030050\t\t\tPHX00041\tServizio Segreteria Telefonica\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFax\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t3\t|__ TE-SSGRTEL\tAdd\tSSGRTEL\t1623754030014\t1-7YJR1LUQ\t1623754030050\t\t\tPHX00041\tServizio Segreteria Telefonica\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Segreteria\tAdd\tWind Ascolta\tWind Ascolta\n30/04/2024 16:30:05,635987\t3\t|__ TE-RAS\tAdd\tRAS\t1623754030014\t1-7YJR1LUU\t1623754030054\t\t\tPHX00089\tRicarica Automatica a Soglia\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTaglio\tAdd\t10\t10\n30/04/2024 16:30:05,635987\t3\t|__ TE-RAS\tAdd\tRAS\t1623754030014\t1-7YJR1LUU\t1623754030054\t\t\tPHX00089\tRicarica Automatica a Soglia\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSoglia\tAdd\t5\t5\n30/04/2024 16:30:05,635987\t3\t|__ TE-RAS\tAdd\tRAS\t1623754030014\t1-7YJR1LUU\t1623754030054\t\t\tPHX00089\tRicarica Automatica a Soglia\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tStato\tAdd\tAttivo\tAttivo\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tICCID\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero telefonico referente\tAdd\t3404723415\t3404723415\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRagione Sociale/Nome Ditta\tAdd\tOMR SNC\tOMR SNC\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRichiesta preattivazione\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tStato richiesta\tAdd\tBozza\tBozza\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tOperatore di provenienza\tAdd\tPosteMobile\tPosteMobile\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRecipient\tAdd\tWIN3\tWIN3\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice Gruppo\tAdd\t\t136438370\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCognome cliente\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Dati Portato\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo di servizio\tAdd\tSelezionaTP\tSelezionaTP\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNome cliente\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Dati Precedente\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tProgetto ad hoc\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Fax Portato\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRichiesta trasferimento credito residuo\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData cut over\tAdd\t04/30/2024 00:00:00\t05/03/2024 00:00:00\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPrevalidazione\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tId Richiesta\tAdd\t\t45691240\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFurto/Smarrimento\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Voce Portato\tAdd\t3717932331\t3717932331\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDonor/Donating\tAdd\tOmnitel\tOmnitel\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo documento\tAdd\tCI\tCI\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tReitero in carico a\tAdd\tFV\tFV\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCF/P.IVA\tAdd\t03503040986\t03503040986\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData cut over nominale\tAdd\t04/30/2024 00:00:00\t04/30/2024 00:00:00\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRichiesta lavorata\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo di tecnologia\tAdd\tGSM\tGSM\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Voce Precedente\tAdd\t3284312702\t3284312702\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero documento\tAdd\tax1850126\tax1850126\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale di rifiuto\tAdd\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Fax Precedente\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tManuntenzione\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSIM Integration Id\tAdd\tCPQ_790754\t1623754030014\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMONAME\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRiscatto del terminale\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCloneModelloPrimaScelta\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOPT\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOCODE\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tService ID\tAdd\tY\tY\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tMantenimento Rate CPE - Del. 487\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tStato del Terminale\tAdd\tNon Restituito\tNon Restituito\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTIPOORDINE\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Vendita\tAdd\tVendita Rateizzata\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice AT Corpo\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData restituzione del terminale\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOTMFLAG\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione Guasto\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOTYPE\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale Associazione\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSIM Consistenza Flg\tAdd\tN\tN\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPromoTM\tAdd\t1617810956820\t1617810956820\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSIM Associata\tAdd\t3284312702\t3284312702\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tConnettività Associata\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione AT Corpo\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNOMEAPPLICAZIONE\tAdd\tCC\tCC\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOMODELLO\tAdd\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSottostato del Terminale\tAdd\tNon Riscattato\tNon Riscattato\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tImporto Maxi Rata\tAdd\t90\t90\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione terminale\tAdd\tiPhone 15 256GB Black\tiPhone 15 256GB Black\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale Cambio\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tClasse Terminale\tAdd\t30 Mesi - Apple IPhone 15 256GB - Black\t30 Mesi - Apple IPhone 15 256GB - Black\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFattura SAP\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSeriale Tecnico\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Vendita\tAdd\tVendita Rateizzata\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tQuantità Materiale\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tID ordine SAP\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tModello Terminale\tAdd\t30 Mesi - Apple IPhone 15 256GB - Black\t30 Mesi - Apple IPhone 15 256GB - Black\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tManutenzione\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tScelta\tAdd\tPrima\tPrima\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPercentuale Sconto\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPrezzo Terminale\tAdd\t780\t780\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tIMEI\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice materiale SAP\tAdd\t0TAL2550OU0001\t0TAL2550OU0001\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipologia\tAdd\tGSM\tGSM\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData consegna\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipologia Terminale\tAdd\tCPE\tCPE\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale Fornitura\tAdd\tProvisioning\tProvisioning\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Interventi KASKO effettuati\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tImporto Entry Ticket\tAdd\t120\t120\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero sostituzioni KASKO ammesse\tAdd\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPosticipato\tAdd\tN\tN"
      },
      {
        "id": "8.4",
        "nomeParagrafo": "Estrae OLI in maniera gerarchica , gli attributi e la sede consegna",
        "codicePlSql": "SELECT  \n    li.lineItemId AS lineItemId,\n    li.tipo,\n    li.sottoTipo,\n    na.nomeAttributo,\n    na.azione,\n    na.valoreP,\n      na.valore\nFROM \n    action_msg t,\n    XMLTABLE(\n        XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n        'commercialOrder/order//lineItem'\n        PASSING XMLTYPE (t.message_xml)\n        COLUMNS \n            lineItemId VARCHAR2(50) PATH '@id'\n            ,tipo VARCHAR2(50) PATH '@tipo'\n           ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n            ,nomeAttributi XMLTYPE PATH 'nomeAttributo'\n    ) li\n,   XMLTABLE(\n        XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n        'nomeAttributo'\n        PASSING li.nomeAttributi\n        COLUMNS \n            nomeAttributo VARCHAR2(255) PATH 'text()'\n           , azione VARCHAR2(255) path '@azione'\n           , valoreP VARCHAR2(255) path '@valorePrecedente'\n           , valore VARCHAR2(255) path '@valore'\n    ) na \n            where t.id=-33376718744\n            \n            --#estrazione attributi siebel e ordine\n            select distinct\nzz.req_ts_created,level livello,\nDECODE (LEVEL,\n                   1, zz.TIPO||'-'||zz.sottotipo,\n                   2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n              tipo, \nzz.azione,\nzz.sottoTipo,\nzz.componentRoot,\nzz.id,\nzz.integrationid,\nzz.idPrice,\nzz.mdf,\nzz.codicePs,\nzz.descrizionePS,          \nzz.componentpadre2,\nzz.rcOverridePrice,\nzz.transactionIdAsset,\nzz.idCommercialOrder,\nzz.tipo_ordine,\nzz.sottotipo_ordine,\nzz.causale_ordine,\nzz.req_id,zz.req_status,zz.req_name,\nzz.nomeAttributo,\nzz.azioneAtt,zz.valoreP,zz.valore,\nzz.sedeConsegna2,\nzz.tipologiaSede\n--zz.iccid,\n--zz.iccidOld,\n--zz.msisdn,\n--zz.msisdnOld\n from (\n                                select \n                                r.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,na.nomeAttributo,na.azione as azioneAtt,na.valoreP,na.valore,\n                                p.sedeConsegna as sedeConsegna2,p.*,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\n                                extractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\n                                case when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\n(SELECT  sedeConsegna.tipologiaSede\nFROM \naction_msg t,\nXMLTABLE\n(\nXMLNAMESPACES(\ndefault 'http://phoenix.wind.it/esb/CommercialOrder' \n),\n'/commercialOrder/order//sedeConsegna'\nPASSING XMLTYPE(t.message_xml)\nCOLUMNS \ntipologiaSede VARCHAR2(50) PATH '@tipologiaSede',\nid VARCHAR2(50) PATH '@id',\ncodiceSedeConsegna VARCHAR2(50) PATH '@codiceSedeConsegna'\n) sedeConsegna\nWHERE  t.id=am.id\nand  sedeConsegna.id =p.sedeConsegna     ) tipologiaSede\nfrom action r, request rr ,action_msg am\n                                ,XMLTable(xmlnamespaces( \n                                default 'http://phoenix.wind.it/esb/CommercialOrder' \n                                ),\n                                              'commercialOrder/order//lineItem'\n                                              PASSING XMLTYPE(am.message_xml)\n                                              COLUMNS\n                                                azione VARCHAR2(50) PATH '@azione'\n                                                ,integrationId VARCHAR2(50) PATH '@integrationId'\n                                                ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                                                ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                                                ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                                                ,mdf VARCHAR2(50) PATH '@mdf'\n                                                ,idPrice VARCHAR2(50) PATH '@idPrice'\n                                                ,id VARCHAR2(50) PATH '@id'\n                                                ,tipo VARCHAR2(50) PATH '@tipo'\n                                                 ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                                                 ,codicePs VARCHAR2(50) PATH '@codicePs'\n                                                 ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                                                 ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                                                 ,sedeConsegna VARCHAR2(50) PATH '@idSedeConsegna'\n                                                 /*,iccid  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valore'\n                                                 ,iccidOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valorePrecedente'\n                                                 ,msisdn  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valore'\n                                                 ,msisdnOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valorePrecedente'\n                                                 */\n                                                 ,nomeAttributi XMLTYPE PATH 'nomeAttributo'\n                                                ) \n                                                p,\n                                (SELECT a.name as act_name,a.request_id req_root_id\n                                                               FROM action a, cfg_action b\n                                                              WHERE a.request_id IN\n                                                                       (SELECT DISTINCT root_id\n                                                                          FROM detail\n                                                                         WHERE VALUE IN (\n                                --select id from tmp_ordini_com where stato ='dl'\n                                '1-623753493128'\n                                ))\n                                                                    AND b.id = a.cfg_id\n                                                                    AND b.endpoint = 'queue.siebel.crp.om.in') \n                                                cfg_det,\n                                  XMLTABLE(\n                                        XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n                                        'nomeAttributo'\n                                        PASSING p.nomeAttributi\n                                        COLUMNS \n                                            nomeAttributo VARCHAR2(255) PATH 'text()'\n                                           , azione VARCHAR2(255) path '@azione'\n                                           , valoreP VARCHAR2(255) path '@valorePrecedente'\n                                           , valore VARCHAR2(255) path '@valore'\n                                    ) \n                                    na                                                                   \n                                where \n                                r.name = cfg_det.act_name\n                                and RR.ID=r.request_id\n                                and am.id=r.message_id\n                                and rr.root_id =  cfg_det.req_root_id \n) zz  \nSTART WITH \nzz.componentPadre2 is null \nCONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\norder by integrationId, idCommercialOrder,level",
        "outPutSql": "REQ_TS_CREATED\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tCOMPONENTROOT\tID\tINTEGRATIONID\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tCOMPONENTPADRE2\tRCOVERRIDEPRICE\tTRANSACTIONIDASSET\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tNOMEATTRIBUTO\tAZIONEATT\tVALOREP\tVALORE\tSEDECONSEGNA2\tTIPOLOGIASEDE\n30/04/2024 16:30:05,635987\t1\tPRD-WLESSPREPAG\tAdd\tWLESSPREPAG\t1623754030014\t1-7YJR1LTQ\t1623754030014\t\tPRENOTAX\tPHX00032\tMobile Ricaricabile\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipologia Prepagato\tAdd\tMicrobusiness\tMicrobusiness\t1-7YJRJ0EO\tNoleggio\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPIN\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR ID\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tICCID\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPUK2\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tIMSI\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSuper HLR\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFlag FAM\tAdd\tY\tY\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR\tAdd\t62\t62\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPIN2\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCapacità\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tProfilo Elettrico\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Pagamento\tAdd\tPrepagato\tPrepagato\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tLTE\tAdd\tY\tY\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPUK\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione HLR\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-ACCPREPMOB\tAdd\tACCPREPMOB\t1623754030014\t1-7YJR1LTS\t1623754030016\t\t\tPHX00033\tAccesso Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tGREENWICH\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCapacità SIM\tAdd\t128k\t128k\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tWPN\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice SAP\tAdd\t0U4K01C2005034\t0U4K01C2005034\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCanale Distributivo\tAdd\tCD\tCD\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione SAP\tAdd\tSIM TRIPLE PREPAGATA CORPORATE\tSIM TRIPLE PREPAGATA CORPORATE\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR\tAdd\t62\t62\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MATS\tAdd\tMATS\t1623754030014\t1-7YJR1LU9\t1623754030033\t\t\tPHX00061\tModello SIM Ricaricabile\t1623754030016\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tLTE\tAdd\tY\tY\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDestinazione Uso\tAdd\tBusiness\tBusiness\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tHLR\tAdd\t62\t62\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tConnettività Dati\tAdd\tUMTS\tUMTS\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPrima Ricarica\tAdd\t5\t5\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tServizio Abilitato\tAdd\tVoce + Dati\tVoce + Dati\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-SRVPREPMOB\tAdd\tSRVPREPMOB\t1623754030014\t1-7YJR1LUH\t1623754030041\t\t\tPHX00034\tServizio Mobile Ricaricabile\t1623754030014\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tMSISDN\tAdd\t3284312702\t3284312702\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-SSGRTEL\tAdd\tSSGRTEL\t1623754030014\t1-7YJR1LUQ\t1623754030050\t\t\tPHX00041\tServizio Segreteria Telefonica\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Segreteria\tAdd\tWind Ascolta\tWind Ascolta\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-SSGRTEL\tAdd\tSSGRTEL\t1623754030014\t1-7YJR1LUQ\t1623754030050\t\t\tPHX00041\tServizio Segreteria Telefonica\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFax\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-RAS\tAdd\tRAS\t1623754030014\t1-7YJR1LUU\t1623754030054\t\t\tPHX00089\tRicarica Automatica a Soglia\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tStato\tAdd\tAttivo\tAttivo\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-RAS\tAdd\tRAS\t1623754030014\t1-7YJR1LUU\t1623754030054\t\t\tPHX00089\tRicarica Automatica a Soglia\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSoglia\tAdd\t5\t5\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-RAS\tAdd\tRAS\t1623754030014\t1-7YJR1LUU\t1623754030054\t\t\tPHX00089\tRicarica Automatica a Soglia\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTaglio\tAdd\t10\t10\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCF/P.IVA\tAdd\t03503040986\t03503040986\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tProgetto ad hoc\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo documento\tAdd\tCI\tCI\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale di rifiuto\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNome cliente\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Voce Portato\tAdd\t3717932331\t3717932331\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero telefonico referente\tAdd\t3404723415\t3404723415\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Voce Precedente\tAdd\t3284312702\t3284312702\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero documento\tAdd\tax1850126\tax1850126\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tOperatore di provenienza\tAdd\tPosteMobile\tPosteMobile\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRecipient\tAdd\tWIN3\tWIN3\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo di servizio\tAdd\tSelezionaTP\tSelezionaTP\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo di tecnologia\tAdd\tGSM\tGSM\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCognome cliente\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Dati Precedente\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRagione Sociale/Nome Ditta\tAdd\tOMR SNC\tOMR SNC\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tStato richiesta\tAdd\tBozza\tBozza\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData cut over\tAdd\t04/30/2024 00:00:00\t05/03/2024 00:00:00\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFurto/Smarrimento\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tICCID\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Dati Portato\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tReitero in carico a\tAdd\tFV\tFV\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRichiesta lavorata\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice Gruppo\tAdd\t\t136438370\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData cut over nominale\tAdd\t04/30/2024 00:00:00\t04/30/2024 00:00:00\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDonor/Donating\tAdd\tOmnitel\tOmnitel\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRichiesta trasferimento credito residuo\tAdd\tY\tY\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRichiesta preattivazione\tAdd\tY\tY\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPrevalidazione\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tId Richiesta\tAdd\t\t45691240\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Fax Portato\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t3\t|__ TE-MNPIN\tAdd\tMNPIN\t1623754030014\t1-7YJR1LUY\t1623754030058\t\t\tPHX30009\tDati Richiesta MNP\t1623754030041\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Fax Precedente\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSIM Integration Id\tAdd\tCPQ_790754\t1623754030014\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOMODELLO\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData restituzione del terminale\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione Guasto\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSIM Associata\tAdd\t3284312702\t3284312702\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSottostato del Terminale\tAdd\tNon Riscattato\tNon Riscattato\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMONAME\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOPT\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tRiscatto del terminale\tAdd\tY\tY\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tStato del Terminale\tAdd\tNon Restituito\tNon Restituito\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale Associazione\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione AT Corpo\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tMantenimento Rate CPE - Del. 487\tAdd\tN\tN\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOTMFLAG\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOTYPE\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSIM Consistenza Flg\tAdd\tN\tN\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tConnettività Associata\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPROMOCODE\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice AT Corpo\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tService ID\tAdd\tY\tY\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Vendita\tAdd\tVendita Rateizzata\tVendita Rateizzata\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCloneModelloPrimaScelta\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tManuntenzione\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNOMEAPPLICAZIONE\tAdd\tCC\tCC\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPromoTM\tAdd\t1617810956820\t1617810956820\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t1\tPRD-CPEM\tAdd\tCPEM\t1623754030099\t1-7YJR1LW3\t1623754030099\t\t\tPHX00004\tCPE Fonia\t\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTIPOORDINE\tAdd\t\t\t1-7YJRJ0EM\tVendita Rateizzata\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tID ordine SAP\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCodice materiale SAP\tAdd\t0TAL2550OU0001\t0TAL2550OU0001\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPrezzo Terminale\tAdd\t780\t780\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale Cambio\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero sostituzioni KASKO ammesse\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tDescrizione terminale\tAdd\tiPhone 15 256GB Black\tiPhone 15 256GB Black\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tManutenzione\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipologia\tAdd\tGSM\tGSM\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipologia Terminale\tAdd\tCPE\tCPE\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tCausale Fornitura\tAdd\tProvisioning\tProvisioning\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tNumero Interventi KASKO effettuati\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPosticipato\tAdd\tN\tN\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tTipo Vendita\tAdd\tVendita Rateizzata\tVendita Rateizzata\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tData consegna\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tIMEI\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tModello Terminale\tAdd\t30 Mesi - Apple IPhone 15 256GB - Black\t30 Mesi - Apple IPhone 15 256GB - Black\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tPercentuale Sconto\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tQuantità Materiale\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tScelta\tAdd\tPrima\tPrima\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tSeriale Tecnico\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tFattura SAP\tAdd\t\t\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tImporto Entry Ticket\tAdd\t120\t120\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tClasse Terminale\tAdd\t30 Mesi - Apple IPhone 15 256GB - Black\t30 Mesi - Apple IPhone 15 256GB - Black\t\t\n30/04/2024 16:30:05,635987\t2\t|__ TC-TERMOB\tAdd\tTERMOB\t1623754030099\t1-7YJR1LWU\t1623754030126\tPRICE_MAN_01\tPOSTPAGATA\tPHX61554\tTM Generico\t1623754030099\t\t\t1-623753493128\tAttivazione\tAttivazione\tPrima Attivazione\t69759671956\tSA\tReceive In Order\tImporto Maxi Rata\tAdd\t90\t90"
      },
      {
        "id": "8.5",
        "nomeParagrafo": "Estrae OLI in maniera gerarchica , sede consegna, attributi e oggetti senza attributi",
        "codicePlSql": "select * from (\n                        select distinct\n                        zz.req_ts_created,\n                        zz.idCommercialOrder,\n                        zz.tipo_ordine,\n                        zz.sottotipo_ordine,\n                        zz.causale_ordine,\n                        level livello,\n                        DECODE (LEVEL,\n                                           1, zz.TIPO||'-'||zz.sottotipo,\n                                           2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n                                      tipo, \n                        zz.azione,\n                        zz.sottoTipo,\n                        --zz.id,\n                        zz.idPrice,\n                        zz.mdf,\n                        zz.codicePs,\n                        zz.descrizionePS,          \n                        zz.rcOverridePrice,\n                        zz.req_id,zz.req_status,zz.req_name,\n                        zz.nomeAttributo,\n                        zz.azioneAtt,zz.valoreP,zz.valore,\n                        zz.sedeConsegna2,\n                        zz.tipologiaSede,\n                        zz.componentRoot,\n                        zz.transactionIdAsset,\n                        zz.integrationid,\n                        zz.componentpadre2\n                         from (\n                                    select \n                                                        p.sottoTipo,p.azione,p.tipo,\n                                                        r.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,na.nomeAttributo,na.azione as azioneAtt,na.valoreP,na.valore,\n                                                        p.sedeConsegna as sedeConsegna2,p.integrationid,p.transactionIdAsset,p.componentRoot,p.rcOverridePrice,p.descrizionePS,p.codicePs,p.mdf,p.idPrice,\n                                                        extractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\n                                                        extractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\n                                                        extractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\n                                                        extractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\n                                                        case when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\n                                                        (SELECT sedeConsegna.tipologiaSede FROM action_msg t, XMLTABLE( XMLNAMESPACES(DEFAULT 'http://phoenix.wind.it/esb/CommercialOrder'), '/commercialOrder/order//sedeConsegna' PASSING XMLTYPE(t.message_xml) COLUMNS tipologiaSede VARCHAR2(50) PATH '@tipologiaSede',id VARCHAR2(50) PATH '@id',codiceSedeConsegna VARCHAR2(50) PATH '@codiceSedeConsegna') sedeConsegna WHERE t.id = am.id AND sedeConsegna.id = p.sedeConsegna) AS tipologiaSede\n                                    from\n                                                        action r, \n                                                        request rr ,\n                                                        action_msg am,\n                                                        (SELECT a.name as act_name,a.request_id req_root_id\n                                                                                       FROM action a, cfg_action b\n                                                                                      WHERE a.request_id IN\n                                                                                               (SELECT DISTINCT root_id\n                                                                                                  FROM detail\n                                                                                                 WHERE VALUE IN (\n                                                        --select id from tmp_ordini_com where stato ='dl'\n                                                        '1-625357488659'--'1-624670604675'\n                                                        ))\n                                                                                            AND b.id = a.cfg_id\n                                                                                            AND b.endpoint = 'queue.siebel.crp.om.in') \n                                                         cfg_det\n                                                        , XMLTable(xmlnamespaces( \n                                                        default 'http://phoenix.wind.it/esb/CommercialOrder' \n                                                        ),\n                                                                      'commercialOrder/order//lineItem'\n                                                                      PASSING XMLTYPE(am.message_xml)\n                                                                      COLUMNS\n                                                                        azione VARCHAR2(50) PATH '@azione'\n                                                                        ,integrationId VARCHAR2(50) PATH '@integrationId'\n                                                                        ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                                                                        ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                                                                        ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                                                                        ,mdf VARCHAR2(50) PATH '@mdf'\n                                                                        ,idPrice VARCHAR2(50) PATH '@idPrice'\n                                                                        ,id VARCHAR2(50) PATH '@id'\n                                                                        ,tipo VARCHAR2(50) PATH '@tipo'\n                                                                         ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                                                                         ,codicePs VARCHAR2(50) PATH '@codicePs'\n                                                                         ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                                                                         ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                                                                         ,sedeConsegna VARCHAR2(50) PATH '@idSedeConsegna'\n                                                                         /*,iccid  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valore'\n                                                                         ,iccidOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"ICCID\")]/@valorePrecedente'\n                                                                         ,msisdn  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valore'\n                                                                         ,msisdnOld  VARCHAR2(50) PATH 'nomeAttributo[contains(text(), \"MSISDN\")]/@valorePrecedente'\n                                                                         */\n                                                                         ,nomeAttributi XMLTYPE PATH 'nomeAttributo'\n                                                                        ) \n                                                         p ,\n                                                        XMLTABLE(\n                                                                XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n                                                                'nomeAttributo'\n                                                                PASSING p.nomeAttributi\n                                                                COLUMNS \n                                                                    nomeAttributo VARCHAR2(255) PATH 'text()'\n                                                                   , azione VARCHAR2(255) path '@azione'\n                                                                   , valoreP VARCHAR2(255) path '@valorePrecedente'\n                                                                   , valore VARCHAR2(255) path '@valore'\n                                                            ) \n                                                         na \n                                                        where \n                                                        r.name = cfg_det.act_name\n                                                        and RR.ID=r.request_id\n                                                        and am.id=r.message_id\n                                                        and rr.root_id =  cfg_det.req_root_id \n                                    ) zz  \n                        START WITH \n                        zz.componentPadre2 is null \n                        CONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\nunion all\n                        select distinct\n                        zz.req_ts_created,\n                        zz.idCommercialOrder,\n                        zz.tipo_ordine,\n                        zz.sottotipo_ordine,\n                        zz.causale_ordine,\n                        level livello,\n                        DECODE (LEVEL,\n                                           1, zz.TIPO||'-'||zz.sottotipo,\n                                           2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n                                      tipo, \n                        zz.azione,\n                        zz.sottoTipo,\n                        --zz.id,\n                        zz.idPrice,\n                        zz.mdf,\n                        zz.codicePs,\n                        zz.descrizionePS,          \n                        zz.rcOverridePrice,\n                        zz.req_id,zz.req_status,zz.req_name,\n                        zz.nomeAttributo,\n                        zz.azioneAtt,zz.valoreP,zz.valore,\n                        zz.sedeConsegna2,\n                        zz.tipologiaSede,\n                        zz.componentRoot,\n                        zz.transactionIdAsset,\n                        zz.integrationid,\n                        zz.componentpadre2\n                         from (\n                        select \n                        p.sottoTipo,p.azione,p.tipo,\n                                                        r.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,\n                                                        '' as nomeAttributo,\n                                                        '' as azioneAtt,\n                                                        '' as valoreP,\n                                                        '' as valore,\n                                                        p.sedeConsegna as sedeConsegna2,\n                                                        p.integrationid,p.transactionIdAsset,p.componentRoot,p.rcOverridePrice,p.descrizionePS,p.codicePs,p.mdf,p.idPrice,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\n                        case when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\n                         (SELECT sedeConsegna.tipologiaSede FROM action_msg t, XMLTABLE( XMLNAMESPACES(DEFAULT 'http://phoenix.wind.it/esb/CommercialOrder'), '/commercialOrder/order//sedeConsegna' PASSING XMLTYPE(t.message_xml) COLUMNS tipologiaSede VARCHAR2(50) PATH '@tipologiaSede',id VARCHAR2(50) PATH '@id',codiceSedeConsegna VARCHAR2(50) PATH '@codiceSedeConsegna') sedeConsegna WHERE t.id = am.id AND sedeConsegna.id = p.sedeConsegna) AS tipologiaSede\n                        from \n                        action r, \n                        request rr ,\n                        action_msg am\n                        ,XMLTable(xmlnamespaces( \n                        default 'http://phoenix.wind.it/esb/CommercialOrder' \n                        ),\n                                      'commercialOrder/order//lineItem'\n                                      PASSING XMLTYPE(am.message_xml)\n                                      COLUMNS\n                                        azione VARCHAR2(50) PATH '@azione'\n                                        ,integrationId VARCHAR2(50) PATH '@integrationId'\n                                        ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                                        ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                                        ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                                        ,mdf VARCHAR2(50) PATH '@mdf'\n                                        ,idPrice VARCHAR2(50) PATH '@idPrice'\n                                        ,id VARCHAR2(50) PATH '@id'\n                                        ,tipo VARCHAR2(50) PATH '@tipo'\n                                         ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                                         ,codicePs VARCHAR2(50) PATH '@codicePs'\n                                         ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                                         ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                        ,sedeConsegna VARCHAR2(50) PATH '@idSedeConsegna'\n                                        ) \n                                        p,\n                        (SELECT a.name as act_name,a.request_id req_root_id\n                                                       FROM action a, cfg_action b\n                                                      WHERE a.request_id IN\n                                                               (SELECT DISTINCT root_id\n                                                                  FROM detail\n                                                                 WHERE VALUE IN (\n                        --select id from tmp_ordini_com where stato ='dl'\n                        '1-625357488659'--'1-624670604675'\n                        ))\n                                                            AND b.id = a.cfg_id\n                                                            AND b.endpoint = 'queue.siebel.crp.om.in') \n                                       cfg_det                \n                        where \n                        r.name = cfg_det.act_name\n                        and RR.ID=r.request_id\n                        and am.id=r.message_id\n                        and rr.root_id =  cfg_det.req_root_id \n                        ) zz  \n                        START WITH \n                        zz.componentPadre2 is null \n                        CONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\n)\norder by livello,componentPadre2,integrationId\n\n---------------------------------------------------",
        "outPutSql": "REQ_TS_CREATED\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tRCOVERRIDEPRICE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tNOMEATTRIBUTO\tAZIONEATT\tVALOREP\tVALORE\tSEDECONSEGNA2\tTIPOLOGIASEDE\tCOMPONENTROOT\tTRANSACTIONIDASSET\tINTEGRATIONID\tCOMPONENTPADRE2\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t1\tPRD-GSS\tModify\tGSS\t\t\tPHX70208\tGiga Smart Share\t\t69943460050\tSA\tReceive Commercial/Technical Change\tNome Basket\t-\tGIGA15\tGIGA15\t\t\t1526934295630\t1526934295630\t1526934295630\t\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t1\tPRD-GSS\tModify\tGSS\t\t\tPHX70208\tGiga Smart Share\t\t69943460050\tSA\tReceive Commercial/Technical Change\tID Basket\t-\t1526934295630\t1526934295630\t\t\t1526934295630\t1526934295630\t1526934295630\t\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t1\tPRD-GSS\tModify\tGSS\t\t\tPHX70208\tGiga Smart Share\t\t69943460050\tSA\tReceive Commercial/Technical Change\tReferente Comunicazioni Giga Smart Share\t-\t3402585016\t3402585016\t\t\t1526934295630\t1526934295630\t1526934295630\t\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t1\tPRD-GSS\tModify\tGSS\t\t\tPHX70208\tGiga Smart Share\t\t69943460050\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1526934295630\t1526934295630\t1526934295630\t\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t2\t|__ TC-TGSS\tModify\tTGSS\t\t\tPHX70209\tTC Giga Smart Share\t\t69943460050\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1526934295630\t1526934296405\t1526934296405\t1526934295630\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t3\t|__ TE-MS15G\tModify\tMS15G\t\t\tPHX70306\tMy Share 15 Giga\t\t69943460050\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1526934295630\t1526934724885\t1526934724885\t1526934296405\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t4\t|__ PC-OPZ\t-\tOPZ\tID_PRICE_162\tPRENOTAX\tPHX70314\tPC My Share 15 Giga\t\t69943460050\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1526934295630\t1526934724889\t1526934724889\t1526934724885\n17/05/2024 11:34:19,644440\t1-625357488659\tModifica\tModifica Commerciale\tVariazione Commerciale\t5\t|__ BE-DIS\t-\tDIS\t\tPRENOTAX\t333427\tPromozione 66% My Share 15 Giga\t\t69943460050\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1526934295630\t1527159272006\t1527159272006\t1526934724889"
      },
      {
        "id": "8.6",
        "nomeParagrafo": "Estrazione OLI gerarchica, sede consegna, oli con attributi e senza (ottimizzata)",
        "codicePlSql": "select distinct\n                        zz.req_ts_created,\n                        zz.idCommercialOrder,\n                        zz.tipo_ordine,\n                        zz.sottotipo_ordine,\n                        zz.causale_ordine,\n                        level livello,\n                        DECODE (LEVEL,\n                                           1, zz.TIPO||'-'||zz.sottotipo,\n                                           2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                           '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n                                      tipo, \n                        zz.azione,\n                        zz.sottoTipo,\n                        --zz.id,\n                        zz.idPrice,\n                        zz.mdf,\n                        zz.codicePs,\n                        zz.descrizionePS,          \n                        zz.rcOverridePrice,\n                        zz.req_id,zz.req_status,zz.req_name,\n                        zz.nomeAttributo,\n                        zz.azioneAtt,zz.valoreP,zz.valore,\n                        zz.sedeConsegna2,\n                        zz.tipologiaSede,\n                        zz.componentRoot,\n                        zz.transactionIdAsset,\n                        zz.integrationid,\n                        zz.componentpadre2\n                         from (\nselect \n        am.idCommercialOrder,\n        am.tipo_ordine,\n        am.sottotipo_ordine,\n        am.causale_ordine,\n        am.req_id,\n        am.req_status,\n        am.req_name,\n        am.req_ts_created,\n        na.nomeAttributo,\n        na.azione as azioneAtt,\n        na.valoreP,na.valore,\n        p.sottoTipo,\n        p.azione,\n        p.tipo,\n        p.sedeConsegna as sedeConsegna2,\n        p.integrationid,\n        p.transactionIdAsset,\n        p.componentRoot,\n        p.rcOverridePrice,\n        p.descrizionePS,\n        p.codicePs,\n        p.mdf,\n        p.idPrice,\n        case when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\n        (SELECT sedeConsegna.tipologiaSede FROM action_msg t, XMLTABLE( XMLNAMESPACES(DEFAULT 'http://phoenix.wind.it/esb/CommercialOrder'), '/commercialOrder/order//sedeConsegna' PASSING XMLTYPE(t.message_xml) COLUMNS tipologiaSede VARCHAR2(50) PATH '@tipologiaSede',id VARCHAR2(50) PATH '@id',codiceSedeConsegna VARCHAR2(50) PATH '@codiceSedeConsegna') sedeConsegna WHERE t.id = am.id AND sedeConsegna.id = p.sedeConsegna) AS tipologiaSede\nfrom \n(\n        select message_xml,idCommercialOrder,tipo_ordine,sottotipo_ordine,causale_ordine,req_id,req_status,req_name,req_ts_created,id\n        from \n        (\n            select \n                        am.message_xml,am.id,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\n                        extractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\n                        r.id req_id,\n                        r.status req_status,\n                        r.name req_name,\n                        r.ts_created req_ts_created\n            from\n                        action r, \n                        request rr ,\n                        action_msg am,\n                        (SELECT a.name as act_name,a.request_id req_root_id FROM action a, cfg_action b WHERE a.request_id IN (SELECT DISTINCT root_id FROM detail WHERE VALUE IN ( '1-624670604675')) AND b.id = a.cfg_id AND b.endpoint = 'queue.siebel.crp.om.in') cfg_det\n            where \n                        r.name = cfg_det.act_name\n                        and RR.ID=r.request_id\n                        and am.id=r.message_id\n                        and rr.root_id =  cfg_det.req_root_id         \n        )  a where idcommercialorder is not null    \n) am \nJOIN XMLTable(xmlnamespaces( \n    default 'http://phoenix.wind.it/esb/CommercialOrder' \n    ),\n                  'commercialOrder/order//lineItem'\n                  PASSING XMLTYPE(am.message_xml)\n                  COLUMNS\n                    azione VARCHAR2(50) PATH '@azione'\n                    ,integrationId VARCHAR2(50) PATH '@integrationId'\n                    ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                    ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                    ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                    ,mdf VARCHAR2(50) PATH '@mdf'\n                    ,idPrice VARCHAR2(50) PATH '@idPrice'\n                    ,id VARCHAR2(50) PATH '@id'\n                    ,tipo VARCHAR2(50) PATH '@tipo'\n                     ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                     ,codicePs VARCHAR2(50) PATH '@codicePs'\n                     ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                     ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                     ,sedeConsegna VARCHAR2(50) PATH '@idSedeConsegna'\n                     ,nomeAttributi XMLTYPE PATH 'nomeAttributo'\n                    ) \n     p on 1=1 LEFT JOIN  XMLTABLE(\n                                                                XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n                                                                'nomeAttributo'\n                                                                PASSING p.nomeAttributi\n                                                                COLUMNS \n                                                                    nomeAttributo VARCHAR2(255) PATH 'text()'\n                                                                   , azione VARCHAR2(255) path '@azione'\n                                                                   , valoreP VARCHAR2(255) path '@valorePrecedente'\n                                                                   , valore VARCHAR2(255) path '@valore'\n                                                            ) \n                                                         na ON 1=1\n)zz  \n                        START WITH \n                        zz.componentPadre2 is null \n                        CONNECT BY PRIOR  zz.integrationid=zz.componentPadre2                                                         \n                        order by livello,componentPadre2,integrationId",
        "outPutSql": "REQ_TS_CREATED\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tRCOVERRIDEPRICE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tNOMEATTRIBUTO\tAZIONEATT\tVALOREP\tVALORE\tSEDECONSEGNA2\tTIPOLOGIASEDE\tCOMPONENTROOT\tTRANSACTIONIDASSET\tINTEGRATIONID\tCOMPONENTPADRE2\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tBloccoPOLT\t-\tY\tY\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero canali totali\t-\t0\t0\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag SP\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCLONENUMERODATI\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tsommaestensioni\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tAccesso con VoIP\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCLONEDISTRETTO\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCLI - Voce\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Servizio\t-\tDati + Voip\tDati + Voip\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Linea Wind\t-\tSIMPLEX\tSIMPLEX\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCLI - Dati\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tRinuncia a Infostrada come Operatore unico\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite PBX\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag NSP\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPIANOTAERIFFARIVOIP\t-\tPHX70023\tPHX70023\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag centralino\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDettaglio Fattura\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Dismissione\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tRicerca Automatica\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tError\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTotale Conteggio IPCentrex\t-\t0\t0\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMonolinea\t-\tN\tN\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData DRR\t-\t\t\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t1\tPRD-WLINEBNDL\tModify\tWLINEBNDL\t\t\tPHX00003\tFISSO DATI E VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tConfigurazione Accesso\t-\tIndiretto (I)\tIndiretto (I)\t\t\t1620944337099\t\t1620944337099\t\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Rete\t-\tAlcatel\tAlcatel\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Canali Entranti\t-\t0\t0\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPeriodo di non attivazione - Data Inizio 2\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTecnologia di Accesso Voce\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCodice Migrazione Donating\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPeriodo di non attivazione - Data Fine 1\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFornitore della Fibra\t-\tOF\tOF\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tVelocità DOWN\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Borchia\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Canali Uscenti\t-\t0\t0\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag Linea Complessa\t-\tN\tN\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCodice Controllo\t-\tP\tP\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Canali Bidirezionali\t-\t0\t0\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPop-Id Building\t-\tPE_01-13_068_068028_8000065445_21\tPE_01-13_068_068028_8000065445_21\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMacroarea\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTotale Canali BEU\t-\t0\t0\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tSeconda Borchia\t-\tN\tN\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCodice Migrazione\t-\tQKVOF25UTH1TYXWOFB\tQKVOF25UTH1TYXWOFB\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDistanza\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPeriodo di non attivazione - Data Fine 2\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Accesso Voce\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLinea Attiva\t-\tN\tN\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tVelocità UP\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tQuantità Linee/Flussi\t-\t0\t0\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTecnologia di Accesso Dati\t-\tFTTh FIBRA\tFTTh FIBRA\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Accesso Dati\t-\tFTTH\tFTTH\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tElemento di Rete/Armadio\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag Controllo\t-\tY\tY\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPROVIDER\t-\tEOF\tEOF\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPeriodo di non attivazione - Data Inizio 1\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-ACCF\t-\tACCF\t\t\tPHX20002\tACCESSO FISSO\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTECNOLOGIA APPARATO\t-\t\t\t\t\t1620944337099\t\t1620944337614\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDistretto Linea\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tBarring Servizio Dati\t-\tN\tN\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tProfilo SDC\t-\tFIBRAFTTH2500\tFIBRAFTTH2500\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tVelocità Download\t-\t2.5Gb\t2.5Gb\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDistretto Pilota\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLinee VoIP\t-\t8\t8\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tInstallazione On-Site\t-\tY\tY\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Dati\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Pilota\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDistretto Fittizio\t-\tw\tw\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Fittizio\t-\t47282665\t47282665\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Linea\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDistretto Pilota PAM\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tService ID\t-\tFTTH.w47282665\tFTTH.w47282665\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tProfilo\t-\tVOIP8\tVOIP8\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tSeriale Tecnico\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tContributo NP Interna\t-\tY\tY\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tProtocollo\t-\tETH\tETH\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLINK CPE INTEG ID\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tContributo Rateizzato\t-\tN\tN\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Attesa Consegna\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPassword\t-\tospite\tospite\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCanali voip contemporanei\t-\t2\t2\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMCR\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMantenimento Rate - Del. 487\t-\tN\tN\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Pilota PAM\t-\t\t\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tUser Name\t-\tbenvenutoazienda@megaoffice.it\tbenvenutoazienda@megaoffice.it\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SDATIBNDL\tModify\tSDATIBNDL\t\t\tPHX20005\tSERVIZIO DATI\t\t69860945591\tSA\tReceive Commercial/Technical Change\tVelocità Upload\t-\t500M\t500M\t\t\t1620944337099\t\t1620944337671\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tInizio della Derivazione\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFLAGPOPUP\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo di Interno\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tInizio della Derivazione Numerica\t-\t0\t0\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPiano_Tariff\t-\tPHX70023\tPHX70023\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Totale Linee\t-\t0\t0\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero di Telefono (CLI)\t-\t0858893382\t0858893382\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag barring Servizio Dati\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPassword Alcatel\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTecnologia VoIP\t-\tPOTS\tPOTS\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin Alcatel\t-\t390858893382\t390858893382\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Canali Voce\t-\t1\t1\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLink a CDM\t-\t1620944337671\t1620944337671\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNr. Estensioni Interne IP Centrex\t-\t0\t0\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tVoIP Internazionale\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Attesa Consegna\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin Sylantro\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag NP\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tClasse Servizio\t-\tNo Blocchi\tNo Blocchi\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin A\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite PBX\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin Da\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPrefisso\t-\t085\t085\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFine della Derivazione Numerica\t-\t0\t0\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFine della Derivazione\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPassword Sylantro\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMobile associato\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tService ID\t-\t0858893382\t0858893382\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Linea\t-\tSIMPLEX\tSIMPLEX\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Conteggio Linea\t-\t1\t1\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLockAsset\t-\tY\tY\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tProfilo VoIP\t-\tVoice\tVoice\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipologia Rientro TI\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMigrazione TDM\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDominio\t-\twind.it\twind.it\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDettaglio in Fattura\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Rientro TI\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMultinumero VoIP\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tUser Sylantro\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero utenti ToIP su sede\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Capostipite Centralino\t-\t\t\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite Centralino\t-\tN\tN\t\t\t1620944337099\t\t1620944390722\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLockAsset\t-\tY\tY\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite Centralino\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Attesa Consegna\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tInizio della Derivazione\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDettaglio in Fattura\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero utenti ToIP su sede\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite PBX\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin Alcatel\t-\t390858893383\t390858893383\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tUser Sylantro\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tProfilo VoIP\t-\tVoice\tVoice\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Rientro TI\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMobile associato\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLink a CDM\t-\t1620944337671\t1620944337671\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo di Interno\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFLAGPOPUP\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPassword Alcatel\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFine della Derivazione\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Canali Voce\t-\t1\t1\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin A\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNr. Estensioni Interne IP Centrex\t-\t0\t0\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPiano_Tariff\t-\tPHX70023\tPHX70023\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tDominio\t-\twind.it\twind.it\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tClasse Servizio\t-\tNo Blocchi\tNo Blocchi\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipologia Rientro TI\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCapostipite\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMigrazione TDM\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPrefisso\t-\t085\t085\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPassword Sylantro\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFine della Derivazione Numerica\t-\t0\t0\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Conteggio Linea\t-\t1\t1\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag barring Servizio Dati\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTecnologia VoIP\t-\tPOTS\tPOTS\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Totale Linee\t-\t0\t0\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero Capostipite Centralino\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero di Telefono (CLI)\t-\t0858893383\t0858893383\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tMultinumero VoIP\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin Da\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tService ID\t-\t0858893383\t0858893383\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tLogin Sylantro\t-\t\t\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tInizio della Derivazione Numerica\t-\t0\t0\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tVoIP Internazionale\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tTipo Linea\t-\tSIMPLEX\tSIMPLEX\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t2\t|__ TC-SVOIP\t-\tSVOIP\t\t\tPHX20010\tSERVIZIO VOIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag NP\t-\tN\tN\t\t\t1620944337099\t\t1620944390767\t1620944337099\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tProvincia\t-\tPE\tPE\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tIndirizzo Validato PAM\t-\tY\tY\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tScala\t-\t\t\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tIndirizzo Validato\t-\tN\tN\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNumero alternativo\t-\t\t\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCAP\t-\t65100\t65100\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tPiano\t-\t\t\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tComune/Provincia\t-\tPESCARA\tPESCARA\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Validazione\t-\t03/27/2024 00:00:00\t03/27/2024 00:00:00\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tParticella Toponomastica\t-\tSTRADA COMUNALE\tSTRADA COMUNALE\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tIndirizzo\t-\tPIANA\tPIANA\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tComplesso\t-\t\t\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tNum. Civico\t-\t21\t21\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tRisorsa Verificata\t-\tY\tY\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCod. Toponomastico\t-\t68_28_255_21\t68_28_255_21\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tInterno\t-\t\t\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-DATUBC\t-\tDATUBC\t\t\tPHX30010\tDati Ubicazione\t\t69860945591\tSA\tReceive Commercial/Technical Change\tCod. ISTAT\t-\t13068028\t13068028\t\t\t1620944337099\t\t1620944337648\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-FTTH\t-\tFTTH\t\t\tPHX70252\tFTTH\t\t69860945591\tSA\tReceive Commercial/Technical Change\tFlag Prenotazione\t-\tY\tY\t\t\t1620944337099\t\t1620944337666\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-FTTH\t-\tFTTH\t\t\tPHX70252\tFTTH\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Prenotazione\t-\t03/27/2024 00:00:00\t03/27/2024 00:00:00\t\t\t1620944337099\t\t1620944337666\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-FTTH\t-\tFTTH\t\t\tPHX70252\tFTTH\t\t69860945591\tSA\tReceive Commercial/Technical Change\tData Adesione\t-\t\t\t\t\t1620944337099\t\t1620944337666\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-FTTH\t-\tFTTH\t\t\tPHX70252\tFTTH\t\t69860945591\tSA\tReceive Commercial/Technical Change\tID Circuito\t-\tFTTH_0001795319\tFTTH_0001795319\t\t\t1620944337099\t\t1620944337666\t1620944337614\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ PC-OPZ\tModify\tOPZ\tID_PRICE_4832\tPOSTPAGATA\tPHX70022\tOffice Plus - GigaFibra\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390701\t1620944337671\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ TE-SECWEB\t-\tSECWEB\t\t\tPHX70327\tSecure Web - Multilinea\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390703\t1620944337671\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ PC-PNTF\t-\tPNTF\tID_PRICE_981\tPOSTPAGATA\tPHX70023\tOffice Plus - VoIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390766\t1620944390722\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t3\t|__ PC-PNTF\t-\tPNTF\tID_PRICE_981\tPOSTPAGATA\tPHX70023\tOffice Plus - VoIP\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390811\t1620944390767\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t4\t|__ BE-DIS\t-\tDIS\tID_PRICE_1560\tPOSTPAGATA\t333116\tSconto Top Canone Office Plus GigaFibra\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390702\t1620944390701\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t4\t|__ BE-DIS\tAdd\tDIS\tID_PRICE_1556\tPOSTPAGATA\t333044\tSconto Gold Canone Office Plus GigaFibra\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1624671426600\t1620944390701\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t4\t|__ PC-OPZ\t-\tOPZ\tID_PRICE_919\tPOSTPAGATA\tPHX70328\tPC Secure Web Multilinea\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390704\t1620944390703\n10/05/2024 12:34:32,026037\t1-624670604675\tModifica\tVariazione Commerciale\t\t5\t|__ BE-DIS\t-\tDIS\tID_PRICE_1500\tPOSTPAGATA\t333326\tSconto 100% Secure Web Multilinea\t\t69860945591\tSA\tReceive Commercial/Technical Change\t\t\t\t\t\t\t1620944337099\t\t1620944390705\t1620944390704"
      },
      {
        "id": "8.7",
        "nomeParagrafo": "Estrazione OLI, in maniera gerarchica a partire dall'ordine, con attributi (STORICO)",
        "codicePlSql": "select * from (\n            select distinct\n                                    zz.req_ts_created,\n                                    zz.idCommercialOrder,\n                                    zz.tipo_ordine,\n                                    zz.sottotipo_ordine,\n                                    zz.causale_ordine,\n                                    level livello,\n                                    DECODE (LEVEL,\n                                                       1, zz.TIPO||'-'||zz.sottotipo,\n                                                       2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                                       3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                                       4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                                       5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                                                       '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n                                                  tipo, \n                                    zz.azione,\n                                    zz.sottoTipo,\n                                    --zz.id,\n                                    zz.idPrice,\n                                    zz.mdf,\n                                    zz.codicePs,\n                                    zz.descrizionePS,          \n                                    zz.rcOverridePrice,\n                                    zz.req_id,zz.req_status,zz.req_name,\n                                    zz.nomeAttributo,\n                                    zz.azioneAtt,zz.valoreP,zz.valore,\n                                    zz.sedeConsegna2,\n                                    zz.tipologiaSede,\n                                    zz.componentRoot,\n                                    zz.transactionIdAsset,\n                                    zz.integrationid,\n                                    zz.componentpadre2\n                                     from (\n            select \n                    am.idCommercialOrder,\n                    am.tipo_ordine,\n                    am.sottotipo_ordine,\n                    am.causale_ordine,\n                    am.req_id,\n                    am.req_status,\n                    am.req_name,\n                    am.req_ts_created,\n                    na.nomeAttributo,\n                    na.azione as azioneAtt,\n                    na.valoreP,na.valore,\n                    p.sottoTipo,\n                    p.azione,\n                    p.tipo,\n                    p.sedeConsegna as sedeConsegna2,\n                    p.integrationid,\n                    p.transactionIdAsset,\n                    p.componentRoot,\n                    p.rcOverridePrice,\n                    p.descrizionePS,\n                    p.codicePs,\n                    p.mdf,\n                    p.idPrice,\n                    case when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\n                    (SELECT sedeConsegna.tipologiaSede FROM action_msg_hs t, XMLTABLE( XMLNAMESPACES(DEFAULT 'http://phoenix.wind.it/esb/CommercialOrder'), '/commercialOrder/order//sedeConsegna' PASSING XMLTYPE(t.message_xml) COLUMNS tipologiaSede VARCHAR2(50) PATH '@tipologiaSede',id VARCHAR2(50) PATH '@id',codiceSedeConsegna VARCHAR2(50) PATH '@codiceSedeConsegna') sedeConsegna WHERE t.id = am.id AND sedeConsegna.id = p.sedeConsegna) AS tipologiaSede\n            from \n            (\n                    select message_xml,idCommercialOrder,tipo_ordine,sottotipo_ordine,causale_ordine,req_id,req_status,req_name,req_ts_created,id\n                    from \n                    (\n                        select \n                                    am.message_xml,am.id,\n                                    extractValue(xmltype(message_xml),'commercialOrder/order/@idCommercialOrder','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as idCommercialOrder,\n                                    extractValue(xmltype(message_xml),'commercialOrder/order/@tipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"')as tipo_ordine,\n                                    extractValue(xmltype(message_xml),'commercialOrder/order/@sottotipo','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as sottotipo_ordine,\n                                    extractValue(xmltype(message_xml),'commercialOrder/order/@causaleOrdine','xmlns=\"http://phoenix.wind.it/esb/CommercialOrder\"') as causale_ordine,\n                                    r.id req_id,\n                                    r.status req_status,\n                                    r.name req_name,\n                                    r.ts_created req_ts_created\n                        from\n                                    action_hs r, \n                                    request_hs rr ,\n                                    action_msg_hs am,\n                                    (SELECT a.name as act_name,a.request_id req_root_id FROM action a where id\n                                        in \n                                        (\n                                                 SELECT c.id FROM detail a, request_hs b ,action_hs c\n                                                 WHERE \n                                                 b.id=a.root_id and\n                                                 c.request_id=b.id and \n                                                 c.direction='inbound' and \n                                                 c.system='siebel' and \n                                                 a.name='id_odl_crm' and \n                                                 a.VALUE IN (\n                                                 '1-624256430584'\n                                                 ) \n                                        )\n                                    )\n                                    /*, cfg_action b WHERE a.request_id IN \n                                    (SELECT DISTINCT root_id FROM detail WHERE VALUE IN ( '1-622044105092')) AND b.id = a.cfg_id AND b.endpoint = 'queue.siebel.crp.om.in') */ cfg_det\n                        where \n                                    r.name = cfg_det.act_name\n                                    and RR.ID=r.request_id\n                                    and am.id=r.message_id\n                                    and rr.root_id =  cfg_det.req_root_id         \n                    )  a where idcommercialorder is not null    \n            ) am \n            JOIN XMLTable(xmlnamespaces( \n                default 'http://phoenix.wind.it/esb/CommercialOrder' \n                ),\n                              'commercialOrder/order//lineItem'\n                              PASSING XMLTYPE(am.message_xml)\n                              COLUMNS\n                                azione VARCHAR2(50) PATH '@azione'\n                                ,integrationId VARCHAR2(50) PATH '@integrationId'\n                                ,componentRoot VARCHAR2(50) PATH '@componentRoot'\n                                ,componentPadre VARCHAR2(50) PATH '@componentPadre'\n                                ,descrizionePS VARCHAR2(50) PATH '@descrizionePS'\n                                ,mdf VARCHAR2(50) PATH '@mdf'\n                                ,idPrice VARCHAR2(50) PATH '@idPrice'\n                                ,id VARCHAR2(50) PATH '@id'\n                                ,tipo VARCHAR2(50) PATH '@tipo'\n                                 ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                                 ,codicePs VARCHAR2(50) PATH '@codicePs'\n                                 ,rcOverridePrice VARCHAR2(50) PATH '@rcOverridePrice'\n                                 ,transactionIdAsset VARCHAR2(50) PATH '@transactionIdAsset'\n                                 ,sedeConsegna VARCHAR2(50) PATH '@idSedeConsegna'\n                                 ,nomeAttributi XMLTYPE PATH 'nomeAttributo'\n                                ) \n                 p on 1=1 LEFT JOIN  XMLTABLE(\n                                                                            XMLNAMESPACES( default 'http://phoenix.wind.it/esb/CommercialOrder'),\n                                                                            'nomeAttributo'\n                                                                            PASSING p.nomeAttributi\n                                                                            COLUMNS \n                                                                                nomeAttributo VARCHAR2(255) PATH 'text()'\n                                                                               , azione VARCHAR2(255) path '@azione'\n                                                                               , valoreP VARCHAR2(255) path '@valorePrecedente'\n                                                                               , valore VARCHAR2(255) path '@valore'\n                                                                        ) \n                                                                     na ON 1=1\n            )zz  \n                                    START WITH \n                                    zz.componentPadre2 is null \n                                    CONNECT BY PRIOR  zz.integrationid=zz.componentPadre2                                                         \n                                    order by componentPadre2,integrationId,livello)",
        "outPutSql": "REQ_TS_CREATED\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tLIVELLO\tTIPO\tAZIONE\tSOTTOTIPO\tIDPRICE\tMDF\tCODICEPS\tDESCRIZIONEPS\tRCOVERRIDEPRICE\tREQ_ID\tREQ_STATUS\tREQ_NAME\tNOMEATTRIBUTO\tAZIONEATT\tVALOREP\tVALORE\tSEDECONSEGNA2\tTIPOLOGIASEDE\tCOMPONENTROOT\tTRANSACTIONIDASSET\tINTEGRATIONID\tCOMPONENTPADRE2\n45420\t1-624256430584\tModifica\tModifica Commerciale\tVariazione Commerciale\t00003\t|__ TE-GSS\tModify\tGSS\t\t\tPHX00162\tTE Giga Smart Share\t\t69817635581\tSA\tReceive Commercial/Technical Change\tTIPO SMART SHARE\t-\tSmart Share 100 Giga\tSmart Share 100 Giga\t\t\t1279613921616\t1279613921671\t1279613921671\t1279613921623\n45420\t1-624256430584\tModifica\tModifica Commerciale\tVariazione Commerciale\t00003\t|__ TE-GSS\tModify\tGSS\t\t\tPHX00162\tTE Giga Smart Share\t\t69817635581\tSA\tReceive Commercial/Technical Change\tID SMART SHARE ASSOCIATO\tModify\t1441712956179\t1611501691439\t\t\t1279613921616\t1279613921671\t1279613921671\t1279613921623\n45420\t1-624256430584\tModifica\tModifica Commerciale\tVariazione Commerciale\t00003\t|__ TE-GSS\tModify\tGSS\t\t\tPHX00162\tTE Giga Smart Share\t\t69817635581\tSA\tReceive Commercial/Technical Change\tNOME SMART SHARE\tModify\tINTEGRATAPIN\t02024\t\t\t1279613921616\t1279613921671\t1279613921671\t1279613921623"
      },
      {
        "id": "8.8",
        "nomeParagrafo": "Estrae Oli in maniera gerarchica su ordini consumer entrando per Id Ordine e action mane receiver ",
        "codicePlSql": "select distinct\nzz.req_ts_created,level livello,\nDECODE (LEVEL,\n                   1, zz.TIPO||'-'||zz.sottotipo,\n                   2, '|__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   3, '    |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   4, '       |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   5, '          |__ ' || zz.TIPO||'-'||zz.sottotipo,\n                   '             |__ ' || zz.TIPO||'-'||zz.sottotipo)\n              tipo, \n             zz.azione,\n             ' ['||zz.partNum||']     ' || zz.descrizione,\nzz.sottoTipo,\nzz.componentRoot,\nzz.id,\nzz.integrationid,\nzz.componentpadre2,\nzz.idCommercialOrder,\nzz.tipo_ordine,\nzz.sottotipo_ordine,\nzz.causale_ordine,\nzz.req_id,zz.req_status,zz.req_name\n from (\nselect \nr.id req_id,r.status req_status,r.name req_name,r.ts_created req_ts_created,\nextractValue(xmltype(message_xml),'ns0:commercialOrderCns/ns0:order/@id','xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')as idCommercialOrder,\nextractValue(xmltype(message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')as tipo_ordine,\nextractValue(xmltype(message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"') as sottotipo_ordine,\nextractValue(xmltype(message_xml),'ns0:commercialOrderCns/ns0:order/@causale','xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"') as causale_ordine,\ncase when p.tipo='PRD' then null else p.componentPadre end as componentpadre2 ,\np.*\nfrom action r, request rr ,action_msg am\n,XMLTable(xmlnamespaces( \n 'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' as \"ns0\"\n),\n              '/ns0:commercialOrderCns/ns0:order//ns0:lineitem'\n              PASSING XMLTYPE(am.message_xml)\n              COLUMNS\n                azione VARCHAR2(50) PATH '@azione'\n                ,integrationId VARCHAR2(50) PATH '@integrationId'\n                ,componentRoot VARCHAR2(50) PATH '@rootIntegrationId'\n                ,componentPadre VARCHAR2(50) PATH '@parentIntegrationId'\n,descrizione VARCHAR2(50) PATH '@descrizione'\n                ,id VARCHAR2(50) PATH '@id'\n                ,tipo VARCHAR2(50) PATH '@tipo'\n                 ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                 ,partNum VARCHAR2(50) PATH '@partNum'\n                ) p,\n(SELECT a.name as act_name,a.request_id req_root_id\n                               FROM action a, cfg_action b\n                              WHERE a.request_id IN\n                                       (SELECT DISTINCT root_id FROM detail  WHERE VALUE IN ('1-622647500512'))\n                                    AND b.id = a.cfg_id\n                                    and a.name='Receive Request Change Order'\n                                    AND b.endpoint = 'queue.siebel.cns.in') cfg_det                \nwhere \nr.name = cfg_det.act_name\nand RR.ID=r.request_id\nand am.id=r.message_id\nand rr.root_id =  cfg_det.req_root_id \n) zz  \nSTART WITH \nzz.componentPadre2 is null \nCONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\norder by zz.componentroot,level,integrationId, idCommercialOrder",
        "outPutSql": "REQ_TS_CREATED\tLIVELLO\tTIPO\tAZIONE\t'['||ZZ.PARTNUM||']'||ZZ.DESCRIZIONE\tSOTTOTIPO\tCOMPONENTROOT\tID\tINTEGRATIONID\tCOMPONENTPADRE2\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tREQ_ID\tREQ_STATUS\tREQ_NAME\n17/04/2024 16:42:13,519315\t1\tPRD-WLESSCNS\tModify\t[P1] Mobile Wind\tWLESSCNS\t1546245339807\t\t1546245339807\t\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t2\t|__ TC-ACCMCNS\tModify\t[P2] Accesso Mobile CNS\tACCMCNS\t1546245339807\t\t1546245339821\t1546245339807\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t2\t|__ TC-VDATCNS\tModify\t[P3] Servizio Mobile\tVDATCNS\t1546245339807\t\t1546245339848\t1546245339807\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ111] Blocco Chiam Uscenti Prepagato\tOPZTCN\t1546245339807\t\t1546245061626\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ80] Inibiz CentriServizi no Wind\tOPZTCN\t1546245339807\t\t1546245061637\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ85] Limitazione Chiamate Entranti\tOPZTCN\t1546245339807\t\t1546245061647\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ86] Limitazione Chiamate Uscenti\tOPZTCN\t1546245339807\t\t1546245061658\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ87] Limitaz Chiam Internaz Uscenti\tOPZTCN\t1546245339807\t\t1546245061669\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ1226] Soglia Dati Roaming\tOPZTCN\t1546245339807\t\t1546245061680\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ4021] Soglia Traffico Dati Nazionale\tOPZTCN\t1546245339807\t\t1546245061692\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ4223] Servizio LTE CNS\tOPZTCN\t1546245339807\t\t1546245061695\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\t-\t[ROPZ4604] Sconto SMS My Wind/Canone Listini\tOPZ\t1546245339807\t\t1546245061705\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\t-\t[ROPZ4700] Sconto Segreteria Telefonica\tOPZ\t1546245339807\t\t1546245061723\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ4791] Servizio 5G\tOPZTCN\t1546245339807\t\t1546245061741\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ883] Servizio MMS\tOPZTCN\t1546245339807\t\t1546245340706\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ1022] Blocco numerazioni a tariffazione a sovraprezzo\tOPZTCN\t1546245339807\t\t1546245426836\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\t-\t[ROPZ90] Segreteria Telefonica Prepagata\tOPZTCN\t1546245339807\t\t1546245426848\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tRemove\t[ROPZ4810] Offerta QoS Easy Pay\tOPZ\t1546245339807\t\t1546245426861\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-PNTF\t-\t[LIS457] NEW BASIC\tPNTF\t1546245339807\t\t1546245426879\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-PARSPE\t-\t[ROPZ4796] VoLTE\tPARSPE\t1546245339807\t\t1546314751699\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\tAdd\t[ROPZ4851] Reload exChange\tOPZTCN\t1546245339807\t\t1622647501161\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tAdd\t[ROPZ4769] Sconto Rata Telefono Incluso PRE\tOPZ\t1546245339807\t\t1622647501166\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tAdd\t[ROPZ4810] Offerta QoS Easy Pay\tOPZ\t1546245339807\t\t1622647501178\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tAdd\t[ROPZ4858] Opzione Piu' Sicuri Mobile Easy Pay\tOPZ\t1546245339807\t\t1622647501196\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ TE-OPZTCN\tAdd\t[ROPZ4864] Opzione Tecnica Piu' Sicuri Mobile\tOPZTCN\t1546245339807\t\t1622648088471\t1546245339848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061628\t1546245061626\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061638\t1546245061637\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061649\t1546245061647\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061660\t1546245061658\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061671\t1546245061669\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061683\t1546245061680\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061696\t1546245061695\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061714\t1546245061705\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061732\t1546245061723\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061742\t1546245426861\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061751\t1546245426861\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061760\t1546245426861\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061769\t1546245426861\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245061778\t1546245426879\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245340707\t1546245340706\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245426839\t1546245426836\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245426852\t1546245426848\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245426870\t1546245426861\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\t-\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1546245426880\t1546245426879\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622647501169\t1622647501166\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622647501187\t1622647501178\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622647501205\t1622647501196\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622648088576\t1622647501178\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622648088590\t1622647501178\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622648088603\t1622647501178\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245339807\t\t1622648088616\t1622647501178\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t1\tPRD-CPEMCNS\tRemove\t[P8] CPE Mobile Wind\tCPEMCNS\t1546245426943\t\t1546245426943\t\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t2\t|__ TC-CPECCNS\tRemove\t[P9] CPE Mobile\tCPECCNS\t1546245426943\t\t1546245426944\t1546245426943\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-PNTF\tRemove\t[P10] Telefono Incluso\tPNTF\t1546245426943\t\t1546245426991\t1546245426944\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tRemove\t[ROPZ4772] Costo attivazione TI POST\tOPZ\t1546245426943\t\t1546245427187\t1546245426944\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P13] Oggetto di fatturazione CPE Mobile\tCOMBO\t1546245426943\t\t1546245426992\t1546245426991\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tRemove\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1546245426943\t\t1546245427188\t1546245427187\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t1\tPRD-CPEMCNS\tAdd\t[P8] CPE Mobile Wind\tCPEMCNS\t1622647501290\t\t1622647501290\t\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t2\t|__ TC-CPECCNS\tAdd\t[P9] CPE Mobile\tCPECCNS\t1622647501290\t\t1622647501291\t1622647501290\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-PNTF\tAdd\t[P10] Telefono Incluso\tPNTF\t1622647501290\t\t1622647501328\t1622647501291\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tAdd\t[ROPZ4772] Costo attivazione TI POST\tOPZ\t1622647501290\t\t1622647579492\t1622647501291\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tAdd\t[ROPZ4797] Smartphone Reload Plus\tOPZ\t1622647501290\t\t1622647579502\t1622647501291\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t3\t|__ PC-OPZ\tAdd\t[ROPZ4807] Promo Reload Plus\tOPZ\t1622647501290\t\t1622647579517\t1622647501291\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P13] Oggetto di fatturazione CPE Mobile\tCOMBO\t1622647501290\t\t1622647501329\t1622647501328\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1622647501290\t\t1622647579493\t1622647579492\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1622647501290\t\t1622647579508\t1622647579502\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order\n17/04/2024 16:42:13,519315\t4\t|__ BE-COMBO\tAdd\t[P11] Oggetto di fatturazione mobile\tCOMBO\t1622647501290\t\t1622647579518\t1622647579517\t1-622647500512\tModifica\tVariazione Contrattuale\tRi-contrattualizzazione\t69647232666\tSA\tReceive Request Change Order"
      }
    ]
  },
  {
    "id": "9",
    "nomeCapitolo": "ESTRAZIONE OGGETTI PROPAGATI AL BILLING",
    "paragrafi": [
      {
        "id": "9.1",
        "nomeParagrafo": "query 1",
        "codicePlSql": "SELECT  a.id,\na.status,\na.name as act_name,\na.request_id req_root_id,\np.*\n,extractValue(xmltype(d.message_xml),'/ns0:activateServiceIstance/ns0:serviceIstance/ns0:numeroTelefono','xmlns:ns0=\"http://billing.wind.it/esb/OrderManagement\"')as numeroTelefono\n,extractValue(xmltype(d.message_xml),'/ns0:activateServiceIstance/ns0:serviceIstance/ns0:extIdSI','xmlns:ns0=\"http://billing.wind.it/esb/OrderManagement\"')as extIdSI\nFROM action a, request c,action_msg d,\nXMLTable(xmlnamespaces( \ndefault 'http://billing.wind.it/esb/OrderManagement' \n),\n              '/activateServiceIstance/serviceIstance//billingElement'\n              PASSING XMLTYPE(d.message_xml)\n              COLUMNS\n                extIdBE VARCHAR2(50) PATH 'extIdBE'\n                ,idBE VARCHAR2(50) PATH 'idBE'\n                ,idPrice VARCHAR2(50) PATH 'idPrice'\n                ,mdf VARCHAR2(50) PATH 'mdf'\n                ,idOrdine VARCHAR2(50) PATH 'idOrdine'\n                ) p           \n                WHERE \n                              c.id=a.request_id and\n                              c.root_id IN\n                                       (SELECT DISTINCT root_id\n                                          FROM detail\n                                         WHERE VALUE IN (\n                                                 '1-619650892429'                                        )\n        ) and a.system='kenan' and a.direction='outbound' and\n        d.id=a.message_id",
        "outPutSql": "ID\tSTATUS\tACT_NAME\tREQ_ROOT_ID\tEXTIDBE\tIDBE\tIDPRICE\tMDF\tIDORDINE\tNUMEROTELEFONO\tEXTIDSI\n69853081976\tSA\tActive Service Instance\t3507789740\t1624280975075\t162409\t\t\t1-624270874302\t\t1624275710300"
      },
      {
        "id": "9.2",
        "nomeParagrafo": "Estrazione action verso billing dalla request id root",
        "codicePlSql": "select b.name,b.id,a.root_id,b.status,''''||b.id||''',',\n(select distinct value from detail where root_id = a.root_id and name='id_odl_crm') id_ordine\nfrom request a, action  b\n      where \n      b.request_id=a.id and \n--      a.root_id in (     572744,     -1      )       \n      a.root_id in (select distinct root_id from detail where value in       ('1-622831680560'))\n--      and b.status ='SA'\n      and b.system='kenan' \n     and b.direction='outbound'\n     and b.id not in (-1)\n     and rownum<4",
        "outPutSql": "NAME\tID\tROOT_ID\tSTATUS\t''''||B.ID||''','\tID_ORDINE\nActive Service Instance\t69815515523\t3507789694\tSA\t'69815515523',\t1-624270874302\nChange Billing Element Service Instance\t69840304265\t3507789694\tSK\t'69840304265',\t1-624270874302\nChange Number Service Instance\t69815514712\t3507789694\tSA\t'69815514712',\t1-624270874302"
      },
      {
        "id": "9.3",
        "nomeParagrafo": "STORICO query 2",
        "codicePlSql": "SELECT  a.id,\na.status,\na.name as act_name,\na.request_id req_root_id,\np.*\n,extractValue(xmltype(d.message_xml),'/ns0:activateServiceIstance/ns0:serviceIstance/ns0:numeroTelefono','xmlns:ns0=\"http://billing.wind.it/esb/OrderManagement\"')as numeroTelefono\n,extractValue(xmltype(d.message_xml),'/ns0:activateServiceIstance/ns0:serviceIstance/ns0:extIdSI','xmlns:ns0=\"http://billing.wind.it/esb/OrderManagement\"')as extIdSI\nFROM action_hs a, request_hs c,action_msg_hs d,\nXMLTable(xmlnamespaces( \ndefault 'http://billing.wind.it/esb/OrderManagement' \n),\n              '/activateServiceIstance/serviceIstance//billingElement'\n              PASSING XMLTYPE(d.message_xml)\n              COLUMNS\n                extIdBE VARCHAR2(50) PATH 'extIdBE'\n                ,idBE VARCHAR2(50) PATH 'idBE'\n                ,idPrice VARCHAR2(50) PATH 'idPrice'\n                ,mdf VARCHAR2(50) PATH 'mdf'\n                ,idOrdine VARCHAR2(50) PATH 'idOrdine'\n                ) p           \n                WHERE \n                              c.id=a.request_id and\n                              c.root_id IN\n                                       (SELECT DISTINCT root_id\n                                          FROM detail_hs\n                                         WHERE VALUE IN (\n                                                 '1-622454582723'                                        )\n        ) and a.system='kenan' and a.direction='outbound' and\n        d.id=a.message_id",
        "outPutSql": "ID\tSTATUS\tACT_NAME\tREQ_ROOT_ID\tEXTIDBE\tIDBE\tIDPRICE\tMDF\tIDORDINE\tNUMEROTELEFONO\tEXTIDSI\n69835079823\tSA\tActive Service Instance\t3499976802\t1623205682276\t333115\tID_PRICE_1552\tPOSTPAGATA\t1-622454582723\tVULA.w59340500\t1623205682235\n69835079823\tSA\tActive Service Instance\t3499976802\t1623205682278\tPHX70328\tID_PRICE_919\tPOSTPAGATA\t1-622454582723\tVULA.w59340500\t1623205682235\n69835079823\tSA\tActive Service Instance\t3499976802\t1623205682275\tPHX70021\tID_PRICE_4836\tPOSTPAGATA\t1-622454582723\tVULA.w59340500\t1623205682235\n69835079967\tSA\tActive Service Instance\t3499976802\t1623205723426\t335991\tID_PRICE_3824\tPOSTPAGATA\t1-622454582723\t0118980662\t1623205682347\n69835079967\tSA\tActive Service Instance\t3499976802\t1623205723425\t335989\tID_PRICE_3822\tPOSTPAGATA\t1-622454582723\t0118980662\t1623205682347\n69835079967\tSA\tActive Service Instance\t3499976802\t1623205682391\tPHX70023\tID_PRICE_981\tPOSTPAGATA\t1-622454582723\t0118980662\t1623205682347\n69835080644\tSA\tActive Service Instance\t3499976802\t1623205682317\t335494\tID_PRICE_1778\tPOSTPAGATA\t1-622454582723\tA21623205682306\t1623205682306\n69835080644\tSA\tActive Service Instance\t3499976802\t1623205682318\t302681\tID_PRICE_1742\tPOSTPAGATA\t1-622454582723\tA21623205682306\t1623205682306"
      },
      {
        "id": "9.4",
        "nomeParagrafo": "Estrazione Billing Element a partire da Ordine su ESB (STORICO)",
        "codicePlSql": "select d.value as order_id, r.id as root_id, r.name as root_name, r.ts_created,\n(select extractValue(xmltype(document_xml),'ns0:commercialOrder/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/common/CommercialOrder') from request_doc where id=r.document_id) as tipo_ordine,\n(select extractValue(xmltype(document_xml),'ns0:commercialOrder/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/common/CommercialOrder') from request_doc where id=r.document_id) as sottotipo_ordine,\n(select extractValue(xmltype(document_xml),'ns0:commercialOrder/ns0:order/ns0:causaleOrdine','xmlns:ns0=http://phoenix.wind.it/common/CommercialOrder') from request_doc where id=r.document_id) as causale_ordine,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:extIdSI','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as extId_si,\nextractvalue(xmltype(m.message_xml),'descendant::ns0:numeroTelefono','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as numeroTelefono,\nextractvalue(value(t),'ns0:billingElement/ns0:extIdBE','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as extid_BE,\nextractvalue(value(t),'ns0:billingElement/ns0:typeOpBE','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as type_op_BE,\nextractvalue(value(t),'ns0:billingElement/ns0:idBE','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as id_BE,\nextractvalue(value(t),'ns0:billingElement/ns0:dtAttivazione','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as dtAttivazione_BE,\nextractvalue(value(t),'ns0:billingElement/ns0:dtCessazione','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as dtCessazione_BE,\nextractvalue(value(t),'ns0:billingElement/ns0:idOrdine','xmlns:ns0=http://billing.wind.it/esb/OrderManagement') as idordine_BE\nfrom request r, detail d, request r1, action a, action_msg m,\nTABLE ( XMLSEQUENCE(EXTRACT(xmltype(m.message_XML),'descendant::ns0:billingElement', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement'))) t\nwhere r.id=d.root_id\nand d.name='id_odl_crm'\nand d.value in ('1-615780063860')\nand r.id=r1.root_id\nand r1.id=a.request_id\nand a.message_id=m.id\nand a.system='kenan'\nand a.direction='outbound';",
        "outPutSql": "ORDER_ID\tROOT_ID\tROOT_NAME\tTS_CREATED\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tEXTID_SI\tNUMEROTELEFONO\tEXTID_BE\tTYPE_OP_BE\tID_BE\tDTATTIVAZIONE_BE\tDTCESSAZIONE_BE\tIDORDINE_BE\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783458985\tA21615783458985\t1615783502880\tADD\t302681\t2024-02-09T15:34:26+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783458985\tA21615783458985\t1615783458997\tADD\t335494\t2024-02-09T15:34:26+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703444\tFTTH.w50667885\t1615783703555\tADD\t333323\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703444\tFTTH.w50667885\t1615866117549\tADD\t333326\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703444\tFTTH.w50667885\t1615783703481\tADD\t332998\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703444\tFTTH.w50667885\t1615866117505\tADD\t335713\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703444\tFTTH.w50667885\t1615783703531\tADD\t335043\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703444\tFTTH.w50667885\t1615866117527\tADD\t333116\t2024-02-08T00:00:00+01:00\t2026-01-26T00:00:00+01:00\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703322\t089406467\t1615783703397\tADD\t332994\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703322\t089406467\t1615866117317\tADD\t335989\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703322\t089406467\t1615868990992\tADD\t335991\t2024-02-08T00:00:00+01:00\t2063-06-30T00:00:00+01:00\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t1615783703322\t089406467\t1615783703369\tADD\t333045\t2024-02-08T00:00:00+01:00\t\t1-615780063860\n1-615780063860\t3438299609\tIn Order\t26/01/2024 15:50:52,133001\tAttivazione\tAttivazione\tPrima Attivazione\t\t\t1615783502713\tADD\t160433\t2024-02-08T00:00:00+01:00\t\t1-615780063860"
      }
    ]
  },
  {
    "id": "10",
    "nomeCapitolo": "ESTRAZIONE MEDIANTE REGULAR EXPRESSION",
    "paragrafi": [
      {
        "id": "10.1",
        "nomeParagrafo": "Estrazione di un campo dell'action message non ricorsivo",
        "codicePlSql": "select a.id,a.name,\n        (select to_char(REGEXP_SUBSTR(zz.message_xml, '<RSP__PROVISIONINGDESCRIPTION>(.*?)</RSP__PROVISIONINGDESCRIPTION>', 1, 1, NULL, 1)) \n            from action z,action_msg zz \n                where z.name='Receive mobile provisioning result KO' \n                and z.request_id=a.request_id \n                and zz.id=z.message_id \n                and z.id=(select max(id) from action x where x.name='Receive mobile provisioning result KO' and x.request_id=a.request_id) \n         ) descr\n        from action a where id in\n        (\n        66078832342,\n66073801202)",
        "outPutSql": "ID\tNAME\tDESCR\n66073801202\tModify technical services\tInterfaceVerifyRespFunctionEDA: e' stata ricevuta una risposta negativa '13003'\n66078832342\tModify technical services\tInterfaceVerifyRespFunctionEDA: e' stata ricevuta una risposta negativa '13003'"
      }
    ]
  },
  {
    "id": "11",
    "nomeCapitolo": "ESTRAZIONE RISORSE",
    "paragrafi": [
      {
        "id": "11.1",
        "nomeParagrafo": "Estrazione action verso il mobile resource",
        "codicePlSql": "select a.name, c.name,b.name from \nrequest a, \naction b,\nrequest c,\naction_msg d\nwhere \nd.id=b.message_id and\nc.root_id=A.ID and\n--c.name='Network' and\nb.request_id=c.id and \nb.handler like '%mobileResource%' and\nb.system in ('clarify','esb') and \na.ts_created>sysdate-70 and\na.name  in \n('Change-over'\n/*'In Order',\n'OutOrder', --==> \n'Extend Order',\n'Sim/Handset Change', --==> \n'MnpDonor', --==> \n'Change Number Mnp' --==> \n*/) and\nrownum<3",
        "outPutSql": "NAME\tNAME_1\tNAME_2\nChange-over\tNetwork\tUpdate SIM\nChange-over\tNetwork\tUpdate SIM"
      }
    ]
  },
  {
    "id": "12",
    "nomeCapitolo": "QUERY GENERICHE",
    "paragrafi": [
      {
        "id": "12.1",
        "nomeParagrafo": "Estrazione casistiche con nome della request padre e figlie",
        "codicePlSql": "SELECT c.*\n  FROM \n              request a, \n              request b, \n              action c\n WHERE     a.name = 'Network'\n       AND a.ts_created > SYSDATE - 10\n       AND ROWNUM < 10\n       AND b.id = a.root_id\n       AND b.name = 'In Order'\n       AND c.request_id = a.id\n       AND c.SYSTEM = 'dbag'\n       AND b.status = 'SA'\n       and b.id=3508996329\n       AND EXISTS\n              (SELECT 1\n                 FROM request\n                WHERE name = 'MnpRecipient' AND root_id = b.id) and rownum<3",
        "outPutSql": "ID\tNAME\tDIRECTION\tSTATUS\tTS_REQUESTED\tTS_CREATED\tTS_ENQUEUED\tTS_FIRST_START\tTS_START\tTS_END\tPRIORITY\tTS_TODO\tQUEUE\tREQUEST_ID\tMESSAGE_ID\tSYSTEM\tCFG_ID\tHANDLER\tRESPONSE_ID\tADB_SOURCE\tRESULT\n69856171974\tNotify Activation PS\toutbound\tSA\t10/05/2024 08:21:05,000000\t10/05/2024 08:21:06,086635\t\t10/05/2024 08:21:07,000000\t10/05/2024 08:21:07,000000\t10/05/2024 08:21:07,000000\t1\t\tqueue.dbag.out\t3508996341\t-33467750917\tdbag\t38\t/esb2dbag/process/businessService/OrderManagement/bwBSNotifyAssetLineItemOut.process\t\t\t\n69856175715\tNotify Activation PS\toutbound\tSA\t10/05/2024 08:22:39,000000\t10/05/2024 08:22:40,012879\t\t10/05/2024 08:22:40,000000\t10/05/2024 08:22:40,000000\t10/05/2024 08:22:40,000000\t1\t\tqueue.dbag.out\t3508996346\t-33467754511\tdbag\t38\t/esb2dbag/process/businessService/OrderManagement/bwBSNotifyAssetLineItemOut.process"
      },
      {
        "id": "12.2",
        "nomeParagrafo": "Estrazione casi request root name",
        "codicePlSql": "SELECT c.*\n  FROM \n        request a,\n       request b,\n       action c,\n       action_msg d\n WHERE 1=1 \n       AND b.name = 'Activation Order'\n       and b.id=a.root_id\n       and a.id=c.request_id\n       and d.id=c.message_id\n       AND a.ts_created > SYSDATE - 10\n       AND ROWNUM < 3\n       and c.system='pos'\n       and c.direction='inbound'\n       --and d.message_xml like '%ROPZ4362%'",
        "outPutSql": "ID\tNAME\tDIRECTION\tSTATUS\tTS_REQUESTED\tTS_CREATED\tTS_ENQUEUED\tTS_FIRST_START\tTS_START\tTS_END\tPRIORITY\tTS_TODO\tQUEUE\tREQUEST_ID\tMESSAGE_ID\tSYSTEM\tCFG_ID\tHANDLER\tRESPONSE_ID\tADB_SOURCE\tRESULT\n69876184608\tReceive Activation Order\tinbound\tSA\t12/05/2024 17:19:09,035000\t12/05/2024 17:19:09,083077\t\t12/05/2024 17:19:09,000000\t12/05/2024 17:19:09,000000\t12/05/2024 17:19:09,000000\t1\t\tqueue.pos.cns.in\t3511902210\t-33486752478\tpos\t2168\t/esb2siebelCns/process/businessService/Order/bwBSGestOrd155PosIn.process\t\t\t\n69875904624\tReceive Activation Order\tinbound\tSA\t12/05/2024 15:42:41,448000\t12/05/2024 15:42:41,497840\t\t12/05/2024 15:42:41,000000\t12/05/2024 15:42:41,000000\t12/05/2024 15:42:41,000000\t1\t\tqueue.pos.cns.in\t3511885901\t-33486487511\tpos\t2168\t/esb2siebelCns/process/businessService/Order/bwBSGestOrd155PosIn.process"
      }
    ]
  },
  {
    "id": "13",
    "nomeCapitolo": "Estrazioni per anomalia RELOAD",
    "paragrafi": [
      {
        "id": "13.1",
        "nomeParagrafo": "Estrazione campi EMF della create subscription (RELOAD)",
        "codicePlSql": "select a.id,a.name,c.id reqChildid,c.root_id ,c.name childName,d.name rootName,\n,extractValue(xmltype(b.message_xml),'ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/itemCode','xmlns:ns0=\"http://www.wind3/igp/wsdl/createsubscription\"')as codMat \n,extractValue(xmltype(b.message_xml),'ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/imei','xmlns:ns0=\"http://www.wind3/igp/wsdl/createsubscription\"')as imei\n,extractValue(xmltype(b.message_xml),'ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/externalId','xmlns:ns0=\"http://www.wind3/igp/wsdl/createsubscription\"')as intIdRopz\nfrom action a ,action_msg b,request c ,request d\nwhere a.name ='Create Subscription Reconnect' and a.status='SA' and a.ts_created>sysdate-150 --13733\nand a.request_id=c.id\nand d.id=c.root_id\nand b.id=a.message_id  \n--and rownum<3\n\n-- query da lanciare su siebel per recupero fasce \n\nselect * from siebel.win_fasce_BOL_OE -- reload open\n\nselect * from siebel.win_fasce_BOLTECH --reload plus\n\nselect * from siebel.win_fasce_reconnects -- reload standard",
        "outPutSql": "ID\tNAME\tREQCHILDID\tROOT_ID\tCHILDNAME\tROOTNAME\tCODMAT\tIMEI\tINTIDROPZ\n68712665460\tCreate Subscription Reconnect\t3425872708\t3425863495\tMobile Provisioning\tChange Order\t0TZTBL53OU7004\t866502068872322\t1614483507176\n70002415872\tCreate Subscription Reconnect\t3519228606\t3519221503\tMobile Provisioning\tActivation Order\t0TAL255MOU0001\t350814294641220\t1625728566073\n68814127243\tCreate Subscription Reconnect\t3433791363\t3433790377\tMobile Provisioning\tActivation Order\t\t358780103107707\t1615318074574\n69989952729\tCreate Subscription Reconnect\t3517080723\t3517078728\tMobile Provisioning\tActivation Order\t0TAL1250OU0001\t353350908326301\t1625461003947"
      },
      {
        "id": "13.2",
        "nomeParagrafo": "Estrazione EMF verso Boltech (RELOAD) otimizzata",
        "codicePlSql": "WITH base_request AS (\n  SELECT \n    e.message_xml, \n    b.*, \n    d.id AS actIdRec, \n    d.name AS actNameRec, \n    c.name AS reqName, \n    c.id AS reqId, \n    c.ts_created AS reqCreated, \n    c.cfg_id AS reqCfgId  \n  FROM request a\n  JOIN request c ON a.root_id = c.root_id\n  JOIN action b ON a.id = b.request_id\n  JOIN action d ON d.request_id = c.id\n  JOIN action_msg e ON e.id = d.message_id\n  WHERE a.cfg_id = 127\n    AND a.ts_created > TO_DATE('01/01/2025', 'dd/mm/yyyy')\n    AND b.cfg_id IN (6957, 7773, 7774, 6986)\n    AND c.cfg_id IN (142, 125, 129)\n    AND d.cfg_id IN (2121, 2135, 2473)\n    --AND e.message_xml LIKE '%ROPZ4851%'\n    AND c.root_id IN (\n      SELECT root_id \n      FROM detail \n      WHERE value IN (\n        '1-653843887813'\n      )\n    )\n),\nestratti AS (\n  SELECT \n    a.*,\n    EXTRACTVALUE(XMLTYPE(message_xml), '/ns0:commercialOrderCns/ns0:order/@tipo', 'xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') AS tipo,\n    EXTRACTVALUE(XMLTYPE(message_xml), '/ns0:commercialOrderCns/ns0:order/@sottotipo', 'xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') AS sottotipo,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@sottoTipo=\"WLESSCNS\"]/@integrationId', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"') AS SIMintegrationId,\n    -- blocco tradein, plus, open, std\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4851\"]/@partNum', 'xmlns:ns0=\"...\"') AS tradein_partNum,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4851\"]/@azione', 'xmlns:ns0=\"...\"') AS tradein_azione,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4797\"]/@partNum', 'xmlns:ns0=\"...\"') AS plus_partNum,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4797\"]/@azione', 'xmlns:ns0=\"...\"') AS plus_azione,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4799\"]/@partNum', 'xmlns:ns0=\"...\"') AS open_partNum,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4799\"]/@azione', 'xmlns:ns0=\"...\"') AS open_azione,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4800\"]/@partNum', 'xmlns:ns0=\"...\"') AS open2_partNum,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4800\"]/@azione', 'xmlns:ns0=\"...\"') AS open2_azione,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4749\"]/@partNum', 'xmlns:ns0=\"...\"') AS std_partNum,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4749\"]/@azione', 'xmlns:ns0=\"...\"') AS std_azione,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4750\"]/@partNum', 'xmlns:ns0=\"...\"') AS std2_partNum,\n    EXTRACTVALUE(XMLTYPE(message_xml), 'descendant::*[@partNum=\"ROPZ4750\"]/@azione', 'xmlns:ns0=\"...\"') AS std2_azione,\n    EXTRACTVALUE(XMLTYPE(message_xml), '/ns0:commercialOrderCns/ns0:order/@id', 'xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') AS orderId,\n    CASE \n      WHEN a.cfg_id IN (6957,7773) THEN (\n        SELECT EXTRACTVALUE(XMLTYPE(w.message_xml), '/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/planCode', \n        'xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n        FROM action_msg w WHERE w.id = a.message_id\n      )\n    END AS planCode,\n    -- altri case analoghi...\n    CASE WHEN a.reqCfgId = 125 THEN (\n      SELECT COUNT(*) FROM request zz WHERE zz.cfg_id = 126 AND zz.root_id = a.reqId\n    ) END AS MOG,\n    'tbd' AS scenario\n  FROM base_request a\n)\nSELECT \n  e.*, \n  tradein_partNum || tradein_azione || '|' || \n  plus_partNum || plus_azione || '|' || \n  open_partNum || open_azione || '|' || \n  open2_partNum || open2_azione || '|' || \n  std_partNum || std_azione || '|' || \n  std2_partNum || std2_azione AS combo\nFROM estratti e\nORDER BY orderId\n\n\n\n\n\nselect * from cfg_action where system='igp'\n\n\nselect * from cfg_request where id in (142, 125, 129)\n\n\n\n WITH xml_data AS (\n    SELECT XMLTYPE(am.message_xml) AS xml,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@causale','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') causale,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n    FROM action_msg am\n    WHERE am.id = (SELECT am.id\n                    FROM action a,\n                         detail b,\n                         request d,\n                         action_msg am\n                    WHERE a.request_id = b.root_id\n                      AND am.id = a.message_id\n                      AND b.VALUE IN ('1-652327928480')\n                      AND b.name = 'id_odl_crm'\n                      AND d.id = a.request_id\n                      AND a.cfg_id = (SELECT MIN(id)\n                                      FROM cfg_action z\n                                      WHERE z.request_id = d.cfg_id\n                                        AND z.SYSTEM = 'siebel'\n                                        AND z.ENDPOINT = 'queue.siebel.cns.in'))\n),\nlineitems_flat AS (\n    SELECT\n        li.integrationId,\n        li.rootIntegrationId,\n        li.parentIntegrationId,\n        li.tipo,\n        li.sottoTipo,\n        li.descrizione,\n        li.partNum,\n        li.xml_fragment,\n        x.idordine,\n        x.causale,\n        x.sottotipoordine,\n        x.tipoordine\n    FROM xml_data x,\n         XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '//ns0:lineitem'\n            PASSING x.xml\n            COLUMNS\n                integrationId        VARCHAR2(50) PATH '@integrationId',\n                rootIntegrationId    VARCHAR2(50) PATH '@rootIntegrationId',\n                parentIntegrationId  VARCHAR2(50) PATH '@parentIntegrationId',\n                tipo                 VARCHAR2(50) PATH '@tipo',\n                sottoTipo            VARCHAR2(50) PATH '@sottoTipo',\n                descrizione          VARCHAR2(100) PATH '@descrizione',\n                partNum              VARCHAR2(100) PATH '@partNum',\n                xml_fragment         XMLTYPE      PATH '.'\n        ) li \n),\nlineitem_hierarchy AS (\n    SELECT\n        lf.integrationId,\n        lf.rootIntegrationId,\n        lf.parentIntegrationId,\n        lf.tipo,\n        lf.sottoTipo,\n        lf.descrizione,\n        lf.partNum,\n        lf.xml_fragment,\n        lf.idordine,\n        lf.causale,\n        lf.sottotipoordine,\n        lf.tipoordine,\n        LEVEL AS depth,\n        LPAD(' ', (LEVEL - 1) * 4) AS indent_line\n    FROM lineitems_flat lf\n    CONNECT BY NOCYCLE PRIOR integrationId = lf.parentIntegrationId\n    START WITH integrationId = parentIntegrationId\n),\nlineitem_attributes AS (\n    SELECT\n        lh.integrationId AS lineitem_id,\n        lh.indent_line,\n        lh.tipo,\n        lh.sottoTipo,\n        lh.descrizione,\n        lh.partNum,\n        lh.depth,\n        lh.idordine,\n        lh.causale,\n        lh.sottotipoordine,\n                lh.rootIntegrationId,\n        lh.parentIntegrationId,\n        lh.tipoordine,        \n        attr.nome,\n        attr.valore,\n        attr.azione,\n        attr.id\n    FROM lineitem_hierarchy lh\n    LEFT JOIN XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '/ns0:lineitem/ns0:lineitemAttribute | //lineitemAttribute'\n            PASSING lh.xml_fragment\n            COLUMNS\n                nome    VARCHAR2(100) PATH '@nome',\n                azione  VARCHAR2(10)  PATH '@azione',\n                id      VARCHAR2(50)  PATH '@id',\n                valore  VARCHAR2(50)  PATH '@valore'\n         ) attr\n    ON 1=1 --(lh.integrationId = attr.id)  -- JOIN conditio for extracting attributes based on lineitem\n)\nSELECT DISTINCT\n    indent_line || tipo AS \"Tipo (Indented)\",\n    indent_line || sottoTipo AS \"SottoTipo (Indented)\",\n    nome,\n    descrizione,\n    partNum,\n    azione,\n    causale,\n    valore,\n    rootIntegrationId,\n    parentIntegrationId,\n    idordine,\n    sottotipoordine,\n    tipoordine,\n    id,\n    lineitem_id,\n    depth\nFROM lineitem_attributes\n--where tipo IN ( 'TC')\nORDER BY depth, lineitem_id, id\n\n\n\n\n1-652327928480",
        "outPutSql": "Incolla qui la tua tabella"
      },
      {
        "id": "13.3",
        "nomeParagrafo": "Estrazione informazioni ordini per la Reload PLus (cpe) entrando per ordine",
        "codicePlSql": "select distinct \n--childname,childid,\n--actid,\na.actname, \na.idordine,\na.rootname,\na.rootid,\na.ts_created,\na.causale,\na.idcontratto,\na.dataCreazione,\na.sottotipoordine,\na.tipoordine,\na.mobileProvisioningCount,\na.num_prd_WLESSCNS,\na.num_prd_CPEMCNS,\na.num_prd_reloadplus,\na.num_prd_tradein,\na.num_prd_voucher,\na.ActiveEquipmentServiceInstance,\nx.IMEIEMF,\na.CreateSubscriptionReconnect,\na.CreateInvoiceFarcNewFree,\na.Notifytriplaitofarc,\na.NotifyEventtoGSI,\nx.integrationidCpe,\nx.azione,\nx.cluster_,\nx.fascia,\nx.partnumRopz,\nx.descrRopz,\nx.integrationIdRopz,\nx.imeiEMF,\nx.codmat,\nx.importo,\nx.EntryFee,\nx.Rata124,\nx.RataFinale,\nx.Rataoltre24\nfrom (\nselect \nh.message_xml,\nd.name actname,\n--d.id actid,\nf.value idordine,\ne.name rootname,\ne.id rootid,\ne.ts_created ,\nc.name childname,\nc.id childid,\nextractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@causale','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') causale,\nextractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/ns0:datiContratto/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idcontratto,\nextractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@dataCreazione','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') dataCreazione,\nextractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\nextractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine,\n(select count(*) from request z where z.name='Mobile Provisioning' and z.root_id=e.root_id)  mobileProvisioningCount,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/ns0:commercialOrderCns/ns0:order/ns0:lineitem[@sottoTipo=''WLESSCNS'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  where  b.id=h.id) num_prd_WLESSCNS,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/ns0:commercialOrderCns/ns0:order/ns0:lineitem[@sottoTipo=''CPEMCNS'']',  'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  where  b.id=h.id) num_prd_CPEMCNS,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4797'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  where  b.id=h.id) num_prd_reloadplus,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4851'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  where  b.id=h.id) num_prd_tradein,\n(SELECT count(*) FROM action_msg b, TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (b.message_xml), '/ns0:commercialOrderCns/ns0:order//ns0:lineitem[@sottoTipo=\"CPEMCNS\"]/*/ns0:lineitemAttribute[@nome=\"Cluster\" and @valore=\"VOUCHER\"]', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  where  b.id=h.id) num_prd_voucher\n,\n--KENAN ActiveEquipmentServiceInstance\n(SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:activateServiceIstance/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Active Equipment Service Instance' AND x.status = 'SA' and x.system='kenan') AS ActiveEquipmentServiceInstance,\n--FARC Notifytriplaitofarc \n(select \n'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||\n   SUBSTR(\n    TO_CHAR(z.message_xml),\n    INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'),\n    INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TRIPLA_I&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'))\n  ) ||';TOTAL_AMOUNT:'||\n    SUBSTR(\n    TO_CHAR(z.message_xml),\n    INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'),\n    INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TOTAL_AMOUNT&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'))\n  ) ||';ENTRY_FEE:'||\n  SUBSTR(\n    TO_CHAR(z.message_xml),\n    INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'),\n    INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:ENTRY_FEE&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'))\n  ) \n  from  action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify tripla i to farc' and x.status='SA' and x.system='farc'   )AS Notifytriplaitofarc,\n  --GSI NotifyEventtoGSI\n  (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||extractValue(xmltype(z.message_xml),'TripleiOut/TRIPLA_I','')||';CONTRATTO:'||extractValue(xmltype(z.message_xml),'TripleiOut/CONTRATTO','')||';IMEI:'||extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA' and x.system='gsi')  as NotifyEventtoGSI,\n  (select extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA')  as IMEIGSI,\n--BOLTECH CreateSubscriptionReconnect\n(select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n'];x-trace-token:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/IGPHeader/x-trace-token','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n||';externalId:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/externalId','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n||';planCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/planCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n||';duration:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/duration','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n||';itemCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/itemCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n||';imei:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/imei','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n||';amount:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/suggestedRetailPrice/amount','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n||';phoneNumber:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phoneNumber','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\nfrom action x, action_msg z where x.message_id = z.id and x.name = 'Create Subscription Reconnect' and x.status = 'SA' and x.request_id=c.id and x.system='igp') CreateSubscriptionReconnect,\n--FARC CreateInvoiceFarcNewFree\n(select \n'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];IntegrationIDRopz:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n  ';INTEGRATION_ID_CPE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_CPE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n  ';INSTALLMENT_NUMBER:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_NUMBER', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n  ';INSTALLMENT_AMOUNT:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_AMOUNT', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n  ';CODICE_IMEI:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_IMEI', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n  ';CODICE_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n  ';REASON:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:REASON', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Create Invoice Farc New Free' AND x.status = 'SA' and x.system='farc') AS CreateInvoiceFarcNewFree\nfrom \nrequest c, --child\naction d ,--action child\nrequest e, --root\ndetail f,\naction g,--action root\naction_msg h\nwhere 1=1\nand g.message_id=h.id \nand g.request_id=e.id  \nand g.name in ('Receive Activation Order','Receive Request Change Order','Receive Reactivation Order','Receive Suspend Order') \nand g.system='siebel' \nand g.direction='inbound' \nand e.id=c.root_id\nand d.system in ('kenan','igp','farc','gsi') \nand d.status in ('FA','SA')\nand d.request_id=c.id\nand f.root_id=e.root_id  \nand f.name='id_odl_crm' \nand d.name='Notify Event to GSI'\nand f.value='1-651864830442'\n) a,\nXMLTable(\n       XMLNamespaces('http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"), '/ns0:commercialOrderCns/ns0:order/ns0:lineitem[@sottoTipo=\"CPEMCNS\"]'\n       PASSING XMLType(a.message_xml)\n       COLUMNS\n         integrationidCpe     VARCHAR2(100) PATH '@integrationId',\n         azione VARCHAR2(100) PATH '@azione',\n         cluster_ VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Cluster\"]/@valore',\n         fascia VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitem[@sottoTipo=\"OPZ\"]/ns0:lineitemAttribute[@nome=\"Fascia Boltech\"]/@valore'\n         ,partnumRopz VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitem[@sottoTipo=\"OPZ\"]/ns0:lineitemAttribute[@nome=\"Fascia Boltech\"]/../@partNum'\n         ,descrRopz VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitem[@sottoTipo=\"OPZ\"]/ns0:lineitemAttribute[@nome=\"Fascia Boltech\"]/../@descrizione'\n         ,integrationIdRopz VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitem[@sottoTipo=\"OPZ\"]/ns0:lineitemAttribute[@nome=\"Fascia Boltech\"]/../@integrationId'\n         ,imeiEMF VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'\n         ,codmat VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Codice Materiale\"]/@valore'\n         ,importo VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Valore\"]/@valore'\n         ,EntryFee VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Entry Fee\"]/@valore'\n         ,Rata124 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata 1-24\"]/@valore'\n         ,RataFinale VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata Finale\"]/@valore'\n         ,Rataoltre24 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata oltre 24\"]/@valore'\n     ) x where x.imeiemf=a.IMEIGSI\norder by integrationidCpe",
        "outPutSql": "ACTNAME\tIDORDINE\tROOTNAME\tROOTID\tTS_CREATED\tCAUSALE\tIDCONTRATTO\tDATACREAZIONE\tSOTTOTIPOORDINE\tTIPOORDINE\tMOBILEPROVISIONINGCOUNT\tNUM_PRD_WLESSCNS\tNUM_PRD_CPEMCNS\tNUM_PRD_RELOADPLUS\tNUM_PRD_TRADEIN\tNUM_PRD_VOUCHER\tACTIVEEQUIPMENTSERVICEINSTANCE\tIMEIEMF\tCREATESUBSCRIPTIONRECONNECT\tCREATEINVOICEFARCNEWFREE\tNOTIFYTRIPLAITOFARC\tNOTIFYEVENTTOGSI\tINTEGRATIONIDCPE\tAZIONE\tCLUSTER_\tFASCIA\tPARTNUMROPZ\tDESCRROPZ\tINTEGRATIONIDROPZ\tIMEIEMF_1\tCODMAT\tIMPORTO\tENTRYFEE\tRATA124\tRATAFINALE\tRATAOLTRE24\nNotify Event to GSI\t1-651864830442\tChange Order\t3739453355\t16/03/2025 18:49:41,435740\t\t1577156320860\t03/16/2025 18:50:02\tVariazione Contrattuale\tModifica\t4\t1\t3\t3\t0\t1\t\t999000000000141\t\t\taction_id:[72965441738];action_name:[Notify tripla i to farc];system:[farc];TRIPLA_I:1577156320860_350634602839534_20250316;TOTAL_AMOUNT:79;ENTRY_FEE:0\taction_id:[72965441737];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:1577156320860_999000000000141_20250316;CONTRATTO:1577156320860;IMEI:999000000000141\t1651864831070\tAdd\tVOUCHER\tP3\tROPZ4797\tSmartphone Reload Plus\t1651864875299\t999000000000141\tVCR79\t79\t0,00\t2,98\t2,98\t2,98\nNotify Event to GSI\t1-651864830442\tChange Order\t3739453355\t16/03/2025 18:49:41,435740\t\t1577156320860\t03/16/2025 18:50:02\tVariazione Contrattuale\tModifica\t4\t1\t3\t3\t0\t1\t\t350204503634564\t\t\taction_id:[72965440195];action_name:[Notify tripla i to farc];system:[farc];TRIPLA_I:1577156320860_350204503634564_20250316;TOTAL_AMOUNT:79;ENTRY_FEE:0\taction_id:[72965440194];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:1577156320860_350204503634564_20250316;CONTRATTO:1577156320860;IMEI:350204503634564\t1651864875369\tAdd\t\tP3\tROPZ4797\tSmartphone Reload Plus\t1651864875600\t350204503634564\t0TSAGA25OU7040\t1087.41\t0,00\t40,99\t40,99\t40,99\nNotify Event to GSI\t1-651864830442\tChange Order\t3739453355\t16/03/2025 18:49:41,435740\t\t1577156320860\t03/16/2025 18:50:02\tVariazione Contrattuale\tModifica\t4\t1\t3\t3\t0\t1\t\t350634602839534\t\t\taction_id:[72965444173];action_name:[Notify tripla i to farc];system:[farc];TRIPLA_I:1577156320860_350634602839534_20250316;TOTAL_AMOUNT:79;ENTRY_FEE:0\taction_id:[72965444170];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:1577156320860_350634602839534_20250316;CONTRATTO:1577156320860;IMEI:350634602839534\t1651864875670\tAdd\t\tP3\tROPZ4797\tSmartphone Reload Plus\t1651864875901\t350634602839534\t0TSAGA25OU7030\t1049.9\t0,00\t36,60\t36,60\t36,60\n"
      },
      {
        "id": "13.4",
        "nomeParagrafo": "Estrazione informazioni della reload sui prodotti consumer ed eventi verso farc,kenan,gsi entrando per ordine (STORICO)  ",
        "codicePlSql": "SELECT DISTINCT\n    f.value AS id_ordine,\n    i.name||'='||i.value Dettaglio,\n    x.causale,\n    x.idcontratto,\n    x.dataCreazione,\n    x.sottotipoordine,\n    x.tipoordine,\n    e.id AS root_id,\n    e.name AS root_name,\n    e.ts_created,\n    c.id AS child_id,\n    c.name AS child_name\n    --PRD\n    ,x.integrationid\n    ,x.tipo\n    ,x.sottotipo\n    ,x.partNum\n    ,x.azione      \n    ,x.ropz_add_partnum\n    ,x.ropz_add_action\n    ,x.ropz_add_descr\n    ,x.ropz_add_integrationId\n    ,x.ropz_add_fascia\n    ,x.ropz_add_codicegsi\n    ,x.ropz_add_imei\n    ,x.ropz_del_partnum\n    ,x.ropz_del_action\n    ,x.ropz_del_descr\n    ,x.ropz_del_integrationId\n    ,x.ropz_del_fascia\n    ,x.ropz_del_codicegsi\n    ,x.ropz_del_imei    \n    ,x.ropz_tradein_partnum\n    ,x.ropz_tradein_action\n    ,x.ropz_tradein_descr\n    ,x.ropz_tradein_integrationId\n    ,x.ropz_tradein_imei    \n    --CPE\n    ,x.IMEI\n    ,x.codmat\n    ,x.importo\n    ,x.EntryFee\n    ,x.Rata124\n    ,x.RataFinale\n    ,x.Rataoltre24\n    ,x.MSISD_Associato\n    ,cpe_Cluster\n    --SIM\n    ,x.ICCID\n    ,x.IMSI\n    ,x.MSISDN_fonia\n    , (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:activateServiceIstance/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action_hs x JOIN action_msg_hs z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Active Equipment Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ActiveEquipmentServiceInstance\n    ,(select \n    'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||\n       SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TRIPLA_I&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'))\n      ) ||';TOTAL_AMOUNT:'||\n        SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TOTAL_AMOUNT&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'))\n      ) ||';ENTRY_FEE:'||\n      SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:ENTRY_FEE&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'))\n      ) \n      from  action_hs x,action_msg_hs z where x.request_id=c.id and z.id=x.message_id and x.name='Notify tripla i to farc' and x.status='SA' and x.system='farc'   )\n    AS Notifytriplaitofarc    \n    ,\n  --GSI \n    (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||extractValue(xmltype(z.message_xml),'TripleiOut/TRIPLA_I','')||';CONTRATTO:'||extractValue(xmltype(z.message_xml),'TripleiOut/CONTRATTO','')||';IMEI:'||extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action_hs x,action_msg_hs z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA' and x.system='gsi')  \n    AS NotifyEventtoGSI,\n    (select extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action_hs x,action_msg_hs z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA')  \n    AS IMEIGSI\n    ,\n    (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n    '];x-trace-token:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/IGPHeader/x-trace-token','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    ||';externalId:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/externalId','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    ||';planCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/planCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';duration:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/duration','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';itemCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/itemCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';imei:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/imei','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';amount:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/suggestedRetailPrice/amount','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';phoneNumber:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phoneNumber','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    from action_hs x, action_msg_hs z where x.message_id = z.id and x.name = 'Create Subscription Reconnect' and x.status = 'SA' and x.request_id=c.id and x.system='igp') \n    AS CreateSubscriptionReconnect\n    ,\n    (select \n    'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n      '];INTEGRATION_ID_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_CPE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_CPE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INSTALLMENT_NUMBER:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_NUMBER', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INSTALLMENT_AMOUNT:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_AMOUNT', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_BE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_BE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_TC:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_TC', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';CODICE_ROPZ_PROMO:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ_PROMO', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';ACTIVATION_DATE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:ACTIVATION_DATE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';CODICE_IMEI:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_IMEI', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';CODICE_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';REASON:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:REASON', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"')\n        FROM action_hs x JOIN action_msg_hs z ON z.id = x.message_id\n        WHERE x.request_id = c.id AND x.name = 'Create Invoice Farc New Free' AND x.status = 'SA' and x.system='farc') \n    AS CreateInvoiceFarcNewFree\n    ,\n    (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:changeBillingElement/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action_hs x JOIN action_msg_hs z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Change Billing Element Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ChangeBillingElementServiceInstance    \nFROM\n    request_hs c\n    JOIN request_hs e ON e.id = c.root_id\n    JOIN item2detail_hs l ON l.request_id = c.id AND l.action_id IS NULL\n    JOIN detail_hs i ON i.id = l.detail_id AND i.name IN ('statoOrdineSiebel', 'integration_id')\n    JOIN action_hs g ON g.request_id = e.id\n        AND g.name IN ('Receive Activation Order','Receive Request Change Order','Receive Reactivation Order','Receive Suspend Order')\n        AND g.system = 'siebel'\n        AND g.direction = 'inbound'\n    JOIN action_msg_hs h ON g.message_id = h.id\n    JOIN detail_hs f ON f.root_id = e.root_id\n        AND f.name = 'id_odl_crm'\n        AND f.value in (\n          (SELECT idordine FROM tmp_reload_scal b, detail a WHERE a.value(+) = b.idordine AND a.name(+) = 'id_odl_crm' and root_id is not null) \n        --'1-651631923285' \n        --'1-651631795913'\n        )\n        LEFT JOIN LATERAL \n        (\n            SELECT \n                            lineItem_tab.*,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@causale','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') causale,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/ns0:datiContratto/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idcontratto,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@dataCreazione','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') dataCreazione,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n                            -----------------------------------------                                          \n                            FROM XMLTABLE\n                            (\n                                XMLNamespaces('http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"),\n                                '/ns0:commercialOrderCns/ns0:order/ns0:lineitem[@sottoTipo=\"CPEMCNS\" or @sottoTipo=\"WLESSCNS\"]'\n                                PASSING XMLType(h.message_xml)\n                                COLUMNS\n                                    integrationid VARCHAR2(100) PATH '@integrationId',\n                                    tipo VARCHAR2(100) PATH '@tipo',\n                                    sottotipo VARCHAR2(100) PATH '@sottoTipo',\n                                    partNum VARCHAR2(100) PATH '@partNum',\n                                    azione       VARCHAR2(100) PATH '@azione',\n                                    ropz_add_partnum VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_add_action VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_descr VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_integrationId VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_codicegsi VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Codice GSI\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_fascia VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Fascia Reconnects\" or @nome=\"Fascia Boltech\" or @nome=\"Fascia Open Reload\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_imei VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore' , -- se è un attributo chiamato \"action\"\n                                    ropz_del_partnum VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_del_action VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_descr VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_integrationId VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_codicegsi VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Codice GSI\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_fascia VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Fascia Reconnects\" or @nome=\"Fascia Boltech\" or @nome=\"Fascia Open Reload\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_imei VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore' , -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_partnum VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_tradein_action VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_descr VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_integrationId VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_imei VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'  -- se è un attributo chiamato \"action\"                                                                                                            \n                                    --CPE\n                                     ,IMEI VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'\n                                     ,codmat VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Codice Materiale\"]/@valore'\n                                     ,importo VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Valore\"]/@valore'\n                                     ,EntryFee VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Entry Fee\"]/@valore'\n                                     ,Rata124 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata 1-24\"]/@valore'\n                                     ,RataFinale VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata Finale\"]/@valore'\n                                     ,Rataoltre24 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata oltre 24\"]/@valore'     \n                                     ,MSISD_Associato VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"MSISDN Associato\"]/@valore'\n                                     ,cpe_Cluster VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Cluster\"]/@valore'                                     \n                                    --SIM\n                                     ,ICCID VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"ACCMCNS\"]/ns0:lineitemAttribute[@nome=\"ICCID\"]/@valore'\n                                     ,IMSI VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"ACCMCNS\"]/ns0:lineitemAttribute[@nome=\"IMSI\"]/@valore'\n                                     ,MSISDN_fonia VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"VDATCNS\"]/ns0:lineitemAttribute[@nome=\"MSISDN Fonia\"]/@valore'\n                            ) lineItem_tab\n                            WHERE i.value = 'Inviato'\n        ) \n        x ON 1=1\norder by     c.id",
        "outPutSql": "ID_ORDINE\tDETTAGLIO\tCAUSALE\tIDCONTRATTO\tDATACREAZIONE\tSOTTOTIPOORDINE\tTIPOORDINE\tROOT_ID\tROOT_NAME\tTS_CREATED\tCHILD_ID\tCHILD_NAME\tINTEGRATIONID\tTIPO\tSOTTOTIPO\tPARTNUM\tAZIONE\tROPZ_ADD_PARTNUM\tROPZ_ADD_ACTION\tROPZ_ADD_DESCR\tROPZ_ADD_INTEGRATIONID\tROPZ_ADD_FASCIA\tROPZ_ADD_CODICEGSI\tROPZ_ADD_IMEI\tROPZ_DEL_PARTNUM\tROPZ_DEL_ACTION\tROPZ_DEL_DESCR\tROPZ_DEL_INTEGRATIONID\tROPZ_DEL_FASCIA\tROPZ_DEL_CODICEGSI\tROPZ_DEL_IMEI\tROPZ_TRADEIN_PARTNUM\tROPZ_TRADEIN_ACTION\tROPZ_TRADEIN_DESCR\tROPZ_TRADEIN_INTEGRATIONID\tROPZ_TRADEIN_IMEI\tIMEI\tCODMAT\tIMPORTO\tENTRYFEE\tRATA124\tRATAFINALE\tRATAOLTRE24\tMSISD_ASSOCIATO\tCPE_CLUSTER\tICCID\tIMSI\tMSISDN_FONIA\tACTIVEEQUIPMENTSERVICEINSTANCE\tNOTIFYTRIPLAITOFARC\tNOTIFYEVENTTOGSI\tIMEIGSI\tCREATESUBSCRIPTIONRECONNECT\tCREATEINVOICEFARCNEWFREE\tCHANGEBILLINGELEMENTSERVICEINSTANCE\n1-517718313613\tstatoOrdineSiebel=Inviato\t\t1058969177442\t01/18/2021 10:09:42\tVariazione Contrattuale\tModifica\t2611859356\tChange Order\t18/01/2021 09:57:25,812834\t2611859356\tChange Order\t102705366513\tPRD\tWLESSCNS\tP1\tModify\tROPZ4749\tAdd\tSmartphone Reload\t1517718348505\tF1\t0TSAGAA4OU7014\t351910578390903\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t8939883264003895278\t222883640492437\t3280524043\t\t\t\t\t\t\t\n1-517718313613\tstatoOrdineSiebel=Inviato\t\t1058969177442\t01/18/2021 10:09:42\tVariazione Contrattuale\tModifica\t2611859356\tChange Order\t18/01/2021 09:57:25,812834\t2611859356\tChange Order\t1517718348833\tPRD\tCPEMCNS\tP8\tAdd\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t351910578390903\t0TSAGAA4OU7014\t209,90\t69,99\t4,83\t4,04\t3,99\t3280524043\tCB\t\t\t\t\t\t\t\t\t\t\n1-517718313613\tintegration_id=102705366513\t\t\t\t\t\t2611859356\tChange Order\t18/01/2021 09:57:25,812834\t2611874022\tMobile Provisioning\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_id:[58401518011];action_name:[Active Equipment Service Instance];system:[kenan];transactionId:58401518011;extIdSI:1517718348834;IMEI:351910578390903;PREZZO:209.90;numeroTelefonoMobile:3280524043;entryTicket:69.99;numeroRate:30;rate1a24:4,83;numeroRate:30;rate1a24:4,83;rateMag24:3,99;rataFinale:4,04;importoPartner:;fasciaPartner:;importoW3:\t\taction_id:[58401517885];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:1058969177442_351910578390903_20210118;CONTRATTO:1058969177442;IMEI:351910578390903\t351910578390903\taction_id:[58401517991];action_name:[Create Subscription Reconnect];system:[igp];x-trace-token:58401517991;externalId:1517718348505;planCode:F1;duration:;itemCode:0TSAGAA4OU7014;imei:351910578390903;amount:299.9;phoneNumber:3280524043\taction_id:[58401518842];action_name:[Create Invoice Farc New Free];system:[farc];INTEGRATION_ID_ROPZ:1517718348505;INTEGRATION_ID_CPE:;INSTALLMENT_NUMBER:24;INSTALLMENT_AMOUNT:2.49;INTEGRATION_ID_BE:1517718348510;INTEGRATION_ID_TC:102705366793;CODICE_ROPZ_PROMO:ROPZ4805;ACTIVATION_DATE:;CODICE_IMEI:351910578390903;CODICE_ROPZ:ROPZ4749;REASON:\t\n"
      },
      {
        "id": "13.5",
        "nomeParagrafo": "Estrazione informazioni della reload sui prodotti consumer ed eventi verso farc,kenan,gsi entrando per ordine (LIVE)  ",
        "codicePlSql": "SELECT DISTINCT\n    f.value AS id_ordine,\n    i.name||'='||i.value Dettaglio,\n    x.causale,\n    x.idcontratto,\n    x.dataCreazione,\n    x.sottotipoordine,\n    x.tipoordine,\n    e.id AS root_id,\n    e.name AS root_name,\n    e.ts_created,\n    c.id AS child_id,\n    c.name AS child_name\n    --PRD\n    ,x.integrationid\n    ,x.tipo\n    ,x.sottotipo\n    ,x.partNum\n    ,x.azione      \n    ,x.ropz_add_partnum\n    ,x.ropz_add_action\n    ,x.ropz_add_descr\n    ,x.ropz_add_integrationId\n    ,x.ropz_add_fascia\n    ,x.ropz_add_codicegsi\n    ,x.ropz_add_imei\n    ,x.ropz_del_partnum\n    ,x.ropz_del_action\n    ,x.ropz_del_descr\n    ,x.ropz_del_integrationId\n    ,x.ropz_del_fascia\n    ,x.ropz_del_codicegsi\n    ,x.ropz_del_imei    \n    ,x.ropz_tradein_partnum\n    ,x.ropz_tradein_action\n    ,x.ropz_tradein_descr\n    ,x.ropz_tradein_integrationId\n    ,x.ropz_tradein_imei    \n    --CPE\n    ,x.IMEI\n    ,x.codmat\n    ,x.importo\n    ,x.EntryFee\n    ,x.Rata124\n    ,x.RataFinale\n    ,x.Rataoltre24\n    ,x.MSISD_Associato\n    ,cpe_Cluster\n    --SIM\n    ,x.ICCID\n    ,x.IMSI\n    ,x.MSISDN_fonia\n    , (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:activateServiceIstance/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Active Equipment Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ActiveEquipmentServiceInstance\n    ,(select \n    'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||\n       SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TRIPLA_I&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'))\n      ) ||';TOTAL_AMOUNT:'||\n        SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TOTAL_AMOUNT&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'))\n      ) ||';ENTRY_FEE:'||\n      SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:ENTRY_FEE&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'))\n      ) \n      from  action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify tripla i to farc' and x.status='SA' and x.system='farc'   )\n    AS Notifytriplaitofarc    \n    ,\n  --GSI \n    (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||extractValue(xmltype(z.message_xml),'TripleiOut/TRIPLA_I','')||';CONTRATTO:'||extractValue(xmltype(z.message_xml),'TripleiOut/CONTRATTO','')||';IMEI:'||extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA' and x.system='gsi')  \n    AS NotifyEventtoGSI,\n    (select extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA')  \n    AS IMEIGSI\n    ,\n    (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n    '];x-trace-token:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/IGPHeader/x-trace-token','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    ||';externalId:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/externalId','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    ||';planCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/planCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';duration:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/duration','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';itemCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/itemCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';imei:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/imei','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';amount:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/suggestedRetailPrice/amount','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';phoneNumber:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phoneNumber','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    from action x, action_msg z where x.message_id = z.id and x.name = 'Create Subscription Reconnect' and x.status = 'SA' and x.request_id=c.id and x.system='igp') \n    AS CreateSubscriptionReconnect\n    ,\n    (select \n    'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n      '];INTEGRATION_ID_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_CPE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_CPE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INSTALLMENT_NUMBER:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_NUMBER', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INSTALLMENT_AMOUNT:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_AMOUNT', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_BE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_BE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_TC:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_TC', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';CODICE_ROPZ_PROMO:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ_PROMO', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';ACTIVATION_DATE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:ACTIVATION_DATE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';CODICE_IMEI:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_IMEI', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';CODICE_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';REASON:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:REASON', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"')\n        FROM action x JOIN action_msg z ON z.id = x.message_id\n        WHERE x.request_id = c.id AND x.name = 'Create Invoice Farc New Free' AND x.status = 'SA' and x.system='farc') \n    AS CreateInvoiceFarcNewFree\n    ,\n    (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:changeBillingElement/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Change Billing Element Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ChangeBillingElementServiceInstance    \nFROM\n    request c\n    JOIN request e ON e.id = c.root_id\n    JOIN item2detail l ON l.request_id = c.id AND l.action_id IS NULL\n    JOIN detail i ON i.id = l.detail_id AND i.name IN ('statoOrdineSiebel', 'integration_id')\n    JOIN action g ON g.request_id = e.id\n        AND g.name IN ('Receive Activation Order','Receive Request Change Order','Receive Reactivation Order','Receive Suspend Order')\n        AND g.system = 'siebel'\n        AND g.direction = 'inbound'\n    JOIN action_msg h ON g.message_id = h.id\n    JOIN detail f ON f.root_id = e.root_id\n        AND f.name = 'id_odl_crm'\n        AND f.value in (\n        --'1-649721093028'\n        (SELECT idordine FROM tmp_reload_scal b, detail a WHERE a.value(+) = b.idordine AND a.name(+) = 'id_odl_crm' and root_id is not null)\n        --'1-650836854174'\n        --'1-651631923285' \n        --'1-651630336094'\n        )\n        LEFT JOIN LATERAL \n        (\n            SELECT \n                            lineItem_tab.*,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@causale','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') causale,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/ns0:datiContratto/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idcontratto,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@dataCreazione','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') dataCreazione,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n                            -----------------------------------------                                          \n                            FROM XMLTABLE\n                            (\n                                XMLNamespaces('http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"),\n                                '/ns0:commercialOrderCns/ns0:order/ns0:lineitem[@sottoTipo=\"CPEMCNS\" or @sottoTipo=\"WLESSCNS\"]'\n                                PASSING XMLType(h.message_xml)\n                                COLUMNS\n                                    integrationid VARCHAR2(100) PATH '@integrationId',\n                                    tipo VARCHAR2(100) PATH '@tipo',\n                                    sottotipo VARCHAR2(100) PATH '@sottoTipo',\n                                    partNum VARCHAR2(100) PATH '@partNum',\n                                    azione       VARCHAR2(100) PATH '@azione',\n                                    ropz_add_partnum VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_add_action VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_descr VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_integrationId VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_codicegsi VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Codice GSI\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_fascia VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Fascia Reconnects\" or @nome=\"Fascia Boltech\" or @nome=\"Fascia Open Reload\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_imei VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore' , -- se è un attributo chiamato \"action\"\n                                    ropz_del_partnum VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_del_action VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_descr VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_integrationId VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_codicegsi VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Codice GSI\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_fascia VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Fascia Reconnects\" or @nome=\"Fascia Boltech\" or @nome=\"Fascia Open Reload\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_imei VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore' , -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_partnum VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_tradein_action VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_descr VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_integrationId VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_imei VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'  -- se è un attributo chiamato \"action\"                                                                                                            \n                                    --CPE\n                                     ,IMEI VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'\n                                     ,codmat VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Codice Materiale\"]/@valore'\n                                     ,importo VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Valore\"]/@valore'\n                                     ,EntryFee VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Entry Fee\"]/@valore'\n                                     ,Rata124 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata 1-24\"]/@valore'\n                                     ,RataFinale VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata Finale\"]/@valore'\n                                     ,Rataoltre24 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata oltre 24\"]/@valore'     \n                                     ,MSISD_Associato VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"MSISDN Associato\"]/@valore'\n                                     ,cpe_Cluster VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Cluster\"]/@valore'                                     \n                                    --SIM\n                                     ,ICCID VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"ACCMCNS\"]/ns0:lineitemAttribute[@nome=\"ICCID\"]/@valore'\n                                     ,IMSI VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"ACCMCNS\"]/ns0:lineitemAttribute[@nome=\"IMSI\"]/@valore'\n                                     ,MSISDN_fonia VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"VDATCNS\"]/ns0:lineitemAttribute[@nome=\"MSISDN Fonia\"]/@valore'\n                            ) lineItem_tab\n                            WHERE i.value = 'Inviato'\n        ) \n        x ON 1=1\norder by     c.id",
        "outPutSql": "ID_ORDINE\tDETTAGLIO\tCAUSALE\tIDCONTRATTO\tDATACREAZIONE\tSOTTOTIPOORDINE\tTIPOORDINE\tROOT_ID\tROOT_NAME\tTS_CREATED\tCHILD_ID\tCHILD_NAME\tINTEGRATIONID\tTIPO\tSOTTOTIPO\tPARTNUM\tAZIONE\tROPZ_ADD_PARTNUM\tROPZ_ADD_ACTION\tROPZ_ADD_DESCR\tROPZ_ADD_INTEGRATIONID\tROPZ_ADD_FASCIA\tROPZ_ADD_CODICEGSI\tROPZ_ADD_IMEI\tROPZ_DEL_PARTNUM\tROPZ_DEL_ACTION\tROPZ_DEL_DESCR\tROPZ_DEL_INTEGRATIONID\tROPZ_DEL_FASCIA\tROPZ_DEL_CODICEGSI\tROPZ_DEL_IMEI\tROPZ_TRADEIN_PARTNUM\tROPZ_TRADEIN_ACTION\tROPZ_TRADEIN_DESCR\tROPZ_TRADEIN_INTEGRATIONID\tROPZ_TRADEIN_IMEI\tIMEI\tCODMAT\tIMPORTO\tENTRYFEE\tRATA124\tRATAFINALE\tRATAOLTRE24\tMSISD_ASSOCIATO\tCPE_CLUSTER\tICCID\tIMSI\tMSISDN_FONIA\tACTIVEEQUIPMENTSERVICEINSTANCE\tNOTIFYTRIPLAITOFARC\tNOTIFYEVENTTOGSI\tIMEIGSI\tCREATESUBSCRIPTIONRECONNECT\tCREATEINVOICEFARCNEWFREE\tCHANGEBILLINGELEMENTSERVICEINSTANCE\n1-517718313613\tstatoOrdineSiebel=Inviato\t\t1058969177442\t01/18/2021 10:09:42\tVariazione Contrattuale\tModifica\t2611859356\tChange Order\t18/01/2021 09:57:25,812834\t2611859356\tChange Order\t102705366513\tPRD\tWLESSCNS\tP1\tModify\tROPZ4749\tAdd\tSmartphone Reload\t1517718348505\tF1\t0TSAGAA4OU7014\t351910578390903\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t8939883264003895278\t222883640492437\t3280524043\t\t\t\t\t\t\t\n1-517718313613\tstatoOrdineSiebel=Inviato\t\t1058969177442\t01/18/2021 10:09:42\tVariazione Contrattuale\tModifica\t2611859356\tChange Order\t18/01/2021 09:57:25,812834\t2611859356\tChange Order\t1517718348833\tPRD\tCPEMCNS\tP8\tAdd\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t351910578390903\t0TSAGAA4OU7014\t209,90\t69,99\t4,83\t4,04\t3,99\t3280524043\tCB\t\t\t\t\t\t\t\t\t\t\n1-517718313613\tintegration_id=102705366513\t\t\t\t\t\t2611859356\tChange Order\t18/01/2021 09:57:25,812834\t2611874022\tMobile Provisioning\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_id:[58401518011];action_name:[Active Equipment Service Instance];system:[kenan];transactionId:58401518011;extIdSI:1517718348834;IMEI:351910578390903;PREZZO:209.90;numeroTelefonoMobile:3280524043;entryTicket:69.99;numeroRate:30;rate1a24:4,83;numeroRate:30;rate1a24:4,83;rateMag24:3,99;rataFinale:4,04;importoPartner:;fasciaPartner:;importoW3:\t\taction_id:[58401517885];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:1058969177442_351910578390903_20210118;CONTRATTO:1058969177442;IMEI:351910578390903\t351910578390903\taction_id:[58401517991];action_name:[Create Subscription Reconnect];system:[igp];x-trace-token:58401517991;externalId:1517718348505;planCode:F1;duration:;itemCode:0TSAGAA4OU7014;imei:351910578390903;amount:299.9;phoneNumber:3280524043\taction_id:[58401518842];action_name:[Create Invoice Farc New Free];system:[farc];INTEGRATION_ID_ROPZ:1517718348505;INTEGRATION_ID_CPE:;INSTALLMENT_NUMBER:24;INSTALLMENT_AMOUNT:2.49;INTEGRATION_ID_BE:1517718348510;INTEGRATION_ID_TC:102705366793;CODICE_ROPZ_PROMO:ROPZ4805;ACTIVATION_DATE:;CODICE_IMEI:351910578390903;CODICE_ROPZ:ROPZ4749;REASON:\t\n"
      },
      {
        "id": "13.6",
        "nomeParagrafo": "Estrazione dettagli sulla reload , eventi verso farc,kenan,gsi e forma aggregata per cluster (LIVE) usata per analisi completa *",
        "codicePlSql": "SELECT DISTINCT\nTO_CHAR(trunc(e.ts_created), 'YYYYMMDD') timing, \ne.name||'-'||x.sottotipoordine||'-'||x.tipoordine||'-'||x.causale as cluster_ordine, \n(SELECT count(*) FROM TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (h.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4800'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p ) num_ROPZ4800,\n(SELECT count(*) FROM TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (h.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4799'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p ) num_ROPZ4799,\n(SELECT count(*) FROM TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (h.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4750'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p ) num_ROPZ4750,\n(SELECT count(*) FROM TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (h.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4851'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p ) num_ROPZ4851,\n(SELECT count(*) FROM TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (h.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4797'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  ) num_ROPZ4797,\n(SELECT count(*) FROM TABLE ( XMLSEQUENCE ( EXTRACT ( xmltype (h.message_xml), '/ns0:commercialOrderCns/ns0:order/descendant::*[@partNum=''ROPZ4749'']', 'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\" '))) p  ) num_ROPZ4749,\n(SELECT count(*) FROM request z where z.root_id=e.id and z.name='Mobile Provisioning' ) num_MOBILEPROV,\n    f.value AS id_ordine,\n    --i.name||'='||i.value Dettaglio,\n    x.causale,\n    x.idcontratto,\n    x.dataCreazione,\n    x.sottotipoordine,\n    x.tipoordine,\n    e.id AS root_id,\n    e.name AS root_name,\n    e.ts_created,\n    c.id AS child_id,\n    c.name AS child_name\n    --PRD\n    ,x.integrationid\n    ,x.tipo\n    ,x.sottotipo\n    ,x.partNum\n    ,x.azione      \n    ,x.ropz_add_partnum\n    ,x.ropz_add_action\n    ,x.ropz_add_descr\n    ,x.ropz_add_integrationId\n    ,x.ropz_add_fascia\n    ,x.ropz_add_codicegsi\n    ,x.ropz_add_imei\n    ,x.ropz_del_partnum\n    ,x.ropz_del_action\n    ,x.ropz_del_descr\n    ,x.ropz_del_integrationId\n    ,x.ropz_del_fascia\n    ,x.ropz_del_codicegsi\n    ,x.ropz_del_imei    \n    ,x.ropz_tradein_partnum\n    ,x.ropz_tradein_action\n    ,x.ropz_tradein_descr\n    ,x.ropz_tradein_integrationId\n    ,x.ropz_tradein_imei    \n    --CPE\n    ,x.IMEI\n    ,x.codmat\n    ,x.importo\n    ,x.EntryFee\n    ,x.Rata124\n    ,x.RataFinale\n    ,x.Rataoltre24\n    ,x.MSISD_Associato\n    ,cpe_Cluster\n    --SIM\n    ,x.ICCID\n    ,x.IMSI\n    ,x.MSISDN_fonia\n    , (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:activateServiceIstance/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Active Equipment Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ActiveEquipmentServiceInstance\n    ,(select \n    'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||\n       SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TRIPLA_I&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TRIPLA_I&gt;') + LENGTH('&lt;ns0:TRIPLA_I&gt;'))\n      ) ||';TOTAL_AMOUNT:'||\n        SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:TOTAL_AMOUNT&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:TOTAL_AMOUNT&gt;') + LENGTH('&lt;ns0:TOTAL_AMOUNT&gt;'))\n      ) ||';ENTRY_FEE:'||\n      SUBSTR(\n        TO_CHAR(z.message_xml),\n        INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'),\n        INSTR(TO_CHAR(z.message_xml), '&lt;/ns0:ENTRY_FEE&gt;') - (INSTR(TO_CHAR(z.message_xml), '&lt;ns0:ENTRY_FEE&gt;') + LENGTH('&lt;ns0:ENTRY_FEE&gt;'))\n      ) \n      from  action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify tripla i to farc' and x.status='SA' and x.system='farc'   )\n    AS Notifytriplaitofarc    \n    ,\n  --GSI \n    (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||'];TRIPLA_I:'||extractValue(xmltype(z.message_xml),'TripleiOut/TRIPLA_I','')||';CONTRATTO:'||extractValue(xmltype(z.message_xml),'TripleiOut/CONTRATTO','')||';IMEI:'||extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA' and x.system='gsi')  \n    AS NotifyEventtoGSI,\n    (select extractValue(xmltype(z.message_xml),'TripleiOut/IMEI','')   from action x,action_msg z where x.request_id=c.id and z.id=x.message_id and x.name='Notify Event to GSI' and x.status='SA')  \n    AS IMEIGSI\n    ,\n    (select  'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n    '];x-trace-token:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/IGPHeader/x-trace-token','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    ||';externalId:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/externalId','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    ||';planCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/planCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';duration:'||extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/duration','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';itemCode:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/itemCode','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';imei:'|| extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/imei','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';amount:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phone/suggestedRetailPrice/amount','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription') \n    ||';phoneNumber:'||  extractValue(xmltype(z.message_xml),'/ns0:CRMCarrierCreateSubscriptionReconnect/CRMCarrierCreateSubscriptionReconnectRequest/phoneNumber','xmlns:ns0=http://www.wind3/igp/wsdl/createsubscription')\n    from action x, action_msg z where x.message_id = z.id and x.name = 'Create Subscription Reconnect' and x.status = 'SA' and x.request_id=c.id and x.system='igp') \n    AS CreateSubscriptionReconnect\n    ,\n    (select \n    'action_id:['||x.id||'];action_name:['||x.name||'];system:['||x.system||\n      '];INTEGRATION_ID_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_CPE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_CPE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INSTALLMENT_NUMBER:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_NUMBER', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INSTALLMENT_AMOUNT:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INSTALLMENT_AMOUNT', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_BE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_BE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';INTEGRATION_ID_TC:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:INTEGRATION_ID_TC', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';CODICE_ROPZ_PROMO:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ_PROMO', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';ACTIVATION_DATE:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:ACTIVATION_DATE', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||      \n      ';CODICE_IMEI:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_IMEI', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';CODICE_ROPZ:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:CODICE_ROPZ', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"') ||\n      ';REASON:' || extractValue(xmltype(z.message_xml), '/ns0:input_message/ns0:REASON', 'xmlns:ns0=\"urn:FARC.MonthlyFeeFromPortal.com/types\"')\n        FROM action x JOIN action_msg z ON z.id = x.message_id\n        WHERE x.request_id = c.id AND x.name = 'Create Invoice Farc New Free' AND x.status = 'SA' and x.system='farc') \n    AS CreateInvoiceFarcNewFree\n    ,\n    (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:changeBillingElement/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/ns0:actionBillingElement/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:changeBillingElement/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Change Billing Element Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ChangeBillingElementServiceInstance    \n    ,\n    (SELECT \n      'action_id:['||x.id||\n      '];action_name:['||x.name||\n      '];system:['||x.system||\n      '];transactionId:' ||extractValue(xmltype(z.message_xml), 'ns0:activateServiceIstance/ns0:header/ns0:transactionId', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';extIdSI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:extIdSI', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';IMEI:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:imei', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';PREZZO:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:prezzo', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroTelefonoMobile:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroTelefonoMobile', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';entryTicket:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:entryTicket', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';numeroRate:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:numeroRate', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rate1a24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rate1a24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rateMag24:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rateMag24', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';rataFinale:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/ns0:serviceIstance/ns0:TipologiaSI/ns0:tm/ns0:rataFinale', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:importoPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';fasciaPartner:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:fasciaPartner', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')||\n      ';importoW3:' ||extractValue(xmltype(z.message_xml), '/ns0:activateServiceIstance/descendant::ns0:reloadPlus/ns0:importoW3', 'xmlns:ns0=http://billing.wind.it/esb/OrderManagement')\n    FROM action x JOIN action_msg z ON z.id = x.message_id\n    WHERE x.request_id = c.id AND x.name = 'Active Service Instance' AND x.status = 'SA' and x.system='kenan') \n    AS ActiveServiceInstance    \nFROM\n    request c\n    JOIN request e ON e.id = c.root_id\n    JOIN item2detail l ON l.request_id = c.id AND l.action_id IS NULL\n    JOIN detail i ON i.id = l.detail_id \n        AND \n            (\n                i.name IN ('statoOrdineSiebel', 'integration_id')  OR \n                (i.name='order_id_sdm' and i.value like 'WI%')\n                )\n    JOIN action g ON g.request_id = e.id\n        AND g.name IN ('Receive Activation Order','Receive Request Change Order','Receive Reactivation Order','Receive Suspend Order')\n        AND g.system = 'siebel'\n        AND g.direction = 'inbound'\n    JOIN action_msg h ON g.message_id = h.id\n    JOIN detail f ON f.root_id = e.root_id\n        AND f.name = 'id_odl_crm'\n        AND f.value in (\n        --'1-551399918391'\n        (SELECT idordine FROM tmp_reload_scal b, detail a WHERE a.value(+) = b.idordine AND a.name(+) = 'id_odl_crm' and root_id is not null)\n        --'1-650836854174'\n        --'1-651631923285' \n        --'1-651630336094'\n        )\n        LEFT JOIN LATERAL \n        (\n            SELECT \n                            lineItem_tab.*,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@causale','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') causale,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/ns0:datiContratto/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idcontratto,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@dataCreazione','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') dataCreazione,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n                            extractValue(xmltype(h.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n                            -----------------------------------------                                          \n                            FROM XMLTABLE\n                            (\n                                XMLNamespaces('http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"),\n                                '/ns0:commercialOrderCns/ns0:order/ns0:lineitem[@sottoTipo=\"CPEMCNS\" or @sottoTipo=\"WLESSCNS\"]'\n                                PASSING XMLType(h.message_xml)\n                                COLUMNS\n                                    integrationid VARCHAR2(100) PATH '@integrationId',\n                                    tipo VARCHAR2(100) PATH '@tipo',\n                                    sottotipo VARCHAR2(100) PATH '@sottoTipo',\n                                    partNum VARCHAR2(100) PATH '@partNum',\n                                    azione       VARCHAR2(100) PATH '@azione',\n                                    ropz_add_partnum VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_add_action VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_descr VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_integrationId VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_codicegsi VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Codice GSI\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_fascia VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Fascia Reconnects\" or @nome=\"Fascia Boltech\" or @nome=\"Fascia Open Reload\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_add_imei VARCHAR2(100) PATH 'descendant::*[@azione=\"Add\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore' , -- se è un attributo chiamato \"action\"\n                                    ropz_del_partnum VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_del_action VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_descr VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_integrationId VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_codicegsi VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Codice GSI\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_fascia VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"Fascia Reconnects\" or @nome=\"Fascia Boltech\" or @nome=\"Fascia Open Reload\"]/@valore',  -- se è un attributo chiamato \"action\"\n                                    ropz_del_imei VARCHAR2(100) PATH 'descendant::*[@azione=\"Remove\" and (@partNum=\"ROPZ4797\" or @partNum=\"ROPZ4749\" or @partNum=\"ROPZ4750\"  or @partNum=\"ROPZ4799\"  or @partNum=\"ROPZ4800\")]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore' , -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_partnum VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@partNum',  -- se è un attributo chiamato \"action\"       \n                                    ropz_tradein_action VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@azione',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_descr VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@descrizione',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_integrationId VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/@integrationId',  -- se è un attributo chiamato \"action\"\n                                    ropz_tradein_imei VARCHAR2(100) PATH 'descendant::*[@partNum=\"ROPZ4851\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'  -- se è un attributo chiamato \"action\"                                                                                                            \n                                    --CPE\n                                     ,IMEI VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"IMEI\"]/@valore'\n                                     ,codmat VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Codice Materiale\"]/@valore'\n                                     ,importo VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Valore\"]/@valore'\n                                     ,EntryFee VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Entry Fee\"]/@valore'\n                                     ,Rata124 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata 1-24\"]/@valore'\n                                     ,RataFinale VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata Finale\"]/@valore'\n                                     ,Rataoltre24 VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Rata oltre 24\"]/@valore'     \n                                     ,MSISD_Associato VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"MSISDN Associato\"]/@valore'\n                                     ,cpe_Cluster VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"CPECCNS\"]/ns0:lineitemAttribute[@nome=\"Cluster\"]/@valore'                                     \n                                    --SIM\n                                     ,ICCID VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"ACCMCNS\"]/ns0:lineitemAttribute[@nome=\"ICCID\"]/@valore'\n                                     ,IMSI VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"ACCMCNS\"]/ns0:lineitemAttribute[@nome=\"IMSI\"]/@valore'\n                                     ,MSISDN_fonia VARCHAR2(100) PATH 'ns0:lineitem[@sottoTipo=\"VDATCNS\"]/ns0:lineitemAttribute[@nome=\"MSISDN Fonia\"]/@valore'\n                            ) lineItem_tab\n                            WHERE i.value = 'Inviato'\n        ) \n        x ON 1=1\norder by     c.id",
        "outPutSql": "NUM_ROPZ4800\tNUM_ROPZ4799\tNUM_ROPZ4750\tNUM_ROPZ4851\tNUM_ROPZ4797\tNUM_ROPZ4749\tID_ORDINE\tDETTAGLIO\tCAUSALE\tIDCONTRATTO\tDATACREAZIONE\tSOTTOTIPOORDINE\tTIPOORDINE\tROOT_ID\tROOT_NAME\tTS_CREATED\tCHILD_ID\tCHILD_NAME\tINTEGRATIONID\tTIPO\tSOTTOTIPO\tPARTNUM\tAZIONE\tROPZ_ADD_PARTNUM\tROPZ_ADD_ACTION\tROPZ_ADD_DESCR\tROPZ_ADD_INTEGRATIONID\tROPZ_ADD_FASCIA\tROPZ_ADD_CODICEGSI\tROPZ_ADD_IMEI\tROPZ_DEL_PARTNUM\tROPZ_DEL_ACTION\tROPZ_DEL_DESCR\tROPZ_DEL_INTEGRATIONID\tROPZ_DEL_FASCIA\tROPZ_DEL_CODICEGSI\tROPZ_DEL_IMEI\tROPZ_TRADEIN_PARTNUM\tROPZ_TRADEIN_ACTION\tROPZ_TRADEIN_DESCR\tROPZ_TRADEIN_INTEGRATIONID\tROPZ_TRADEIN_IMEI\tIMEI\tCODMAT\tIMPORTO\tENTRYFEE\tRATA124\tRATAFINALE\tRATAOLTRE24\tMSISD_ASSOCIATO\tCPE_CLUSTER\tICCID\tIMSI\tMSISDN_FONIA\tACTIVEEQUIPMENTSERVICEINSTANCE\tNOTIFYTRIPLAITOFARC\tNOTIFYEVENTTOGSI\tIMEIGSI\tCREATESUBSCRIPTIONRECONNECT\tCREATEINVOICEFARCNEWFREE\tCHANGEBILLINGELEMENTSERVICEINSTANCE\n0\t0\t0\t0\t0\t2\t1-649721093028\tstatoOrdineSiebel=Inviato\t\t2660367\t02/19/2025 16:10:07\tVariazione Contrattuale\tModifica\t3720501765\tChange Order\t19/02/2025 16:08:52,393863\t3720501765\tChange Order\t1649721346676\tPRD\tCPEMCNS\tP8\tAdd\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t357066602363236\t0TSAGA24OU7081\t599.9\t179,99\t13,99\t14,20\t13,99\t3286666621\tCB\t\t\t\t\t\t\t\t\t\t\n0\t0\t0\t0\t0\t2\t1-649721093028\tstatoOrdineSiebel=Inviato\t\t2660367\t02/19/2025 16:10:07\tVariazione Contrattuale\tModifica\t3720501765\tChange Order\t19/02/2025 16:08:52,393863\t3720501765\tChange Order\t103716857975\tPRD\tWLESSCNS\tP1\tModify\tROPZ4749\tAdd\tSmartphone Reload\t1649721346536\tF8\t0TSAGA24OU7081\t357066602363236\tROPZ4749\tRemove\tSmartphone Reload\t1515470914167\tF2\t0TSAGAS2OU7031\t354791645380185\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t8939883222002293267\t222883220073303\t3286666621\t\t\t\t\t\t\t\n0\t0\t0\t0\t0\t2\t1-649721093028\tintegration_id=103716857975\t\t\t\t\t\t3720501765\tChange Order\t19/02/2025 16:08:52,393863\t3720509273\tMobile Provisioning\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_id:[72711324123];action_name:[Active Equipment Service Instance];system:[kenan];transactionId:72711324123;extIdSI:1649721346677;IMEI:357066602363236;PREZZO:599.9;numeroTelefonoMobile:3286666621;entryTicket:179.99;numeroRate:30;rate1a24:13,99;numeroRate:30;rate1a24:13,99;rateMag24:13,99;rataFinale:14,20;importoPartner:;fasciaPartner:;importoW3:\taction_id:[72711323791];action_name:[Notify tripla i to farc];system:[farc];TRIPLA_I:2660367_357066602363236_20250219;TOTAL_AMOUNT:599.9;ENTRY_FEE:179.99\taction_id:[72711323777];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:2660367_357066602363236_20250219;CONTRATTO:2660367;IMEI:357066602363236\t357066602363236\taction_id:[72711860200];action_name:[Create Subscription Reconnect];system:[igp];x-trace-token:72711860200;externalId:1649721346536;planCode:F8;duration:;itemCode:0TSAGA24OU7081;imei:357066602363236;amount:769.9;phoneNumber:3286666621\taction_id:[72711868852];action_name:[Create Invoice Farc New Free];system:[farc];INTEGRATION_ID_ROPZ:1649721346536;INTEGRATION_ID_CPE:;INSTALLMENT_NUMBER:24;INSTALLMENT_AMOUNT:6.99;INTEGRATION_ID_BE:1649721346541;INTEGRATION_ID_TC:103716858244;CODICE_ROPZ_PROMO:ROPZ4805;ACTIVATION_DATE:19/02/2025;CODICE_IMEI:357066602363236;CODICE_ROPZ:ROPZ4749;REASON:\t\n0\t0\t0\t0\t0\t2\t1-649721093028\tintegration_id=103716857975\t\t\t\t\t\t3720501765\tChange Order\t19/02/2025 16:08:52,393863\t3720509275\tMobile Provisioning\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taction_id:[72711338609];action_name:[Notify tripla i to farc];system:[farc];TRIPLA_I:2660367_357066602363236_20250219;TOTAL_AMOUNT:599.9;ENTRY_FEE:179.99\taction_id:[72711338604];action_name:[Notify Event to GSI];system:[gsi];TRIPLA_I:2660367_357066602363236_20250219;CONTRATTO:2660367;IMEI:357066602363236\t357066602363236\t\t\t\n"
      }
    ]
  },
  {
    "id": "14",
    "nomeCapitolo": "ESTRAZIONI FISSO B2B",
    "paragrafi": [
      {
        "id": "14.1",
        "nomeParagrafo": "Estrazione codice pin da id ordine o request id",
        "codicePlSql": "select \n  extractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:idCommercialOrder','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"')as idCommercialOrder,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/@tipo','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"')as tipo_ordine,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/@sottotipo','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as sottotipo_ordine,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:bssOrder','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as bssOrder,\nextractValue(xmltype(d.document_xml),'ns0:commercialOrder/ns0:order/ns0:causaleOrdine','xmlns:ns0=\"http://phoenix.wind.it/common/CommercialOrder\"') as causale_ordine\n,p.codicePin\n  from \nrequest_hs a,request_doc_hs d,\naction_hs b,\nrequest_hs c\n,XMLTable(xmlnamespaces( \n 'http://phoenix.wind.it/common/CommercialOrder' as \"ns0\" \n),\n              '/ns0:commercialOrder/ns0:order//descendant::*/*[@tipo=\"TE\" and @sottoTipo=\"DATLA\"]'\n              PASSING XMLTYPE(d.document_xml)\n              COLUMNS\n                codicePin VARCHAR2(50) PATH 'ns0:codicePin'\n                ) p         \nwhere 1=1 and\na.id=c.root_id and\nc.id=b.request_id and\na.name='In Order' and \nb.name='Send Start Pin to CRM' and \nc.name='Service Provisioning'  and \nd.id=a.document_id and",
        "outPutSql": "IDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tBSSORDER\tCAUSALE_ORDINE\tCODICEPIN\n1-629047550831\tAttivazione\tAttivazione\tY\tPrima Attivazione\tFWI0997776822001"
      }
    ]
  },
  {
    "id": "15",
    "paragrafi": [
      {
        "id": "15.1",
        "nomeParagrafo": "Estrazioni ordini Large FWA",
        "codicePlSql": "select * from request r, request_doc rd\nwhere \nr.name in ('In Order')\n--r.name in ('Change Provisioning')\n and r.document_id = rd.id \nand rd.document_xml like '%<ns0:tipoServizio>WINDCONNECT</ns0:tipoServizio>%' \nand rd.document_xml like '%tipo=\"TE\" sottoTipo=\"FWAENT%'\n--and  exists (select 1 from request z where z.root_id = r.id and z.name = 'Service Provisioning' and z.status = 'SA')\n--and  exists (select 1 from request z where z.root_id = r.id and z.name = 'Network' and z.status = 'SA')\n--and status = 'SA'\nand r.ts_created>to_date('20/01/2025', 'dd/mm/yyyy')\nand r.status='SA'\nand rownum <2",
        "outPutSql": "Incolla qui la tua tabella"
      }
    ],
    "nomeCapitolo": "ANALISI FWA"
  },
  {
    "id": "16",
    "nomeCapitolo": "SPOOL SU FILE",
    "paragrafi": [
      {
        "id": "16.1",
        "nomeParagrafo": "spool su file",
        "codicePlSql": "SPOOL C:\\Users\\massimiliano.ranaldi\\output.txt;\n \nselect a.id,b.message_xml from action a,action_msg b \nwhere a.system='farc' and a.status='SA' and a.request_id=2768936401 and \nb.id=a.message_id;\n \nSPOOL OFF;",
        "outPutSql": "Incolla qui la tua tabella"
      }
    ]
  },
  {
    "id": "17",
    "nomeCapitolo": "ANALISI ACCOUNT MANAGEMENT",
    "paragrafi": [
      {
        "id": "17.1",
        "nomeParagrafo": "Estrazione eventi di account management",
        "codicePlSql": "\n\n       select distinct a.name,a.cfg_id,\n       case when cfg_id in (99,264) then\n       extractvalue(xmltype(b.document_xml),'descendant::eventCode[2]','xmlns:ns0=\"http://phoenix.wind.it/esb/AccountManagement\"') || '-' ||\n       extractvalue(xmltype(b.document_xml),'descendant::eventType[2]','xmlns:ns0=\"http://phoenix.wind.it/esb/AccountManagement\"') \n       else \n              extractvalue(xmltype(b.document_xml),'descendant::eventCode',' ')   || '-' ||\n       extractvalue(xmltype(b.document_xml),'descendant::eventType',' ') \n       end event\n       from request a, request_doc b \n       where \n       1=1\n       --and a.name='Create New Customer' \n       and rownum<400 and a.ts_created>sysdate-5\n       and b.id=a.document_id\n       and \n       a.cfg_id in \n          (\n           4,\n           5,\n           6,\n           7,\n           8,\n           9,\n           18,\n           20,\n           21,99,264\n           ) order by 1 ",
        "outPutSql": "\nNAME\tCFG_ID\tEVENT\nConsistency Alignment\t264\tP02-B01\nConsistency Alignment\t264\tP03-B01\nConsistency Alignment\t264\tP01-B01\nCreate New Billing Account\t20\tP03-01\nCreate New Customer\t4\tP01-01\nCreate New Site\t5\tP02-01\nCreate New Site Referent\t6\tP04-01\nModify Billing Account\t21\tP03-02\nModify Customer\t8\tP01-02\nModify Referent\t7\tP04-02\nModify Site\t9\tP02-02\n\n"
      }
    ]
  },
  {
    "id": "18",
    "nomeCapitolo": "ANALISI ORDINI NON WA CON AMOB",
    "paragrafi": [
      {
        "id": "18.1",
        "nomeParagrafo": "Estrazione ordini non FWA con AMOB",
        "codicePlSql": "\tselect * from request r, request_doc rd\nwhere \nr.name in ('In Order', 'Extend Order')\n--r.name in ('Change Provisioning')\nand r.document_id = rd.id \nand rd.document_xml like '%<ns0:tipoServizio>WINDCONNECT</ns0:tipoServizio>%' \n--and rd.document_xml like '%tipo=\"TE\" sottoTipo=\"FWAENT3%' ---FWAENT2, FWAENT, FWAENT1  per FWA\nand rd.document_xml like '%tipo=\"TE\" sottoTipo=\"MOB\"%' ---per non FWA\n--and  exists (select 1 from request z where z.root_id = r.id and z.name = 'Service Provisioning' and z.status = 'SA')\n--and  exists (select 1 from request z where z.root_id = r.id and z.name = 'Network' )-- and z.status = 'SA')\nand status = 'SA'\nand r.ts_created>to_date('20/01/2025', 'dd/mm/yyyy')\nand rownum<10;",
        "outPutSql": "Incolla qui la tua tabella"
      }
    ]
  },
  {
    "id": "19",
    "nomeCapitolo": "ANALISI ORDINI CONSUMER",
    "paragrafi": [
      {
        "id": "19.1",
        "nomeParagrafo": "Estrazione ordine fisso andata e esiti",
        "codicePlSql": "SELECT \n  x.idordine,\n  x.casualeordine,\n  x.servizio,\n  ps.objid        AS psobjid,\n  ps.azione       AS psazione,\n  ps.causale      AS pscausale,\n  ps.tipops       AS pstipo,\n  esito.codice_esito AS codice_esito, \n  esito.codice_esito_crm as codice_esito_crm,\n  esito.codice_tipoEsito as tipoEsito,\n  esito.codice_statoEsito as statoEsito\nFROM (\n        select XMLTYPE(d.message_xml) AS xml_data from action a,detail b ,request c,action_msg d\n        where a.name='Send Order to WPG' and \n        a.status='SA' and \n        a.ts_created>sysdate-40 and \n        B.NAME='id_odl_crm' and \n        b.value='1-652239205054' and\n        b.root_id=c.root_id and\n        c.id=a.request_id and \n        c.name='Wireline Provisioning' and\n        d.id=a.message_id\n) t,\nXMLTABLE(\n  XMLNAMESPACES(\n    'http://www.tibco.com/schemas/esb2CnsSdc/esb2CnsSdc/resource/xsd/emfWpgCompleteOut.xsd' AS \"ns0\",\n    'http://wpg-si.wind.com/Schemas/PhoenixMessage' AS \"ns1\"\n  ),\n  '/ns0:ESB2WPG/ns0:messageXml/ns1:MESSAGE/ns1:ORDINE'\n  PASSING t.xml_data\n  COLUMNS\n    idordine       VARCHAR2(50) PATH 'ns1:ID_CRM_ORDINE',\n    casualeordine  VARCHAR2(10) PATH 'ns1:CAUSALE',\n    servizio       VARCHAR2(10) PATH 'ns1:CODICE_SERVIZIO',\n    prodotti       XMLTYPE      PATH 'ns1:CONTRATTO_WIND/ns1:SEDE/ns1:PRODOTTO_SERVIZIO'\n) x,\nXMLTABLE(\n  XMLNAMESPACES('http://wpg-si.wind.com/Schemas/PhoenixMessage' AS \"ns1\"),\n  '/ns1:PRODOTTO_SERVIZIO'\n  PASSING x.prodotti\n  COLUMNS\n    objid   VARCHAR2(50) PATH 'ns1:OBJID',\n    azione  VARCHAR2(10) PATH 'ns1:TIPO_AZIONE',\n    causale VARCHAR2(10) PATH 'ns1:CAUSALE',\n    tipops  VARCHAR2(20) PATH 'ns1:TIPOLOGIA_PS'\n) ps\n--\n-- Subquery per estrarre il codice esito, utilizzando l'objid\n,(\n  SELECT \n    objid,\n    esito.codice_esito,\n    esito.codice_esito_crm,\n    esito.codice_tipoEsito,\n    esito.codice_statoEsito\n  FROM (\n                select XMLTYPE(d.message_xml) AS esito_xml from action a,detail b ,request c,action_msg d\n            where a.system='wpg' and \n            a.direction='inbound' and\n            B.NAME='id_odl_crm' and \n            b.value='1-652239205054' and\n            b.root_id=c.root_id and\n            c.id=a.request_id and \n            c.name='Wireline Provisioning' and\n            d.id=a.message_id\n  ) esito_data,\n  XMLTABLE(\n    XMLNAMESPACES(\n    'http://wpg-si.wind.com/Schemas/PhoenixResult' AS \"pho\",\n    'http://www.tibco.com/schemas/esb2CnsSdc/esb2CnsSdc/resource/xsd/emfWpgCompleteIn.xsd' AS \"ns0\"\n  ),\n    '/ns0:WPG2ESB'\n    PASSING esito_data.esito_xml\n    COLUMNS\n      objid         VARCHAR2(50) PATH 'ns0:messageXml/pho:MESSAGE/pho:ORDINE/pho:SEDE/pho:PRODOTTO_SERVIZIO/pho:OBJID',\n      codice_esito  VARCHAR2(10) PATH 'ns0:messageXml/pho:MESSAGE/pho:ORDINE/pho:SEDE/pho:PRODOTTO_SERVIZIO/pho:STATO',\n      codice_esito_crm VARCHAR2(10) PATH 'ns0:esbFields/@codiceEsito',\n      codice_tipoEsito VARCHAR2(10) PATH 'ns0:esbFields/@tipoEsito',\n      codice_statoEsito VARCHAR2(10) PATH 'ns0:esbFields/@statoEsitoOkKo'\n  ) esito\n) esito\nWHERE ps.objid(+) = esito.objid  -- Collegamento tra objid dell'ordine di andata e quello dell'esito\nORDER BY ps.objid, esito.codice_esito  -- Ordinamento per objid e codice esito",
        "outPutSql": "IDORDINE\tCASUALEORDINE\tSERVIZIO\tPSOBJID\tPSAZIONE\tPSCAUSALE\tPSTIPO\tCODICE_ESITO\tCODICE_ESITO_CRM\tTIPOESITO\tSTATOESITO\nC-PX-1-652239205054\tC\t1055P\t1574573362510\tC\tC8\tNGA\t104\tWPG_ACCS_1\tDefinitivo\tOK\nC-PX-1-652239205054\tC\t1055P\t1574573362591\tC\tC8\tVOIP\t11B\tWPG_ACCS_1\tDefinitivo\tOK\nC-PX-1-652239205054\tC\t1055P\t1574573362591\tC\tC8\tVOIP\t32\tWPG_ACCS_3\tParziale\tOK\nC-PX-1-652239205054\tC\t1055P\t1574573362591\tC\tC8\tVOIP\t34\tWPG_ACCS_3\tParziale\tOK\nC-PX-1-652239205054\tC\t1055P\t1574573362591\tC\tC8\tVOIP\t5B\tWPG_ACCS_5\tParziale\tOK\nC-PX-1-652239205054\tC\t1055P\t\t\t\t\t\tWPG_ACK_OK\tParziale\tOK\nC-PX-1-652239205054\tC\t1055P\t\t\t\t\t\tWPG_ACQ_OK\tParziale\tOK"
      },
      {
        "id": "19.2",
        "nomeParagrafo": "Estrazione tuti i campi ordine consumer con ATTRIBUTI (da ordine)",
        "codicePlSql": "SELECT \n/*+ \n    PARALLEL(r, 8) \n    PARALLEL(rr, 8) \n    PARALLEL(am, 8) \n    PARALLEL(b, 8)\n    PARALLEL(d, 8)\n    PARALLEL(z, 8)\n*/ \nDISTINCT\n       zz.req_ts_created,\n       zz.idCommercialOrder,\n       zz.tipo_ordine,\n       zz.sottotipo_ordine,\n       zz.causale_ordine,\n       zz.partNum,\n       LEVEL livello,\n       DECODE (LEVEL,\n               1, zz.TIPO || '-' || zz.sottotipo,\n               2, '|__ ' || zz.TIPO || '-' || zz.sottotipo,\n               3, '    |__ ' || zz.TIPO || '-' || zz.sottotipo,\n               4, '       |__ ' || zz.TIPO || '-' || zz.sottotipo,\n               5, '          |__ ' || zz.TIPO || '-' || zz.sottotipo,\n               '             |__ ' || zz.TIPO || '-' || zz.sottotipo)\n          tipo,\n       zz.azione,\n       zz.tipo,\n       zz.sottoTipo,\n       zz.codicePs,\n       zz.descrizionePS,\n       --zz.req_id,\n       --zz.req_status,\n       --zz.req_name,\n       zz.nomeAttributo,\n       zz.azioneAtt,\n       zz.valoreP,\n       zz.valore,\n       zz.componentRoot,\n       zz.integrationid,\n       zz.componentpadre2\n  FROM (SELECT am.idCommercialOrder,\n               am.tipo_ordine,\n               am.sottotipo_ordine,\n               am.causale_ordine,\n               am.req_id,\n               am.req_status,\n               am.req_name,\n               am.req_ts_created,\n               na.nomeAttributo,\n               na.azione AS azioneAtt,\n               na.valoreP,\n               na.valore,\n               p.sottoTipo,\n               p.azione,\n               p.tipo,\n               p.integrationid,\n               p.componentRoot,\n               p.descrizionePS,\n               p.codicePs,\n               p.partNum,\n               CASE WHEN p.tipo = 'PRD' THEN NULL ELSE p.componentPadre END\n                  AS componentpadre2\n          FROM    (SELECT message_xml,\n                          idCommercialOrder,\n                          tipo_ordine,\n                          sottotipo_ordine,\n                          causale_ordine,\n                          req_id,\n                          req_status,\n                          req_name,\n                          req_ts_created,\n                          id\n                     FROM (SELECT am.message_xml,\n                                  am.id,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@id',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS idCommercialOrder,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@tipo',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS tipo_ordine,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@sottotipo',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS sottotipo_ordine,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@causale',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS causale_ordine,\n                                  r.id req_id,\n                                  r.status req_status,\n                                  r.name req_name,\n                                  r.ts_created req_ts_created\n                             FROM action r,\n                                  request rr,\n                                  action_msg am,\n                                  (SELECT a.name AS act_name,\n                                          a.request_id req_root_id\n                                     FROM action a, detail b, request d\n                                    WHERE     a.request_id = b.root_id\n                                          AND b.VALUE IN ('1-653007416322')\n                                          AND b.name = 'id_odl_crm'\n                                          AND d.id = a.request_id\n                                          AND a.cfg_id =\n                                                 (SELECT MIN (id)\n                                                    FROM cfg_action z\n                                                   WHERE z.request_id =\n                                                            d.cfg_id\n                                                         AND z.SYSTEM =\n                                                                'siebel'\n                                                         AND Z.ENDPOINT =\n                                                                'queue.siebel.cns.in')) cfg_det\n                            WHERE     r.name = cfg_det.act_name\n                                  AND RR.ID = r.request_id\n                                  AND am.id = r.message_id\n                                  AND rr.root_id = cfg_det.req_root_id) a\n                    WHERE idcommercialorder IS NOT NULL) am\n               JOIN\n                  XMLTABLE (\n                     xmlnamespaces (\n                        'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\",    default  'http://schemas.xmlsoap.org/soap/envelope/'\n    ),\n                  'ns0:commercialOrderCns/ns0:order//ns0:lineitem'\n                  PASSING XMLTYPE(am.message_xml)\n                  COLUMNS\n                    azione VARCHAR2(50) PATH '@azione'\n                    ,integrationId VARCHAR2(50) PATH '@integrationId'\n                    ,componentRoot VARCHAR2(50) PATH '@rootIntegrationId'\n                    ,componentPadre VARCHAR2(50) PATH '@parentIntegrationId'\n                    ,descrizionePS VARCHAR2(50) PATH '@idOfferta'\n                    ,tipo VARCHAR2(50) PATH '@tipo'\n                     ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                     ,codicePs VARCHAR2(50) PATH '@descrizione'\n                      ,partNum VARCHAR2(50) PATH '@partNum'\n                     ,nomeAttributi XMLTYPE PATH '*:lineitemAttribute'\n                    )\n    p  on p.tipo in('PRD','TC') and p.sottotipo in ('CPEMCNS','CPECCNS')  LEFT JOIN  XMLTABLE(\n                                                                '/*'\n                                                                PASSING p.nomeAttributi\n                                                                COLUMNS\n                                                                    nomeAttributo VARCHAR2(255) PATH '@nome'\n                                                                   , azione VARCHAR2(255) path '@azione'\n                                                                   , valoreP VARCHAR2(255) path '@valoreOld'\n                                                                   , valore VARCHAR2(255) path '@valore'\n                                                            )\n                                                         na ON \n                                                         na.nomeAttributo IN ('IMEI', 'Codice Materiale', 'Tipologia Terminale')\n)zz \n                        START WITH\n                        zz.componentPadre2 is null\n                        CONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\n                        order by livello,componentPadre2,integrationId",
        "outPutSql": "REQ_TS_CREATED\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tPARTNUM\tLIVELLO\tTIPO\tAZIONE\tTIPO_1\tSOTTOTIPO\tCODICEPS\tDESCRIZIONEPS\tREQ_ID\tREQ_STATUS\tREQ_NAME\tNOMEATTRIBUTO\tAZIONEATT\tVALOREP\tVALORE\tCOMPONENTROOT\tINTEGRATIONID\tCOMPONENTPADRE2\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP1\t1\tPRD-WLESSCNS\tModify\tPRD\tWLESSCNS\tMobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\tData Inserimento Contestuale CPE\t-\t01/01/1900 00:00\t01/01/1900 00:00\t1,54019E+12\t1,54019E+12\t\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP1\t1\tPRD-WLESSCNS\tModify\tPRD\tWLESSCNS\tMobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\tMIGRATO\t-\tN\tN\t1,54019E+12\t1,54019E+12\t\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP1\t1\tPRD-WLESSCNS\tModify\tPRD\tWLESSCNS\tMobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\tPresenza CPE\tModify\tN\tY\t1,54019E+12\t1,54019E+12\t\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP8\t1\tPRD-CPEMCNS\tAdd\tPRD\tCPEMCNS\tCPE Mobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\t\t\t\t\t1,65301E+12\t1,65301E+12\t\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP8\t1\tPRD-CPEMCNS\tAdd\tPRD\tCPEMCNS\tCPE Mobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\t\t\t\t\t1,65301E+12\t1,65301E+12\t\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tDati MNP\t-\tN\tN\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tPUK2\t-\t97629817\t97629817\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tPUK\t-\t87706870\t87706870\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tMSISDN Fonia OLD\t-\t\t\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tHLR\t-\t23\t23\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tTipo SIM\t-\tLTE\tLTE\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tServizio Abilitato\t-\tVoce+Dati\tVoce+Dati\t1,54019E+12\t1,54019E+12\t1,54019E+12\n05:18,5\t1-653007416322\tModifica\tVariazione Contrattuale\t\tP2\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\tGREENWICH\t-\tY\tY\t1,54019E+12\t1,54019E+12\t1,54019E+12\n"
      },
      {
        "id": "19.3",
        "nomeParagrafo": "Estrazione tuti i campi ordine consumer SENZA ATTRIBUTI (da ordine)",
        "codicePlSql": "SELECT DISTINCT\n       zz.req_ts_created,\n       zz.idCommercialOrder,\n       zz.tipo_ordine,\n       zz.sottotipo_ordine,\n       zz.causale_ordine,\n       LEVEL livello,\n       DECODE (LEVEL,\n               1, zz.TIPO || '-' || zz.sottotipo,\n               2, '|__ ' || zz.TIPO || '-' || zz.sottotipo,\n               3, '    |__ ' || zz.TIPO || '-' || zz.sottotipo,\n               4, '       |__ ' || zz.TIPO || '-' || zz.sottotipo,\n               5, '          |__ ' || zz.TIPO || '-' || zz.sottotipo,\n               '             |__ ' || zz.TIPO || '-' || zz.sottotipo)\n          tipo,\n       zz.azione,\n       zz.tipo,\n       zz.sottoTipo,\n       zz.codicePs,\n       zz.descrizionePS,\n       zz.req_id,\n       zz.req_status,\n       zz.req_name,\n       --zz.nomeAttributo,\n       --zz.azioneAtt,zz.valoreP,zz.valore,\n       zz.componentRoot,\n       zz.integrationid,\n       zz.partNum,\n       zz.componentpadre2\n  FROM (SELECT am.idCommercialOrder,\n               am.tipo_ordine,\n               am.sottotipo_ordine,\n               am.causale_ordine,\n               am.req_id,\n               am.req_status,\n               am.req_name,\n               am.req_ts_created,\n               --na.nomeAttributo,\n               --        na.azione as azioneAtt,\n               --        na.valoreP,na.valore,\n               p.sottoTipo,\n               p.azione,\n               p.tipo,\n               p.integrationid,\n               p.componentRoot,\n               p.descrizionePS,\n               p.codicePs,\n               p.partNum,\n               CASE WHEN p.tipo = 'PRD' THEN NULL ELSE p.componentPadre END\n                  AS componentpadre2\n          FROM    (SELECT message_xml,\n                          idCommercialOrder,\n                          tipo_ordine,\n                          sottotipo_ordine,\n                          causale_ordine,\n                          req_id,\n                          req_status,\n                          req_name,\n                          req_ts_created,\n                          id\n                     FROM (SELECT am.message_xml,\n                                  am.id,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@id',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS idCommercialOrder,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@tipo',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS tipo_ordine,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@sottotipo',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS sottotipo_ordine,\n                                  EXTRACTVALUE (\n                                     xmltype (message_xml),\n                                     '/ns0:commercialOrderCns/ns0:order/@causale',\n                                     'xmlns:ns0=\"http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd\"')\n                                     AS causale_ordine,\n                                  r.id req_id,\n                                  r.status req_status,\n                                  r.name req_name,\n                                  r.ts_created req_ts_created\n                             FROM action r,\n                                  request rr,\n                                  action_msg am,\n                                  (SELECT a.name AS act_name,\n                                          a.request_id req_root_id\n                                     FROM action a, detail b, request d\n                                    WHERE     a.request_id = b.root_id\n                                          AND b.VALUE IN ('1-653007416322')\n                                          AND b.name = 'id_odl_crm'\n                                          AND d.id = a.request_id\n                                          AND a.cfg_id =\n                                                 (SELECT MIN (id)\n                                                    FROM cfg_action z\n                                                   WHERE z.request_id =\n                                                            d.cfg_id\n                                                         AND z.SYSTEM =\n                                                                'siebel'\n                                                         AND Z.ENDPOINT =\n                                                                'queue.siebel.cns.in')) cfg_det\n                            WHERE     r.name = cfg_det.act_name\n                                  AND RR.ID = r.request_id\n                                  AND am.id = r.message_id\n                                  AND rr.root_id = cfg_det.req_root_id) a\n                    WHERE idcommercialorder IS NOT NULL) am\n               JOIN\n                  XMLTABLE (\n                     xmlnamespaces (\n                        'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\",    default  'http://schemas.xmlsoap.org/soap/envelope/'\n    ),\n                  'ns0:commercialOrderCns/ns0:order//ns0:lineitem'\n                  PASSING XMLTYPE(am.message_xml)\n                  COLUMNS\n                    azione VARCHAR2(50) PATH '@azione'\n                    ,integrationId VARCHAR2(50) PATH '@integrationId'\n                    ,componentRoot VARCHAR2(50) PATH '@rootIntegrationId'\n                    ,componentPadre VARCHAR2(50) PATH '@parentIntegrationId'\n                    ,descrizionePS VARCHAR2(50) PATH '@idOfferta'\n                    ,tipo VARCHAR2(50) PATH '@tipo'\n                     ,sottoTipo VARCHAR2(50) PATH '@sottoTipo'\n                     ,codicePs VARCHAR2(50) PATH '@descrizione'\n                     ,partNum VARCHAR2(50) PATH '@partNum'\n                     ,nomeAttributi XMLTYPE PATH '*:lineitemAttribute'\n                    )\n     p on 1=1 --WHERE p.tipo != 'BE' \n)zz\n                        START WITH\n                        zz.componentPadre2 is null\n                        CONNECT BY PRIOR  zz.integrationid=zz.componentPadre2\n                        order by livello,componentPadre2,integrationId",
        "outPutSql": "REQ_TS_CREATED\tIDCOMMERCIALORDER\tTIPO_ORDINE\tSOTTOTIPO_ORDINE\tCAUSALE_ORDINE\tLIVELLO\tTIPO\tAZIONE\tTIPO_1\tSOTTOTIPO\tCODICEPS\tDESCRIZIONEPS\tREQ_ID\tREQ_STATUS\tREQ_NAME\tCOMPONENTROOT\tINTEGRATIONID\tPARTNUM\tCOMPONENTPADRE2\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t1\tPRD-WLESSCNS\tModify\tPRD\tWLESSCNS\tMobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540186924787\tP1\t\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t1\tPRD-CPEMCNS\tAdd\tPRD\tCPEMCNS\tCPE Mobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443385\tP8\t\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t1\tPRD-CPEMCNS\tAdd\tPRD\tCPEMCNS\tCPE Mobile Wind\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007443907\tP8\t\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t2\t|__ TC-ACCMCNS\t-\tTC\tACCMCNS\tAccesso Mobile CNS\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540186924821\tP2\t1540186924787\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t2\t|__ TC-VDATCNS\tModify\tTC\tVDATCNS\tServizio Mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540186924848\tP3\t1540186924787\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t2\t|__ TC-CPECCNS\tAdd\tTC\tCPECCNS\tCPE Mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443386\tP9\t1653007443385\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t2\t|__ TC-CPECCNS\tAdd\tTC\tCPECCNS\tCPE Mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007443908\tP9\t1653007443907\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tServizio MMS\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004144\tROPZ883\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tServizio LTE CNS\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004364\tROPZ4223\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tSegreteria Telefonica Prepagata\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004384\tROPZ90\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tBlocco numerazioni a tariffazione a sovraprezzo\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004397\tROPZ1022\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-PNTF\t-\tPC\tPNTF\tPOWER\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004409\tLIS456\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\t-\tPC\tOPZ\tOpzione LTE\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004436\tROPZ4795\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tBlocco Chiam Uscenti Prepagato\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187509497\tROPZ111\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tInibiz CentriServizi no Wind\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741508\tROPZ80\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tLimitazione Chiamate Entranti\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741518\tROPZ85\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tLimitazione Chiamate Uscenti\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741529\tROPZ86\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tLimitaz Chiam Internaz Uscenti\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741540\tROPZ87\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tSoglia Dati Roaming\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741551\tROPZ1226\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tSoglia Traffico Dati Nazionale\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741563\tROPZ4021\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\t-\tPC\tOPZ\tSconto SMS My Wind/Canone Listini\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741566\tROPZ4604\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\t-\tPC\tOPZ\tSconto Segreteria Telefonica\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741584\tROPZ4700\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-PARSPE\t-\tTE\tPARSPE\tVoLTE\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1545063811054\tROPZ4796\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\t-\tTE\tOPZTCN\tServizio 5G\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770374109\tROPZ4791\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tRemove\tPC\tOPZ\tOfferta QoS Easy Pay\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770387910\tROPZ4810\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\tAdd\tTE\tOPZTCN\tReload exChange\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443205\tROPZ4851\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tAdd\tPC\tOPZ\tOfferta QoS Easy Pay\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443210\tROPZ4810\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tAdd\tPC\tOPZ\tOpzione Piu' Sicuri Mobile Pro Easy Pay\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443278\tROPZ4862\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tAdd\tPC\tOPZ\tSconto Rata Telefono Incluso PRE New\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443296\tROPZ4881\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\tAdd\tTE\tOPZTCN\tOpzione Tecnica Piu' Sicuri Mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007523471\tROPZ4864\t1540186924848\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-PNTF\tAdd\tPC\tPNTF\tTelefono Incluso\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443425\tP10\t1653007443386\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\tAdd\tTE\tOPZTCN\tOpzione Linea di Credito\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443772\tROPZ4885\t1653007443386\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\tAdd\tTE\tOPZTCN\tPromo costo attivazione TI\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443875\tROPZ4886\t1653007443386\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-PNTF\tAdd\tPC\tPNTF\tTelefono Incluso\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007443957\tP10\t1653007443908\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ TE-OPZTCN\tAdd\tTE\tOPZTCN\tOpzione Linea di Credito\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460148\tROPZ4885\t1653007443908\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tAdd\tPC\tOPZ\tCosto attivazione TI POST\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460161\tROPZ4772\t1653007443908\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tAdd\tPC\tOPZ\tSmartphone Reload Plus\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460171\tROPZ4797\t1653007443908\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t3\t    |__ PC-OPZ\tAdd\tPC\tOPZ\tPromo Reload Plus\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460186\tROPZ4807\t1653007443908\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004145\tP11\t1540187004144\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004365\tP11\t1540187004364\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004388\tP11\t1540187004384\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004400\tP11\t1540187004397\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004410\tP11\t1540187004409\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741602\tP11\t1540187004409\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187004455\tP11\t1540187004436\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187509499\tP11\t1540187509497\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741509\tP11\t1540187741508\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741520\tP11\t1540187741518\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741531\tP11\t1540187741529\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741542\tP11\t1540187741540\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741554\tP11\t1540187741551\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741575\tP11\t1540187741566\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\t-\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1540187741593\tP11\t1540187741584\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tRemove\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770374231\tP11\t1596770387910\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tRemove\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770374244\tP11\t1596770387910\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tRemove\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770374257\tP11\t1596770387910\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tRemove\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770374270\tP11\t1596770387910\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tRemove\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1596770388149\tP11\t1596770387910\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443269\tP11\t1653007443210\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007523575\tP11\t1653007443210\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007523588\tP11\t1653007443210\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007523601\tP11\t1653007443210\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007523614\tP11\t1653007443210\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443287\tP11\t1653007443278\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1540186924787\t1653007443300\tP11\t1653007443296\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione CPE Mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443426\tP13\t1653007443425\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443776\tP11\t1653007443772\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443385\t1653007443876\tP11\t1653007443875\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione CPE Mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007443958\tP13\t1653007443957\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460152\tP11\t1653007460148\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460162\tP11\t1653007460161\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460177\tP11\t1653007460171\n29/03/2025 18:05:18,548860\t1-653007416322\tModifica\tVariazione Contrattuale\t\t4\t       |__ BE-COMBO\tAdd\tBE\tCOMBO\tOggetto di fatturazione mobile\t5034\t73099087297\tSA\tReceive Request Change Order\t1653007443907\t1653007460187\tP11\t1653007460186\n"
      },
      {
        "id": "19.4",
        "nomeParagrafo": "Estrazione tuti i campi ordine consumer CON ATTRIBUTI (da ordine) *** ottimizzata",
        "codicePlSql": "  WITH xml_data AS (\n    SELECT XMLTYPE(am.message_xml) AS xml,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n    FROM action_msg am\n    WHERE am.id = (SELECT am.id\n                    FROM action a,\n                         detail b,\n                         request d,\n                         action_msg am\n                    WHERE a.request_id = b.root_id\n                      AND am.id = a.message_id\n                      AND b.VALUE IN ('1-652465989649')\n                      AND b.name = 'id_odl_crm'\n                      AND d.id = a.request_id\n                      AND a.cfg_id = (SELECT MIN(id)\n                                      FROM cfg_action z\n                                      WHERE z.request_id = d.cfg_id\n                                        AND z.SYSTEM = 'siebel'\n                                        AND z.ENDPOINT = 'queue.siebel.cns.in'))\n),\nlineitems_flat AS (\n    SELECT\n        li.integrationId,\n        li.rootIntegrationId,\n        li.parentIntegrationId,\n        li.tipo,\n        li.sottoTipo,\n        li.descrizione,\n        li.partNum,\n        li.xml_fragment,\n        x.idordine,\n        x.sottotipoordine,\n        x.tipoordine\n    FROM xml_data x,\n         XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '//ns0:lineitem'\n            PASSING x.xml\n            COLUMNS\n                integrationId        VARCHAR2(50) PATH '@integrationId',\n                rootIntegrationId    VARCHAR2(50) PATH '@rootIntegrationId',\n                parentIntegrationId  VARCHAR2(50) PATH '@parentIntegrationId',\n                tipo                 VARCHAR2(50) PATH '@tipo',\n                sottoTipo            VARCHAR2(50) PATH '@sottoTipo',\n                descrizione          VARCHAR2(100) PATH '@descrizione',\n                partNum              VARCHAR2(100) PATH '@partNum',\n                xml_fragment         XMLTYPE      PATH '.'\n        ) li \n),\nlineitem_hierarchy AS (\n    SELECT\n        lf.integrationId,\n        lf.rootIntegrationId,\n        lf.parentIntegrationId,\n        lf.tipo,\n        lf.sottoTipo,\n        lf.descrizione,\n        lf.partNum,\n        lf.xml_fragment,\n        lf.idordine,\n        lf.sottotipoordine,\n        lf.tipoordine,\n        LEVEL AS depth,\n        LPAD(' ', (LEVEL - 1) * 4) AS indent_line\n    FROM lineitems_flat lf\n    CONNECT BY NOCYCLE PRIOR integrationId = lf.parentIntegrationId\n    START WITH integrationId = parentIntegrationId\n),\nlineitem_attributes AS (\n    SELECT\n        lh.integrationId AS lineitem_id,\n        lh.indent_line,\n        lh.tipo,\n        lh.sottoTipo,\n        lh.descrizione,\n        lh.partNum,\n        lh.depth,\n        lh.idordine,\n        lh.sottotipoordine,\n        lh.tipoordine,        \n        attr.nome,\n        attr.valore,\n        attr.azione,\n        attr.id\n    FROM lineitem_hierarchy lh\n    LEFT JOIN XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '/ns0:lineitem/ns0:lineitemAttribute | //lineitemAttribute'\n            PASSING lh.xml_fragment\n            COLUMNS\n                nome    VARCHAR2(100) PATH '@nome',\n                azione  VARCHAR2(10)  PATH '@azione',\n                id      VARCHAR2(50)  PATH '@id',\n                valore  VARCHAR2(50)  PATH '@valore'\n         ) attr\n    ON 1=1 --(lh.integrationId = attr.id)  -- JOIN conditio for extracting attributes based on lineitem\n)\nSELECT DISTINCT\n    indent_line || tipo AS \"Tipo (Indented)\",\n    indent_line || sottoTipo AS \"SottoTipo (Indented)\",\n    nome,\n    descrizione,\n    partNum,\n    azione,\n    valore,\n    idordine,\n    sottotipoordine,\n    tipoordine,\n    id,\n    lineitem_id,\n    depth\nFROM lineitem_attributes\n--where tipo IN ( 'TC')\nORDER BY depth, lineitem_id, id",
        "outPutSql": "Tipo (Indented)\tSottoTipo (Indented)\tNOME\tDESCRIZIONE\tPARTNUM\tAZIONE\tVALORE\tIDORDINE\tSOTTOTIPOORDINE\tTIPOORDINE\tID\tLINEITEM_ID\tDEPTH\n    TC\t    ACCMCNS\tCapacità\tAccesso Mobile CNS\tP2\t-\t128\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMA\t1,54497E+12\t2\n    TC\t    ACCMCNS\tCodice SAP\tAccesso Mobile CNS\tP2\t-\t\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMB\t1,54497E+12\t2\n    TC\t    ACCMCNS\tDati MNP\tAccesso Mobile CNS\tP2\tModify\tY\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMC\t1,54497E+12\t2\n    TC\t    ACCMCNS\tDealer Name\tAccesso Mobile CNS\tP2\t-\t\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMD\t1,54497E+12\t2\n    TC\t    ACCMCNS\tFonia Infostrada\tAccesso Mobile CNS\tP2\t-\tN\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTME\t1,54497E+12\t2\n    TC\t    ACCMCNS\tGREENWICH\tAccesso Mobile CNS\tP2\t-\tY\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMF\t1,54497E+12\t2\n    TC\t    ACCMCNS\tHLR\tAccesso Mobile CNS\tP2\t-\t25\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMG\t1,54497E+12\t2\n    TC\t    ACCMCNS\tICCID\tAccesso Mobile CNS\tP2\t-\t8,93988E+18\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMH\t1,54497E+12\t2\n    TC\t    ACCMCNS\tICCID Sap\tAccesso Mobile CNS\tP2\t-\t\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMI\t1,54497E+12\t2\n    TC\t    ACCMCNS\tIMSI\tAccesso Mobile CNS\tP2\t-\t2,22881E+14\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMJ\t1,54497E+12\t2\n    TC\t    ACCMCNS\tMSISDN Fonia OLD\tAccesso Mobile CNS\tP2\t-\t\t1-652465989649\tVariazione Contrattuale\tModifica\t1-8BQLRTMK\t1,54497E+12\t2\n"
      },
      {
        "id": "19.5",
        "nomeParagrafo": "Estrazione tuti i campi ordine consumer SENZA ATTRIBUTI (da ordine) *** ottimizzata",
        "codicePlSql": "WITH xml_data AS (\n    SELECT XMLTYPE(am.message_xml) AS xml,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n    FROM action_msg am\n    WHERE am.id = (SELECT am.id\n                    FROM action a,\n                         detail b,\n                         request d,\n                         action_msg am\n                    WHERE a.request_id = b.root_id\n                      AND am.id = a.message_id\n                      AND b.VALUE IN ('1-652465989649')\n                      AND b.name = 'id_odl_crm'\n                      AND d.id = a.request_id\n                      AND a.cfg_id = (SELECT MIN(id)\n                                      FROM cfg_action z\n                                      WHERE z.request_id = d.cfg_id\n                                        AND z.SYSTEM = 'siebel'\n                                        AND z.ENDPOINT = 'queue.siebel.cns.in'))\n),\nlineitems_flat AS (\n    SELECT\n        li.integrationId,\n        li.rootIntegrationId,\n        li.parentIntegrationId,\n        li.tipo,\n        li.sottoTipo,\n        li.descrizione,\n        li.partNum,\n        li.xml_fragment,\n        x.idordine,\n        x.sottotipoordine,\n        x.tipoordine\n    FROM xml_data x,\n         XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '//ns0:lineitem'\n            PASSING x.xml\n            COLUMNS\n                integrationId        VARCHAR2(50) PATH '@integrationId',\n                rootIntegrationId    VARCHAR2(50) PATH '@rootIntegrationId',\n                parentIntegrationId  VARCHAR2(50) PATH '@parentIntegrationId',\n                tipo                 VARCHAR2(50) PATH '@tipo',\n                sottoTipo            VARCHAR2(50) PATH '@sottoTipo',\n                descrizione          VARCHAR2(100) PATH '@descrizione',\n                partNum              VARCHAR2(100) PATH '@partNum',\n                xml_fragment         XMLTYPE      PATH '.' -- Include il frammento XML\n        ) li \n),\nlineitem_hierarchy AS (\n    SELECT\n        lf.integrationId,\n        lf.rootIntegrationId,\n        lf.parentIntegrationId,\n        lf.tipo,\n        lf.sottoTipo,\n        lf.descrizione,\n        lf.partNum,\n        lf.xml_fragment,\n        lf.idordine,\n        lf.sottotipoordine,\n        lf.tipoordine,\n        LEVEL AS depth,\n        LPAD(' ', (LEVEL - 1) * 4) AS indent_line\n    FROM lineitems_flat lf\n    CONNECT BY NOCYCLE PRIOR integrationId = lf.parentIntegrationId\n    START WITH integrationId = parentIntegrationId\n)\nSELECT DISTINCT\n    indent_line || tipo AS \"Tipo (Indented)\",\n    indent_line || sottoTipo AS \"SottoTipo (Indented)\",\n    descrizione,\n    partNum,\n    idordine,\n    sottotipoordine,\n    tipoordine,\n    integrationId AS lineitem_id,\n    depth\nFROM lineitem_hierarchy\nORDER BY depth, lineitem_id",
        "outPutSql": "Tipo (Indented)\tSottoTipo (Indented)\tDESCRIZIONE\tPARTNUM\tIDORDINE\tSOTTOTIPOORDINE\tTIPOORDINE\tLINEITEM_ID\tDEPTH\nPRD\tWLESSCNS\tMobile Wind\tP1\t1-652465989649\tVariazione Contrattuale\tModifica\t1544972687164\t1\nPRD\tCPEMCNS\tCPE Mobile Wind\tP8\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626461\t1\nPRD\tCPEMCNS\tCPE Mobile Wind\tP8\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626760\t1\n    TC\t    ACCMCNS\tAccesso Mobile CNS\tP2\t1-652465989649\tVariazione Contrattuale\tModifica\t1544972687168\t2\n    TC\t    VDATCNS\tServizio Mobile\tP3\t1-652465989649\tVariazione Contrattuale\tModifica\t1544972687195\t2\n    TC\t    CPECCNS\tCPE Mobile\tP9\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626462\t2\n    TC\t    CPECCNS\tCPE Mobile\tP9\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626761\t2\n        TE\t        OPZTCN\tSegreteria Telefonica Prepagata\tROPZ90\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018478\t3\n        TE\t        OPZTCN\tServizio MMS\tROPZ883\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018491\t3\n        TE\t        OPZTCN\tBlocco numerazioni a tariffazione a sovraprezzo\tROPZ1022\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018501\t3\n        TE\t        MNPINCNS\tDati MNP\tP7\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018513\t3\n        PC\t        OPZ\tOfferta Mobile D\tROPZ4781\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018558\t3\n        PC\t        PNTF\tNEW BASIC\tLIS457\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018565\t3\n        TE\t        OPZTCN\tSoglia Dati Roaming\tROPZ1226\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049594\t3\n        TE\t        OPZTCN\tSoglia Traffico Dati Nazionale\tROPZ4021\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049606\t3\n        TE\t        OPZTCN\tServizio LTE CNS\tROPZ4223\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049609\t3\n        PC\t        OPZ\tSconto SMS My Wind/Canone Listini\tROPZ4604\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049619\t3\n        PC\t        OPZ\tSconto Segreteria Telefonica\tROPZ4700\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049637\t3\n        TE\t        PARSPE\tVoLTE\tROPZ4796\t1-652465989649\tVariazione Contrattuale\tModifica\t1577092345661\t3\n        TE\t        OPZTCN\tServizio 5G\tROPZ4791\t1-652465989649\tVariazione Contrattuale\tModifica\t1595195617578\t3\n        TE\t        OPZTCN\tReload exChange\tROPZ4851\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626378\t3\n        PC\t        OPZ\tOfferta QoS Easy Pay\tROPZ4810\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626383\t3\n        PC\t        OPZ\tOpzione Piu' Sicuri Mobile Easy Pay\tROPZ4858\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626401\t3\n        PC\t        OPZ\tSconto Rata Telefono Incluso PRE New\tROPZ4881\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626419\t3\n        PC\t        PNTF\tTelefono Incluso\tP10\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626501\t3\n        PC\t        OPZ\tSmartphone Reload Plus\tROPZ4797\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626690\t3\n        PC\t        OPZ\tPromo Reload Plus\tROPZ4807\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626705\t3\n        TE\t        OPZTCN\tOpzione Linea di Credito\tROPZ4885\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626715\t3\n        TE\t        OPZTCN\tPromo costo attivazione TI\tROPZ4886\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626728\t3\n        PC\t        PNTF\tTelefono Incluso\tP10\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626800\t3\n        PC\t        OPZ\tSmartphone Reload Plus\tROPZ4797\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626991\t3\n        PC\t        OPZ\tPromo Reload Plus\tROPZ4807\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466627006\t3\n        TE\t        OPZTCN\tOpzione Linea di Credito\tROPZ4885\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466627016\t3\n        PC\t        OPZ\tCosto attivazione TI POST\tROPZ4772\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466627029\t3\n        TE\t        OPZTCN\tOpzione Tecnica Piu' Sicuri Mobile\tROPZ4864\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466694725\t3\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\tSKIP1544973018558\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018482\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018492\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018504\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973018566\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049597\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049610\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049628\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049646\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1544973049655\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626392\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626410\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626423\t4\n            BE\t            COMBO\tOggetto di fatturazione CPE Mobile\tP13\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626502\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626696\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626706\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626719\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626729\t4\n            BE\t            COMBO\tOggetto di fatturazione CPE Mobile\tP13\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626801\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466626997\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466627007\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466627020\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466627030\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466694764\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466694777\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466694790\t4\n            BE\t            COMBO\tOggetto di fatturazione mobile\tP11\t1-652465989649\tVariazione Contrattuale\tModifica\t1652466694803\t4\n"
      },
      {
        "id": "19.6",
        "nomeParagrafo": "Estrazione tuti i campi ordine consumer CON ATTRIBUTI (da ordine) *** ottimizzata STORICO",
        "codicePlSql": "  WITH xml_data AS (\n    SELECT XMLTYPE(am.message_xml) AS xml,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@id','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') idordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@sottotipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') sottotipoordine,\n           extractValue(xmltype(am.message_xml),'ns0:commercialOrderCns/ns0:order/@tipo','xmlns:ns0=http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd') tipoordine\n    FROM action_msg_hs am\n    WHERE am.id = (SELECT am.id\n                    FROM action_hs a,\n                         detail_hs b,\n                         request_hs d,\n                         action_msg_hs am\n                    WHERE a.request_id = b.root_id\n                      AND am.id = a.message_id\n                      AND b.VALUE IN ('1-651631795913')\n                      AND b.name = 'id_odl_crm'\n                      AND d.id = a.request_id\n                      AND a.cfg_id = (SELECT MIN(cfg_id)\n                                      FROM action_hs z \n                                      WHERE z.request_id = d.root_id\n                                        AND z.SYSTEM = 'siebel'\n                                        AND z.direction = 'inbound'))\n),\nlineitems_flat AS (\n    SELECT\n        li.integrationId,\n        li.rootIntegrationId,\n        li.parentIntegrationId,\n        li.tipo,\n        li.sottoTipo,\n        li.descrizione,\n        li.partNum,\n        li.xml_fragment,\n        x.idordine,\n        x.sottotipoordine,\n        x.tipoordine\n    FROM xml_data x,\n         XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '//ns0:lineitem'\n            PASSING x.xml\n            COLUMNS\n                integrationId        VARCHAR2(50) PATH '@integrationId',\n                rootIntegrationId    VARCHAR2(50) PATH '@rootIntegrationId',\n                parentIntegrationId  VARCHAR2(50) PATH '@parentIntegrationId',\n                tipo                 VARCHAR2(50) PATH '@tipo',\n                sottoTipo            VARCHAR2(50) PATH '@sottoTipo',\n                descrizione          VARCHAR2(100) PATH '@descrizione',\n                partNum              VARCHAR2(100) PATH '@partNum',\n                xml_fragment         XMLTYPE      PATH '.'\n        ) li \n),\nlineitem_hierarchy AS (\n    SELECT\n        lf.integrationId,\n        lf.rootIntegrationId,\n        lf.parentIntegrationId,\n        lf.tipo,\n        lf.sottoTipo,\n        lf.descrizione,\n        lf.partNum,\n        lf.xml_fragment,\n        lf.idordine,\n        lf.sottotipoordine,\n        lf.tipoordine,\n        LEVEL AS depth,\n        LPAD(' ', (LEVEL - 1) * 4) AS indent_line\n    FROM lineitems_flat lf\n    CONNECT BY NOCYCLE PRIOR integrationId = lf.parentIntegrationId\n    START WITH integrationId = parentIntegrationId\n),\nlineitem_attributes AS (\n    SELECT\n        lh.integrationId AS lineitem_id,\n        lh.indent_line,\n        lh.tipo,\n        lh.sottoTipo,\n        lh.descrizione,\n        lh.partNum,\n        lh.depth,\n        lh.idordine,\n        lh.sottotipoordine,\n        lh.tipoordine,        \n        attr.nome,\n        attr.valore,\n        attr.azione,\n        attr.id\n    FROM lineitem_hierarchy lh\n    LEFT JOIN XMLTABLE(\n            XMLNAMESPACES(\n                'http://phoenix.wind.it/esb/commercialOrderCns/emfSiebelschema.xsd' AS \"ns0\"\n            ),\n            '/ns0:lineitem/ns0:lineitemAttribute | //lineitemAttribute'\n            PASSING lh.xml_fragment\n            COLUMNS\n                nome    VARCHAR2(100) PATH '@nome',\n                azione  VARCHAR2(10)  PATH '@azione',\n                id      VARCHAR2(50)  PATH '@id',\n                valore  VARCHAR2(50)  PATH '@valore'\n         ) attr\n    ON 1=1 --(lh.integrationId = attr.id)  -- JOIN conditio for extracting attributes based on lineitem\n)\nSELECT DISTINCT\n    indent_line || tipo AS \"Tipo (Indented)\",\n    indent_line || sottoTipo AS \"SottoTipo (Indented)\",\n    nome,\n    descrizione,\n    partNum,\n    azione,\n    valore,\n    idordine,\n    sottotipoordine,\n    tipoordine,\n    id,\n    lineitem_id,\n    depth\nFROM lineitem_attributes\n--where tipo IN ( 'PC')\nORDER BY depth, lineitem_id, id,partnum",
        "outPutSql": "Tipo (Indented)\tSottoTipo (Indented)\tNOME\tDESCRIZIONE\tPARTNUM\tAZIONE\tVALORE\tIDORDINE\tSOTTOTIPOORDINE\tTIPOORDINE\tID\tLINEITEM_ID\tDEPTH\nPRD\tWLESSCNS\tData Inserimento Contestuale CPE\tMobile Wind\tP1\t-\t01/01/1900 00:00\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSQVP5\t1,58577E+12\t1\nPRD\tWLESSCNS\tMIGRATO\tMobile Wind\tP1\t-\tN\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSQVP6\t1,58577E+12\t1\nPRD\tWLESSCNS\tPresenza CPE\tMobile Wind\tP1\tModify\tY\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSQVP7\t1,58577E+12\t1\nPRD\tCPEMCNS\t\tCPE Mobile Wind\tP8\t\t\t1-651631795913\tVariazione Contrattuale\tModifica\t\t1,65163E+12\t1\n    TC\t    ACCMCNS\tAllegati\tAccesso Mobile CNS\tP2\t-\tN\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSRGNJ\t1,58577E+12\t2\n    TC\t    ACCMCNS\tBuild\tAccesso Mobile CNS\tP2\t-\t56\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSRGNK\t1,58577E+12\t2\n    TC\t    ACCMCNS\tCapacità\tAccesso Mobile CNS\tP2\t-\t128\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSRGNL\t1,58577E+12\t2\n    TC\t    ACCMCNS\tCodice SAP\tAccesso Mobile CNS\tP2\t-\t\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSRGNM\t1,58577E+12\t2\n    TC\t    ACCMCNS\tDati MNP\tAccesso Mobile CNS\tP2\t-\tY\t1-651631795913\tVariazione Contrattuale\tModifica\t1-8BCSRGNN\t1,58577E+12\t2"
      }
    ]
  }
]